
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>AngularJs中组件---component的相关总结 | GCidea&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Gao Chang">
    

    
    <meta name="description" content="前言　　组件component是AngularJs中一个非常重要的概念，一个项目的前端代码结构可以完全以组件component为单位进行实现，也就是说项目的不同页面（比如列表页、详情页、编辑页）或者通用功能（比如表格渲染组件、分页组件）都可以设计为一个独立的component，再通过路由配置关联起来，实现功能需求。本篇以AngularJs官方文档为根据，对组件相关内容进行总结。

综述　　在Ang">
<meta property="og:type" content="article">
<meta property="og:title" content="AngularJs中组件---component的相关总结">
<meta property="og:url" content="http://yoursite.com/2016/08/17/angular-component/index.html">
<meta property="og:site_name" content="GCidea's blog">
<meta property="og:description" content="前言　　组件component是AngularJs中一个非常重要的概念，一个项目的前端代码结构可以完全以组件component为单位进行实现，也就是说项目的不同页面（比如列表页、详情页、编辑页）或者通用功能（比如表格渲染组件、分页组件）都可以设计为一个独立的component，再通过路由配置关联起来，实现功能需求。本篇以AngularJs官方文档为根据，对组件相关内容进行总结。

综述　　在Ang">
<meta property="og:image" content="http://7xrz3r.com1.z0.glb.clouddn.com/angular-component.png">
<meta property="og:updated_time" content="2016-10-07T05:48:02.174Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AngularJs中组件---component的相关总结">
<meta name="twitter:description" content="前言　　组件component是AngularJs中一个非常重要的概念，一个项目的前端代码结构可以完全以组件component为单位进行实现，也就是说项目的不同页面（比如列表页、详情页、编辑页）或者通用功能（比如表格渲染组件、分页组件）都可以设计为一个独立的component，再通过路由配置关联起来，实现功能需求。本篇以AngularJs官方文档为根据，对组件相关内容进行总结。

综述　　在Ang">
<meta name="twitter:image" content="http://7xrz3r.com1.z0.glb.clouddn.com/angular-component.png">

    
    
    <link rel="icon" href="/img/author.png">
    
    
    <link rel="apple-touch-icon" href="/img/author.png">
    <link rel="apple-touch-icon-precomposed" href="/img/author.png">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/author.png" alt="GCidea&#39;s blog" title="GCidea&#39;s blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="GCidea&#39;s blog">GCidea&#39;s blog</a></h1>
				<h2 class="blog-motto">gaochang | BUPT</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页 | Home</a></li>
					
						<li><a href="/archives">归档 | Archives</a></li>
					
						<li><a href="/categories">分类 | Categories</a></li>
					
						<li><a href="/about">简介 | About</a></li>
					
					<!--<li>
 					

					
					</li>-->
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/08/17/angular-component/" title="AngularJs中组件---component的相关总结" itemprop="url">AngularJs中组件---component的相关总结</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Gao Chang" target="_blank" itemprop="author">Gao Chang</a>
		
  <p class="article-time">
    <time datetime="2016-08-17T15:15:25.000Z" itemprop="datePublished"> 发表于 2016-08-17</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#综述"><span class="toc-number">2.</span> <span class="toc-text">综述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建并配置component组件"><span class="toc-number">3.</span> <span class="toc-text">创建并配置component组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基于component组件的应用程序结构"><span class="toc-number">4.</span> <span class="toc-text">基于component组件的应用程序结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用component组件作为路由模板"><span class="toc-number">5.</span> <span class="toc-text">使用component组件作为路由模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#内部component组件间的通信"><span class="toc-number">6.</span> <span class="toc-text">内部component组件间的通信</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对作为controller控制器的组件component进行单元测试"><span class="toc-number">7.</span> <span class="toc-text">对作为controller控制器的组件component进行单元测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用案例"><span class="toc-number">8.</span> <span class="toc-text">使用案例</span></a></li></ol>
		
		</div>
		
		<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>　　组件component是AngularJs中一个非常重要的概念，一个项目的前端代码结构可以完全以组件component为单位进行实现，也就是说项目的不同页面（比如列表页、详情页、编辑页）或者通用功能（比如表格渲染组件、分页组件）都可以设计为一个独立的component，再通过路由配置关联起来，实现功能需求。本篇以AngularJs官方文档为根据，对组件相关内容进行总结。</p>
<hr>
<h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2><p>　　在Angular中，component是一种特殊的指令（directive），相比于directive，它的配置要更简单，这很适合于基于组件的应用程序结构，也使得使用类似于Web Components或者Angular 2风格的应用程序结构来编写代码要更容易。</p>
<p><strong>组件component的优点</strong></p>
<ul>
<li>比原生指令（directive）配置更加简单</li>
<li>提供了更加健全的默认设置和最佳实践</li>
<li>可以优化基于component的应用结构</li>
<li>编写component这种directive使得升级到Angular 2更加容易</li>
</ul>
<p><strong>什么时候不要用component</strong></p>
<ul>
<li>对那些依赖于DOM元素操作和绑定监听事件的指令不要使用，因为在component中是不能直接编译链接函数的。</li>
<li>当需要定义配置一些更高级的directive选项时不要使用，选项比如：priority, terminal, multi-element。</li>
<li>当你想通过一个属性或者CSS类来触发一个指令，而不是通过一个元素来触发时，不要使用。</li>
</ul>
<hr>
<h2 id="创建并配置component组件"><a href="#创建并配置component组件" class="headerlink" title="创建并配置component组件"></a>创建并配置component组件</h2><p>　　要想注册一个component组件，可以使用Angular模型module上的<code>.component()</code>方法。（模型module是通过调用<code>angular.module()</code>来返回的。）该方法接收两个参数：</p>
<ul>
<li>组件名称（字符串）</li>
<li>组件配置对象（注意，不同于<code>.directive()</code>方法，该方法不需要使用工厂函数）</li>
</ul>
<p><strong>示例</strong></p>
<ol>
<li><p>创建heroDetail.js文件,定义一个组件component</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function HeroDetailController() &#123;</span><br><span class="line">	//do something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">angular.module(&apos;heroApp&apos;).component(&apos;heroDetail&apos;, &#123;</span><br><span class="line">  templateUrl: &apos;heroDetail.html&apos;,</span><br><span class="line">  controller: HeroDetailController,</span><br><span class="line">  bindings: &#123;</span><br><span class="line">    hero: &apos;=&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建heroDetail.html文件,定义组件的DOM结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;Name: &#123;&#123;$ctrl.hero.name&#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建index.js文件，增加控制器，为model变量初始化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">angular.module(&apos;heroApp&apos;, []).controller(&apos;MainCtrl&apos;, function MainCtrl() &#123;</span><br><span class="line">  this.hero = &#123;</span><br><span class="line">    name: &apos;Spawn&apos;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建index.html文件，定义文档结构，引入定义好的组件heroDetail(驼峰写法要转换成短横线”-“相连)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ng-controller=&quot;MainCtrl as ctrl&quot;&gt;</span><br><span class="line">  &lt;b&gt;Hero&lt;/b&gt;&lt;br&gt;</span><br><span class="line">  &lt;hero-detail hero=&quot;ctrl.hero&quot;&gt;&lt;/hero-detail&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>结果如下图：<br><img src="http://7xrz3r.com1.z0.glb.clouddn.com/angular-component.png" alt=""></p>
<p>另外，也可以使用<code>$compileProvider</code>在module的配置阶段引入组件。</p>
<p><strong>附：directive与component的比较</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>directive</th>
<th>component</th>
</tr>
</thead>
<tbody>
<tr>
<td>bindings</td>
<td>No</td>
<td>Yes(绑定到controller)</td>
</tr>
<tr>
<td>bindToController</td>
<td>Yes(默认：false)</td>
<td>No(使用bindings来替代)</td>
</tr>
<tr>
<td>compile function</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>controller</td>
<td>Yes</td>
<td>Yes(默认：function(){})</td>
</tr>
<tr>
<td>controllerAs</td>
<td>Yes(默认：false)</td>
<td>Yes(默认：$ctrl)</td>
</tr>
<tr>
<td>link functions</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>multiElement</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>priority</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>require</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>restrict</td>
<td>Yes</td>
<td>No(仅限于元素elements)</td>
</tr>
<tr>
<td>scope</td>
<td>Yes(默认：false)</td>
<td>No(scope总是独立的)</td>
</tr>
<tr>
<td>template</td>
<td>Yes</td>
<td>Yes(可注入)</td>
</tr>
<tr>
<td>templateNamespace</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>templateUrl</td>
<td>Yes</td>
<td>Yes(可注入)</td>
</tr>
<tr>
<td>terminal</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>transclude</td>
<td>Yes(默认：false)</td>
<td>Yes(默认：false)</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="基于component组件的应用程序结构"><a href="#基于component组件的应用程序结构" class="headerlink" title="基于component组件的应用程序结构"></a>基于component组件的应用程序结构</h2><p>　　如上所述，component使得按组件结构来组织应用程序变得更加容易。基于component组件的应用程序结构主要有以下几个特性：</p>
<ul>
<li><strong>component只控制它自己的视图和数据</strong><br>　　组件从不应修改超出它们作用域scope的任何数据或者DOM元素。一般来讲，在Angular中，通过作用域继承（inheritance）和监视（watches），我们能够修改程序中的任何数据。这是有实用性的，但是也可能导致一些问题-尤其当不明确到底程序中的哪一部分对数据修改负责时。这也就是为什么component这种directive采用了独立隔离作用域，这样对所有scope的操作就不可能发生了。</li>
<li><strong>component具有定义完备的公用API-Inputs 和 Outputs</strong><br>　　然而，独立作用域也有捉襟见肘的时候，因为Angular采用了“双向绑定”。假设你给组件传入了这样一个对象：<code>bindings: {item: &#39;=&#39;}</code>，然后修改其中一个属性，你会发现这个变化也会反映在父级组件中。但是对于组件来说，为了更容易的判定什么数据发生变化，何时变化，只应该由拥有该数据的组件来对其进行修改。因此，component需要遵循一些简单的约定：</li>
</ul>
<ol>
<li><p>输入Inputs应该使用<code>&lt;</code>和<code>@</code>绑定。<br>　　　　<code>&lt;</code>符号表明“单向绑定”，是从1.5版本开始可用的。它和<code>=</code>的区别在于：组件作用域中的相关属性没有被监视（watched），这意味着如果你给属性赋了一个新值，父级作用域并不会因此而更新。但是要注意，父级和本级组件都是指向同一个对象，因此如果你在当前组件中修改了对象属性或者数组元素，父级组件还是能感受到这个变化。综上，一般性的规律是在组件作用域中永远不要修改对象或者数组属性。<br>　　　　<code>@</code>绑定可以用于当输入是字符串，尤其是绑定的值不会发生改变时。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bindings: &#123;</span><br><span class="line">  hero: &apos;&lt;&apos;,</span><br><span class="line">  comment: &apos;@&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>输出Outputs应该使用<code>&amp;</code>来绑定。这说的输出是作为组件事件的回调函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bindings: &#123;</span><br><span class="line">  onDelete: &apos;&amp;&apos;,</span><br><span class="line">  onUpdate: &apos;&amp;&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>相比于直接操作输入数据，组件应该将变化的数据交付给正确的输出事件来处理。比如一次删除操作，组件不会直接删掉<code>hero</code>本身，而是通过正确的事件将数据传递给拥有该数据属性的组件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- note that we use kebab-case for bindings in the template as usual --&gt;</span><br><span class="line">&lt;editable-field on-update=&quot;$ctrl.update(&apos;location&apos;, value)&quot;&gt;&lt;/editable-field&gt;&lt;br&gt;</span><br><span class="line">&lt;button ng-click=&quot;$ctrl.onDelete(&#123;hero: $ctrl.hero&#125;)&quot;&gt;Delete&lt;/button&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过这种方式，父级组件可以来决定如何处理（比如，是删除一个元素还是更新属性。）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ctrl.deleteHero(hero) &#123;</span><br><span class="line">  $http.delete(...).then(function() &#123;</span><br><span class="line">    var idx = ctrl.list.indexOf(hero);</span><br><span class="line">    if (idx &gt;= 0) &#123;</span><br><span class="line">      ctrl.list.splice(idx, 1);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li><strong>component具有定义完备的生命周期</strong><br>　　每一个组件都可以执行一套“声明周期钩子”，在生命周期的特定点，以下方法可以被调用：</li>
</ul>
<ol>
<li><code>$onInit()</code><br>　　满足以下条件时会在controller上调用该方法：<br>　　　a. 当一个元素上的全部controller都已经构建完成<br>　　　b. 它们的bindings已经初始化<br>　　　c. 在该元素上指令directives的pre &amp; post linking functions执行之前</li>
</ol>
<p>　　将初始化代码放在这个方法中是很合适的。</p>
<ol>
<li><code>$onChanges(changesObj)</code><br>　　在任何时刻，只要单向绑定的数据发生更新，就会调用该方法。<code>changesObj</code>是一个哈希表，它的键是发生变化的绑定属性的属性名称，它的值是一个对象，形式为：<code>{ currentValue, previousValue, isFirstChange()}</code>。比如当需要复制一个绑定的值以防外部值发生突变的时候，就可以触发该方法。</li>
<li><code>$doCheck()</code><br>　　该方法提供了一个检测并处理变化的接口。当检测到变化想做出相应处理时，任何的处理函数都必须从这个钩子调用。但是，当<code>$onChanges</code>已经调用时，这个钩子是不起作用的。举例来说，当你想进行一次“js对象深度相等比较”（这个概念应该参考js的深拷贝和浅拷贝），或者要检测一个Date对象这类操作时，它们的变化不会被Angular的变化检测器检测到，因此不会触发<code>$onChanges</code>，这时候就可以使用<code>$doCheck()</code>。这个钩子的调用没有参数，如果检测到了变化，必须手动保存旧值来和当前值比较。</li>
<li><code>$onDestroy()</code><br>　　当一个controller的作用域已经销毁，会调用该函数。使用该函数可以释放外部资源，watches监听函数和其他事件处理函数。</li>
<li><code>$postLink()</code><br>　　当控制器对应的元素及其子元素已经”link”完成（关于”link”，要单独分析<code>$compile</code>的相关内容），会调用该函数。和directive中的post-link function类似，这个钩子可以用来设置DOM元素事件处理函数，或者进行直接的DOM操作。注意一个例外，当前的controller对应的组件可能有子组件，那些包含有<code>templateUrl</code>的子元素在调用该函数的时候并没有”link”完成，因为它们要等待templateUrl指定的模板template异步加载完成，因此在完成之前它自己的编译和链接就会被挂起。这个指令可以看做是和Angular 2中的<code>ngAfterViewInit</code>和<code>ngAfterContentInit</code>作用类似。</li>
</ol>
<ul>
<li><strong>一个应用程序就是一棵组件树</strong><br>　　理论上最佳的状态是，整个应用应该由不同层级的component构成一棵树，能够处理定义完备的输入输出，并且具有最少的双向数据绑定。这样，就能够更加轻松地预测数据何时变化以及组件的状态是什么。</li>
</ul>
<hr>
<h2 id="使用component组件作为路由模板"><a href="#使用component组件作为路由模板" class="headerlink" title="使用component组件作为路由模板"></a>使用component组件作为路由模板</h2><hr>
<h2 id="内部component组件间的通信"><a href="#内部component组件间的通信" class="headerlink" title="内部component组件间的通信"></a>内部component组件间的通信</h2><hr>
<h2 id="对作为controller控制器的组件component进行单元测试"><a href="#对作为controller控制器的组件component进行单元测试" class="headerlink" title="对作为controller控制器的组件component进行单元测试"></a>对作为controller控制器的组件component进行单元测试</h2><hr>
<h2 id="使用案例"><a href="#使用案例" class="headerlink" title="使用案例"></a>使用案例</h2><p>　　具体案例，详细参见这一篇<a href="http://gcidea.info/2016/08/07/angular-table-plugin/" target="_blank" rel="external">使用AngularJs封装表格内容渲染（含分页）插件</a>。整个表格插件就是一个大的component，实现过程中用到了上述很多特性。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/AngularJs/">AngularJs</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/学习笔记/">学习笔记</a><a href="/tags/JavaScript/">JavaScript</a><a href="/tags/AngularJs/">AngularJs</a><a href="/tags/前端框架/">前端框架</a><a href="/tags/MVVM/">MVVM</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://yoursite.com/2016/08/17/angular-component/" data-title="AngularJs中组件---component的相关总结 | GCidea&#39;s blog" data-tsina="2180985772" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/08/18/angular-directive-definition-object/" title="AngularJs的指令定义对象Directive Definition Object">
  <strong>上一篇：</strong><br/>
  <span>
  AngularJs的指令定义对象Directive Definition Object</span>
</a>
</div>


<div class="next">
<a href="/2016/08/16/nodejs-chatting-room/"  title="使用Node.js实现基于TCP协议的简单聊天室程序">
 <strong>下一篇：</strong><br/> 
 <span>使用Node.js实现基于TCP协议的简单聊天室程序
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#综述"><span class="toc-number">2.</span> <span class="toc-text">综述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建并配置component组件"><span class="toc-number">3.</span> <span class="toc-text">创建并配置component组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基于component组件的应用程序结构"><span class="toc-number">4.</span> <span class="toc-text">基于component组件的应用程序结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用component组件作为路由模板"><span class="toc-number">5.</span> <span class="toc-text">使用component组件作为路由模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#内部component组件间的通信"><span class="toc-number">6.</span> <span class="toc-text">内部component组件间的通信</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对作为controller控制器的组件component进行单元测试"><span class="toc-number">7.</span> <span class="toc-text">对作为controller控制器的组件component进行单元测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用案例"><span class="toc-number">8.</span> <span class="toc-text">使用案例</span></a></li></ol>
 
  </div>

<div id="asidepart">
<!--<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>-->
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="gcidea" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/AngularJs/" title="AngularJs">AngularJs<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/CSS-CSS3/" title="CSS/CSS3">CSS/CSS3<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/FE综合/" title="FE综合">FE综合<sup>16</sup></a></li>
		  
		
		  
			<li><a href="/categories/HTML-HTML5/" title="HTML/HTML5">HTML/HTML5<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/HTTP/" title="HTTP">HTTP<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/JavaScript/" title="JavaScript">JavaScript<sup>39</sup></a></li>
		  
		
		  
			<li><a href="/categories/NodeJs/" title="NodeJs">NodeJs<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/React/" title="React">React<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/SSH/" title="SSH">SSH<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/jQuery/" title="jQuery">jQuery<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/前端工程化/" title="前端工程化">前端工程化<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/搭建部署/" title="搭建部署">搭建部署<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/正则表达式/" title="正则表达式">正则表达式<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/算法/" title="算法">算法<sup>12</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/学习笔记/" title="学习笔记">学习笔记<sup>107</sup></a></li>
			
		
			
				<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>55</sup></a></li>
			
		
			
				<li><a href="/tags/实现-应用/" title="实现/应用">实现/应用<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/HTTP/" title="HTTP">HTTP<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/前端框架/" title="前端框架">前端框架<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/leetcode/" title="leetcode">leetcode<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/AngularJs/" title="AngularJs">AngularJs<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/MVVM/" title="MVVM">MVVM<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/CSS/" title="CSS">CSS<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/浏览器/" title="浏览器">浏览器<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/HTML/" title="HTML">HTML<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/CSS3/" title="CSS3">CSS3<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/搭建部署/" title="搭建部署">搭建部署<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/jQuery/" title="jQuery">jQuery<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/FE/" title="FE">FE<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/闭包/" title="闭包">闭包<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/编码/" title="编码">编码<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/前端工程化/" title="前端工程化">前端工程化<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/兼容性/" title="兼容性">兼容性<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/转载/" title="转载">转载<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/React/" title="React">React<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/webpack/" title="webpack">webpack<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/页面渲染/" title="页面渲染">页面渲染<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/异步编程/" title="异步编程">异步编程<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/正则/" title="正则">正则<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/版本控制/" title="版本控制">版本控制<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/NodeJs/" title="NodeJs">NodeJs<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/HTML5/" title="HTML5">HTML5<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/可视化拖拽/" title="可视化拖拽">可视化拖拽<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/客户端存储/" title="客户端存储">客户端存储<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Emmet/" title="Emmet">Emmet<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/jqGrid/" title="jqGrid">jqGrid<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/内存泄漏/" title="内存泄漏">内存泄漏<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/前端包管理工具/" title="前端包管理工具">前端包管理工具<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/跨域/" title="跨域">跨域<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/LAMP/" title="LAMP">LAMP<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/zTree/" title="zTree">zTree<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Less/" title="Less">Less<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/持续集成CI/" title="持续集成CI">持续集成CI<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/语义化/" title="语义化">语义化<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/RestfulAPI/" title="RestfulAPI">RestfulAPI<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/token/" title="token">token<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Session/" title="Session">Session<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Cookie/" title="Cookie">Cookie<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/前端自动构建/" title="前端自动构建">前端自动构建<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://bbs.byr.cn" target="_blank" title="">北邮人论坛-北邮人的温馨家园</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.ebupt.com" target="_blank" title="东信北邮信息技术有限公司">东信北邮信息技术有限公司</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=2180985772&verifier=e539de77&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Gao Chang in BUPT. <br/>
			The relentless pursuit of perfection.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2180985772" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/gcidea" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		<a href="https://www.linkedin.com/in/gcidea" target="_blank" class="icon-linkedin" title="linkedin"></a>
		
		
		
		<a href="http://www.zhihu.com/people/gcidea" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		
		<a href="mailto:gaochang@ebupt.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Gao Chang">Gao Chang</a>
		
		
		</p>
    
    
    <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','t_xFiUzPf_dy2au4WGJx','2.0.0');
</script>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  /*$this.append(html);*/

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ad03ecfd99432fefa83cbc4dea96fac4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
