[{"title":"使用SwitchyOmega和Charles配置统一的开发和生产环境","url":"http://www.gcidea.info/welcome-to-this-page/2017/01/08/uniform-development-product-env-switchyomega-charles/","content":""},{"title":"使用Apache tomcat部署项目war包","url":"http://www.gcidea.info/welcome-to-this-page/2017/01/06/apache-tomcat-war-deployment/","content":"<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/build-success.png\" alt=\"\"></p>\n<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"leetcode [#409]","url":"http://www.gcidea.info/welcome-to-this-page/2017/01/03/leetcode-409/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a string which consists of lowercase or uppercase letters, find the length of the longest palindromes that can be built with those letters.<br>This is case sensitive, for example “Aa” is not considered a palindrome here.</p>\n<p><strong>Example1</strong>:<br>Input:<br>“abccccdd”</p>\n<p>Output:<br>7</p>\n<p>Explanation:<br>One longest palindrome that can be built is “dccaccd”, whose length is 7.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">longestPalindrome</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s.length() == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> res = <span class=\"number\">0</span>;</span><br><span class=\"line\">        HashMap&lt;Character, Integer&gt; map = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; s.length(); i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!map.containsKey(s.charAt(i)))&#123;</span><br><span class=\"line\">                map.put(s.charAt(i), <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                map.put(s.charAt(i), map.get(s.charAt(i)) + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        Iterator it = map.entrySet().iterator();</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> oddFlag = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (it.hasNext()) &#123;</span><br><span class=\"line\">            Map.Entry entry = (Map.Entry) it.next();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>((Integer)entry.getValue() % <span class=\"number\">2</span> == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!oddFlag) &#123;</span><br><span class=\"line\">                    res += (Integer)entry.getValue();</span><br><span class=\"line\">                    oddFlag = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    res += ((Integer)entry.getValue() - <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                res += (Integer)entry.getValue();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历字符串，使用hashmap存储，key为字符，value为出现次数。</li>\n<li>遍历hashmap进行统计。设置针对奇数个数的字符的标记位，如果当前还未出现过奇数个数的字符，则直接将该个数添加到结果，表明这奇数个字符都可以参与构成回文。否则，表明已经有奇数参与，则当前字符只能取出最大的偶数个（即减1）；对于个数为偶数的字符，直接添加到结果。</li>\n</ol>\n"},{"title":"leetcode [#463]","url":"http://www.gcidea.info/welcome-to-this-page/2017/01/02/leetcode-463/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>You are given a map in form of a two-dimensional integer grid where 1 represents land and 0 represents water. Grid cells are connected horizontally/vertically (not diagonally). The grid is completely surrounded by water, and there is exactly one island (i.e., one or more connected land cells). The island doesn’t have “lakes” (water inside that isn’t connected to the water around the island). One cell is a square with side length 1. The grid is rectangular, width and height don’t exceed 100. Determine the perimeter of the island.</p>\n<p><strong>Example</strong>:<br>[[0,1,0,0],<br> [1,1,1,0],<br> [0,1,0,0],<br> [1,1,0,0]]<br>Answer: 16<br>Explanation: The perimeter is the 16 yellow stripes in the image below:<br><img src=\"https://leetcode.com/static/images/problemset/island.png\" alt=\"\"></p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">islandPerimeter</span><span class=\"params\">(<span class=\"keyword\">int</span>[][] grid)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> islandNum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> rightOrBottomNum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> m = grid.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> n = grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; m; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; n; j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                    islandNum++;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(i &lt; m-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(grid[i+<span class=\"number\">1</span>][j] == <span class=\"number\">1</span>) rightOrBottomNum++;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(j &lt; n-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(grid[i][j+<span class=\"number\">1</span>] == <span class=\"number\">1</span>) rightOrBottomNum++;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> islandNum * <span class=\"number\">4</span> - rightOrBottomNum * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历二维数组，统计陆地块总个数islandNum</li>\n<li>统计的同时，如果当前块为陆地，则考察其右边或者下边（也可以左边或者上边）的情况，如果是陆地，则rightOrBottomNum加1</li>\n<li>最后，周长的计算，如果各个陆地块是分开的，那么周长为islandNum*4，现在由于有一些合并，且每合并一次，减少两条边，减去 rightOrBottomNum*2即可。</li>\n</ol>\n"},{"title":"leetcode [#438]","url":"http://www.gcidea.info/welcome-to-this-page/2017/01/02/leetcode-438/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a string s and a non-empty string p, find all the start indices of p’s anagrams in s.<br>Strings consists of lowercase English letters only and the length of both strings s and p will not be larger than 20,100.<br>The order of output does not matter.</p>\n<p><strong>Example1</strong>:<br>Input:<br>s: “cbaebabacd” p: “abc”</p>\n<p>Output:<br>[0, 6]</p>\n<p>Explanation:<br>The substring with start index = 0 is “cba”, which is an anagram of “abc”.<br>The substring with start index = 6 is “bac”, which is an anagram of “abc”.</p>\n<p><strong>Example2</strong>:<br>Input:<br>s: “abab” p: “ab”</p>\n<p>Output:<br>[0, 1, 2]</p>\n<p>Explanation:<br>The substring with start index = 0 is “ab”, which is an anagram of “ab”.<br>The substring with start index = 1 is “ba”, which is an anagram of “ab”.<br>The substring with start index = 2 is “ab”, which is an anagram of “ab”.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">findAnagrams</span><span class=\"params\">(String s, String p)</span> </span>&#123;</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> LinkedList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (p == <span class=\"keyword\">null</span> || s == <span class=\"keyword\">null</span> || s.length() &lt; p.length()) <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> pLen = p.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> sLen = s.length();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span> ; i + pLen -<span class=\"number\">1</span> &lt; sLen; i++)&#123;</span><br><span class=\"line\">            String cur = s.substring(i, i + pLen);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (helper(cur, p)) list.add(i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">helper</span><span class=\"params\">(String a, String b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (a == <span class=\"keyword\">null</span> || b == <span class=\"keyword\">null</span> || a.length() != b.length()) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] dict = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">26</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; a.length(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">char</span> ch = a.charAt(i);</span><br><span class=\"line\">            dict[ch-<span class=\"string\">'a'</span>]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; b.length(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">char</span> ch = b.charAt(i);</span><br><span class=\"line\">            dict[ch-<span class=\"string\">'a'</span>]--;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (dict[ch-<span class=\"string\">'a'</span>] &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历s字符串（以pLen为每段长度）</li>\n<li>准备数组int[] dict = new int[26];用于统计出现次数：在p中出现对应位加1，在s中出现对应位减1</li>\n<li>如果最后数组该位小于零，则说明片段未能对应，不是Anagrams；否则能对应</li>\n</ol>\n"},{"title":"leetcode [#448]","url":"http://www.gcidea.info/welcome-to-this-page/2017/01/01/leetcode-448/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of integers where 1 ≤ a[i] ≤ n (n = size of array), some elements appear twice and others appear once.<br>Find all the elements of [1, n] inclusive that do not appear in this array.<br>Could you do it without extra space and in O(n) runtime? You may assume the returned list does not count as extra space.</p>\n<p><strong>Example</strong>:<br>Input:<br>[4,3,2,7,8,2,3,1]</p>\n<p>Output:<br>[5,6]</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">findDisappearedNumbers</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> LinkedList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> n = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            nums[(nums[i] - <span class=\"number\">1</span>) % n] += n;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] &lt;= n)&#123;</span><br><span class=\"line\">                list.add(i+<span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>实质上要将数组中的每一个元素看做存储的是该数组的下标（每个数需要减1）</li>\n<li>遍历一遍，取到每个数组元素的值，将其看做下标的情况下，将该数组对应位置加n</li>\n<li>凡是在该数组不存在的元素（指范围1-n）内，对应下标的值就无法被加n（一次或多次加n都不可能）</li>\n<li>再遍历一遍，找到现在元素值小于等于n的就是缺失的元素</li>\n</ol>\n"},{"title":"AngularJs中$scope.$apply()方法总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/12/29/angular-$scope-$apply/","content":""},{"title":"使用dora-proxy-plugin处理异步请求跨域问题","url":"http://www.gcidea.info/welcome-to-this-page/2016/12/25/cross-origin-dora-proxy-plugin/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"React Router的history属性总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/12/23/react-router-history/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"React脚手架-阿里dvajs项目结构分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/12/22/react-dva-structure/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"git merge 与 git rebase 的对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/12/20/git-merge-git-rebase/","content":""},{"title":"JavaScript中值传递和引用传递的典例探究","url":"http://www.gcidea.info/welcome-to-this-page/2016/12/02/js-value-copy-reference-copy/","content":"<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>　　在Javascript中，基本类型（null, undefined, number, string, boolean, symbol）是通过值传递方式进行，而复合类型（object, array, function）则是通过引用传递方式进行。<br>　　但是，由于Javascript工作机制所决定，在js中，引用指向的其实是值，而无法指向其他引用，这和其他语言中的指针并不相同。<br>　　其实，两者都可以算是“值”传递，只不过“值传递”传递的是基本类型本来的值，而“引用传递”传递的则是复合对象的地址值。</p>\n<hr>\n<h2 id=\"值传递\"><a href=\"#值传递\" class=\"headerlink\" title=\"值传递\"></a>值传递</h2><p>案例一：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a;</span><br><span class=\"line\">b++;</span><br><span class=\"line\">b;  <span class=\"comment\">//3</span></span><br><span class=\"line\">a;  <span class=\"comment\">//2</span></span><br></pre></td></tr></table></figure></p>\n<p>上例说明基本类型的a的值在赋值给b时，是将2这个值赋给了b，此后b++不会改变a的值。</p>\n<p>案例二：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a;</span><br><span class=\"line\">b.push(<span class=\"number\">4</span>);</span><br><span class=\"line\">b;  <span class=\"comment\">//[1,2,3,4]</span></span><br><span class=\"line\">a;  <span class=\"comment\">//[1,2,3,4]</span></span><br></pre></td></tr></table></figure></p>\n<p>上例说明复合类型的a在赋值给b时，是将2内存中[1,2,3,4]这个对象的引用赋给了b，因此a,b实际上操作的是一个地址中的内容。</p>\n<hr>\n<h2 id=\"引用传递\"><a href=\"#引用传递\" class=\"headerlink\" title=\"引用传递\"></a>引用传递</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\">x</span>)</span>&#123;</span><br><span class=\"line\">\tx.push(<span class=\"number\">4</span>);</span><br><span class=\"line\">\tx;  <span class=\"comment\">//[1,2,3,4]</span></span><br><span class=\"line\"></span><br><span class=\"line\">\tx = [<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>];</span><br><span class=\"line\">\tx.push(<span class=\"number\">7</span>);</span><br><span class=\"line\">\tx;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">foo(a);</span><br><span class=\"line\"></span><br><span class=\"line\">a;  <span class=\"comment\">//[1,2,3,4]</span></span><br></pre></td></tr></table></figure>\n<p>该例中函数foo()接收一个复合类型对象作为参数。按照引用传递的规则，可以理解为变量a所引用的对象[1,2,3]在内存中的地址被赋给了x，在foo()内部所做的操作，会直接影响到a所代表的值。但是，<code>x = [4,5,6];</code>相当于以字面量的形式将x所指向的内存中的地址进行了改变（一个新对象，其值为[4,5,6]），因此这部分不会体现在a中。</p>\n<hr>\n<h2 id=\"两者的“互相转换”\"><a href=\"#两者的“互相转换”\" class=\"headerlink\" title=\"两者的“互相转换”\"></a>两者的“互相转换”</h2><p>1.对于符合类型的，即对象，如果想按照值传递来实现某些功能（即不影响传入的实参本身），那么就要创建一个副本。比如对于数组，使用<code>foo(a.slice())</code>，通过slice()方法对a进行一次浅复制。</p>\n<p>2.对于基本类型的，如果想按照引用传递的效果实现某些功能（即能够改变传入函数并将其本身进行修改），那么就要将该值封装到一个复合类型（数组，对象等）中，然后通过引用传递的方式进行传递。如：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\">obj</span>)</span>&#123;</span><br><span class=\"line\">\tobj.a = <span class=\"string\">\"new value\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> bar = &#123;</span><br><span class=\"line\">\ta : <span class=\"string\">\"old value\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo(bar);</span><br><span class=\"line\">bar.a; <span class=\"comment\">// new value</span></span><br></pre></td></tr></table></figure></p>\n<p>但是，这并不是说将基本类型装箱为对应的包装类型再传入函数就可以达到这种效果：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\">x</span>)</span>&#123;</span><br><span class=\"line\">\tx = x + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(a);</span><br><span class=\"line\">foo(b);</span><br><span class=\"line\">a; <span class=\"comment\">// 2</span></span><br><span class=\"line\">b; <span class=\"comment\">// 2</span></span><br></pre></td></tr></table></figure></p>\n<p>原因是foo()内部在进行加法操作时候对x进行了自动拆箱。x变成了基本类型值，但是外部的b仍然指向有Number()构造出的对象，因此是2，不是加1后的3。</p>\n"},{"title":"leetcode [#22]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/29/leetcode-22/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given n pairs of parentheses, write a function to generate all combinations of well-formed parentheses.</p>\n<p>For example, given n = 3, a solution set is:</p>\n<p>[<br>  “((()))”,<br>  “(()())”,<br>  “(())()”,<br>  “()(())”,<br>  “()()()”<br>]</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title\">generateParenthesis</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        List&lt;String&gt; res = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        recursivelyGetParenthesis(res, <span class=\"string\">\"\"</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, n);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">recursivelyGetParenthesis</span><span class=\"params\">(List&lt;String&gt; list, String s, <span class=\"keyword\">int</span> left, <span class=\"keyword\">int</span> right, <span class=\"keyword\">int</span> n)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s.length() == n * <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            list.add(s);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left &lt; n) recursivelyGetParenthesis(list, s + <span class=\"string\">\"(\"</span>, left + <span class=\"number\">1</span>, right, n);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(right &lt; left) recursivelyGetParenthesis(list, s + <span class=\"string\">\")\"</span>, left, right + <span class=\"number\">1</span>, n);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>不应该从找规律的角度入手，这样即便得到可能情况的总数，但生成具体字符串时还比较麻烦。</li>\n<li>recursivelyGetParenthesis()方法的作用是，逐步生成结果字符串，当长度满足时就作为一个符合要求的结果返回，否则，在当前片段的基础上递归调用自身，生成新的结果。</li>\n</ol>\n"},{"title":"leetcode [#341]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/28/leetcode-341/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a nested list of integers, implement an iterator to flatten it.</p>\n<p>Each element is either an integer, or a list – whose elements may also be integers or other lists.</p>\n<p><strong>Example</strong>:<br>Given the list [[1,1],2,[1,1]],</p>\n<p>By calling next repeatedly until hasNext returns false, the order of elements returned by next should be: [1,1,2,1,1].</p>\n<p>Given the list [1,[4,[6]]],</p>\n<p>By calling next repeatedly until hasNext returns false, the order of elements returned by next should be: [1,4,6].</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * // This is the interface that allows for creating nested lists.</span><br><span class=\"line\"> * // You should not implement it, or speculate about its implementation</span><br><span class=\"line\"> * public interface NestedInteger &#123;</span><br><span class=\"line\"> *</span><br><span class=\"line\"> *     // <span class=\"doctag\">@return</span> true if this NestedInteger holds a single integer, rather than a nested list.</span><br><span class=\"line\"> *     public boolean isInteger();</span><br><span class=\"line\"> *</span><br><span class=\"line\"> *     // <span class=\"doctag\">@return</span> the single integer that this NestedInteger holds, if it holds a single integer</span><br><span class=\"line\"> *     // Return null if this NestedInteger holds a nested list</span><br><span class=\"line\"> *     public Integer getInteger();</span><br><span class=\"line\"> *</span><br><span class=\"line\"> *     // <span class=\"doctag\">@return</span> the nested list that this NestedInteger holds, if it holds a nested list</span><br><span class=\"line\"> *     // Return null if this NestedInteger holds a single integer</span><br><span class=\"line\"> *     public List&lt;NestedInteger&gt; getList();</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">NestedIterator</span> <span class=\"keyword\">implements</span> <span class=\"title\">Iterator</span>&lt;<span class=\"title\">Integer</span>&gt; </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;NestedInteger&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Stack&lt;Integer&gt; num = <span class=\"keyword\">new</span> Stack&lt;&gt;();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">NestedIterator</span><span class=\"params\">(List&lt;NestedInteger&gt; nestedList)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.list = nestedList;</span><br><span class=\"line\">        getFlatternInteger(list);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">getFlatternInteger</span><span class=\"params\">(List&lt;NestedInteger&gt; nest)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = nest.size() - <span class=\"number\">1</span>; k &gt;= <span class=\"number\">0</span>; k--)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nest.get(k).isInteger())&#123;</span><br><span class=\"line\">                num.push(nest.get(k).getInteger());</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                List&lt;NestedInteger&gt; nestList = nest.get(k).getList();</span><br><span class=\"line\">                getFlatternInteger(nestList);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Integer <span class=\"title\">next</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> num.pop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">hasNext</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> !num.isEmpty();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Your NestedIterator object will be instantiated and called as such:</span><br><span class=\"line\"> * NestedIterator i = new NestedIterator(nestedList);</span><br><span class=\"line\"> * while (i.hasNext()) v[f()] = i.next();</span><br><span class=\"line\"> */</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>接口NestedInteger无需实现，可以直接调用相应方法。</li>\n<li>私有方法getFlatternInteger用于对输入的List<nestedinteger> nestedList做展开并存入一个堆栈。对于是数字的项，直接存入堆栈，对于是List<nestedinteger>类型的元素，递归调用该方法。</nestedinteger></nestedinteger></li>\n<li>next()和hasNext()方法对栈做弹出和判空即可。</li>\n</ol>\n"},{"title":"leetcode [#394]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/27/leetcode-394/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an encoded string, return it’s decoded string.</p>\n<p>The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer.</p>\n<p>You may assume that the input string is always valid; No extra white spaces, square brackets are well-formed, etc.</p>\n<p>Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, k. For example, there won’t be input like 3a or 2[4].</p>\n<p><strong>Example</strong>:<br>s = “3[a]2[bc]”, return “aaabcbc”.<br>s = “3[a2[c]]”, return “accaccacc”.<br>s = “2[abc]3[cd]ef”, return “abcabccdcdcdef”.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">decodeString</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s.length() == <span class=\"number\">0</span> || s.indexOf(<span class=\"string\">\"[\"</span>) == -<span class=\"number\">1</span>) <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">        </span><br><span class=\"line\">        Stack&lt;Integer&gt; kStack = <span class=\"keyword\">new</span> Stack&lt;&gt;();</span><br><span class=\"line\">        Stack&lt;String&gt; strStack = <span class=\"keyword\">new</span> Stack&lt;&gt;();</span><br><span class=\"line\">        String lastSec = s.substring(s.lastIndexOf(<span class=\"string\">']'</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">        String firstSec = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        String lastBracket = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> lastCharIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">        Boolean firstNotLetter = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> firstNotLetterIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">        StringBuilder res = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; s.length(); i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(s.charAt(i) &gt;= <span class=\"string\">'a'</span> &amp;&amp; s.charAt(i) &lt;= <span class=\"string\">'z'</span>)&#123;</span><br><span class=\"line\">                lastCharIndex = i;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">'['</span>)&#123;</span><br><span class=\"line\">                String tmpNum = s.substring(lastCharIndex + <span class=\"number\">1</span>, i);</span><br><span class=\"line\">                kStack.push(Integer.valueOf(tmpNum));</span><br><span class=\"line\">                <span class=\"keyword\">int</span> m = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">while</span>(s.charAt(m) &gt;= <span class=\"string\">'a'</span> &amp;&amp; s.charAt(m) &lt;= <span class=\"string\">'z'</span>) m++;</span><br><span class=\"line\">                String tmpStr = s.substring(i + <span class=\"number\">1</span>, m);</span><br><span class=\"line\">                strStack.push(tmpStr);</span><br><span class=\"line\">                lastCharIndex = i;</span><br><span class=\"line\">                lastBracket = <span class=\"string\">\"[\"</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">']'</span>)&#123;</span><br><span class=\"line\">                StringBuilder x = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">                String topStr = strStack.pop();</span><br><span class=\"line\">                Integer topNum = kStack.pop();</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(lastBracket.equals(<span class=\"string\">\"[\"</span>))&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; topNum; k++) x.append(topStr);</span><br><span class=\"line\">                    res = res.append(x);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    StringBuilder tmp = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">                    tmp.append(topStr);</span><br><span class=\"line\">                    tmp.append(res);</span><br><span class=\"line\">                    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; topNum; k++) x.append(tmp);</span><br><span class=\"line\">                    res = x;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">int</span> m = i+<span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (m &lt; s.length() &amp;&amp; s.charAt(m) &gt;= <span class=\"string\">'a'</span> &amp;&amp; s.charAt(m) &lt;= <span class=\"string\">'z'</span>)&#123;</span><br><span class=\"line\">                    res = res.append(s.charAt(m));</span><br><span class=\"line\">                    m++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(m == s.length()) lastSec = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                lastCharIndex = i;</span><br><span class=\"line\">                lastBracket = <span class=\"string\">\"]\"</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(firstNotLetter == <span class=\"keyword\">false</span>)&#123;</span><br><span class=\"line\">                    firstNotLetterIndex = i;</span><br><span class=\"line\">                    firstNotLetter = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        firstSec = s.substring(<span class=\"number\">0</span>, firstNotLetterIndex);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> firstSec + res.toString() + lastSec;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>先考虑特殊情况，对于长度为零的或者没有方括号的输入字符串，直接返回。</li>\n<li>需要两个栈，一个保存倍数K，一个保存字符串片段。</li>\n<li>firstSec表示第一个字符串片段（不包含数字，方括号），这部分作为结果的开头部分直接返回。firstNotLetter标志位就是用于找到第一个不为数字的地方，从而firstNotLetterIndex就是其对应的下标，截取后可得到firstSec。</li>\n<li>lastBracket表示上一个方括号是左括号还是右括号，用于判断是嵌套方括号还是并列方括号。</li>\n<li>lastCharIndex表示最近遇到的字母的下标，用于做字符串截取从而获得K值（具体意义见遍历过程）</li>\n<li>遍历字符串：<br>6.1 如果遇到字母，更新lastCharIndex即可；<br>6.2 如果遇到左方括号：<br>　　6.2.1 截取左方括号左边的紧邻的数字字符串片段，压入kStack，作为K值；<br>　　6.2.2 截取左方括号右边的紧邻的字母字符串片段，压入strStack，作为str值；<br>　　6.2.3 更新lastCharIndex，指向当前下标；<br>　　6.2.4 更新lastBracket，为”[“。<br>6.3 如果遇到右方括号：<br>　　6.3.1 strStack弹出一个元素topStr，kStack弹出一个元素topNum<br>　　6.3.2 根据lastBracket的情况，决定是否拼接上当前结果res再进行倍增（即考虑是否有括号嵌套的问题）<br>　　　　6.3.2.1 如果lastBracket是”[“，说明当前右方括号内部不是嵌套的，因此直接将topStr倍乘topNum次即可；<br>　　　　6.3.2.2 如果lastBracket是”]”，说明当前右方括号内部有嵌套的，因此需要将topStr和当前res结合在一起进行倍乘<br>　　6.3.3 处理完倍乘后，考虑右方括号右面可能存在的字母（无数字k，即单倍的），这些显然也有拼接进res中；<br>　　6.3.4 更新lastBracket，为”]”。<br>6.4 对于遇到的第一个数字字符，要根据其下标决定firstSec的内容。<br>6.5 最后，将firstSec和res拼接在一起返回，即为最后的结果。</li>\n</ol>\n"},{"title":"JavaScript中比较运算的详细总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/25/js-compare/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　在javascript开发中，比较操作是十分常见的。由于显式/隐式强制类型转换机制的存在，我们在使用比较运算时显得过于随意，也许表面上看并没有什么错误（比如在if()语句中判断两值相等时顺手就写成 == ），但是这可能会埋下很多不易发现的隐患。对于比较操作（相等关系和不等关系），在javascript中其实是有一套完善的机制的。本文依据ES5规范<strong>《ECMAScript Language Specification ECMA-262<br>5.1 Edition / June 2011》</strong>的11.8节和11.9节：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/ecma-relational-equality-operator.png\" alt=\"\"></p>\n<p>对javascript中比较操作相关内容进行系统总结。</p>\n<hr>\n<h2 id=\"相等比较\"><a href=\"#相等比较\" class=\"headerlink\" title=\"相等比较\"></a>相等比较</h2><h3 id=\"严格相等\"><a href=\"#严格相等\" class=\"headerlink\" title=\"严格相等\"></a>严格相等</h3><p>　　严格相等指“===”，它<strong>不允许比较双方进行强制类型转换</strong>。因此，问题考虑变得简单，对于<code>x === y</code>，javascript引擎在进行判断时所遵循的算法如下：</p>\n<ol>\n<li>如果x和y的数据类型不同，返回false。</li>\n<li>如果x是undefined，返回true。</li>\n<li>如果x是null，返回true。</li>\n<li>如果x是number类型：<br>　4.1 如果x是NaN，返回false。<br>　4.2 如果y是NaN，返回false。<br>　4.3 如果x和y的值相等，返回true。<br>　4.4 如果x是+0，y是-0，返回true。<br>　4.5 如果x是-0，y是+0，返回true。<br>　4.6 否则，返回false。</li>\n<li>如果x是string类型，如果x和y是长度相等且对应位置上字符相同的序列，返回true；否则返回false。</li>\n<li>如果x是Boolean类型，如果x和y均为true或者x和y均为false，返回true；否则，返回false。</li>\n<li>如果x是对象（普通对象，函数，数组等），那么如果x和y指向同一个对象（是内存中同一个对象的引用），返回true；否则，返回false。</li>\n</ol>\n<hr>\n<h3 id=\"宽松相等\"><a href=\"#宽松相等\" class=\"headerlink\" title=\"宽松相等\"></a>宽松相等</h3><p>　　宽松相等指“==”，它<strong>会对比较双方进行隐式强制类型转换</strong>。下面先根据ES5规范进行系统说明：</p>\n<ol>\n<li>如果x和y的数据类型相同：<br>　1.1 如果x的类型是undefined，返回true。<br>　1.2 如果x的类型是null，返回true。<br>　1.3 如果x的类型是number：<br>　　1.3.1 如果x是NaN，返回false。<br>　　1.3.2 如果y是NaN，返回false。<br>　　1.3.3 如果x和y的值相同，返回true。<br>　　1.3.4 如果x是+0，y是-0，返回true。<br>　　1.3.5 如果x是-0，y是+0，返回true。<br>　　1.3.6 否则，返回false。<br>　1.4 如果x是string类型，如果x和y是长度相等且对应位置上字符相同的序列，返回true；否则返回false。<br>　1.5 如果x是Boolean类型，如果x和y均为true或者x和y均为false，返回true；否则，返回false。<br>　1.6 如果x是对象（普通对象，函数，数组等），那么如果x和y指向同一个对象（是内存中同一个对象的引用），返回true；否则，返回false。</li>\n<li>如果x是null，y是undefined，返回true。</li>\n<li>如果x是undefined，y是null，返回true。</li>\n<li>如果x是number类型，y是string类型，则对y进行类型转换，转换为number类型，返回 x == ToNumber(y) 的结果（参见上述1.3）。</li>\n<li>如果x是string类型，y是number类型，则对x进行类型转换，转换为number类型，返回 ToNumber(x) == y 的结果（参见上述1.3）。</li>\n<li>如果x是Boolean类型，则对x进行类型转换，转换为number类型，返回 ToNumber(x) == y 的结果（此时y的类型还是不确定的，应将其转换为number类型后进行比较）。</li>\n<li>如果y是Boolean类型，则对y进行类型转换，转换为number类型，返回 x == ToNumber(y) 的结果（此时x的类型还是不确定的，应将其转换为number类型后进行比较）。</li>\n<li>如果x是string类型或者number类型，y是一个对象（普通对象，函数，数组等），则对y进行类型转换—使用内置的[[ToPrimitive]]方法转换（该方法简单来说，就是先调用该对象上的<code>valueOf()</code>方法，如果有该方法且返回基本类型值，就使用该值进行强制类型转换；如果不存在，就调用该对象上的<code>toString()</code>方法，如果有该方法，就使用其返回值来进行强制类型转换；如果这两个方法都不存在，就产生TypeError错误。），返回 x == ToPrimitive(y) 的结果。</li>\n<li>如果x是一个对象（普通对象，函数，数组等），y是string类型或者number类型，则对x进行类型转换—使用内置的[[ToPrimitive]]，返回 ToPrimitive(x) == y 的结果。</li>\n<li>否则（非上述所有情况），返回false。</li>\n</ol>\n<blockquote>\n<p>注：针对以上10条有几点注意事项：<br>1.对a,b强制按字符串string类型进行比较，可采用如下方法：<br><code>&quot;&quot; + a == &quot;&quot; + b</code></p>\n<p>2.对a,b强制按数字number类型进行比较，可采用如下方法：<br><code>+a == +b</code></p>\n<p>3.对a,b强制按布尔值boolean类型进行比较，可采用如下方法：<br><code>!!a == !!b</code></p>\n<p>4.相等比较操作有以下恒等性：</p>\n<ul>\n<li>A != B 等价于 !(A == B)</li>\n<li>A == B 等价于 B == A (除非A B有顺序上的互相计算关系)</li>\n</ul>\n<p>5.相等操作并不是总具有传递性。<br>new String(“a”) == “a” 和 “a” == new String(“a”) 结果都返回true；<br>new String(“a”) == new String(“a”) 却返回false。<br>因为new String(“a”)是一个对象，按照上述规则会被转换为”a”，因此相等；而new String(“a”) == new String(“a”)，==左右两边是两个不同的对象，在内存中位于不同地址，因此结果返回false。</p>\n</blockquote>\n<hr>\n<p>由于强制类型转换的存在，宽松相等的情况变得复杂，比较容易出现问题的有以下几种：</p>\n<h4 id=\"更改内置原生原型后的相等比较\"><a href=\"#更改内置原生原型后的相等比较\" class=\"headerlink\" title=\"更改内置原生原型后的相等比较\"></a>更改内置原生原型后的相等比较</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Number</span>.prototype.valueOf = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">2</span>) == <span class=\"number\">3</span>; <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>这只是为了说明这种情况的存在，应该不会有人这么去改原型上的方法。</p>\n<h4 id=\"假值的相等比较\"><a href=\"#假值的相等比较\" class=\"headerlink\" title=\"假值的相等比较\"></a>假值的相等比较</h4><p>这部分应该是比较复杂的：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"literal\">null</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"literal\">undefined</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"literal\">false</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"literal\">NaN</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"number\">0</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"string\">\"\"</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"literal\">null</span>;\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"literal\">undefined</span>;\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"literal\">NaN</span>;\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"number\">0</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"string\">\"\"</span>;\t\t</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == [];\t\t</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == &#123;&#125;;\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == <span class=\"literal\">null</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == <span class=\"literal\">undefined</span>;\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == <span class=\"literal\">NaN</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == <span class=\"number\">0</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == [];\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == &#123;&#125;;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0</span> == <span class=\"literal\">null</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"number\">0</span> == <span class=\"literal\">undefined</span>;\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"number\">0</span> == <span class=\"literal\">NaN</span>;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"number\">0</span> == [];\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"number\">0</span> == &#123;&#125;;\t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure></p>\n<p>解释如下：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"literal\">null</span>;  \t\t</span><br><span class=\"line\"><span class=\"comment\">//false：null转换为\"null\"</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"literal\">undefined</span>;   </span><br><span class=\"line\"><span class=\"comment\">//false：undefined转换为\"undefined\"</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"literal\">false</span>;  \t\t</span><br><span class=\"line\"><span class=\"comment\">//true：false转换为0；\"0\"转换为0</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"literal\">NaN</span>;         </span><br><span class=\"line\"><span class=\"comment\">//false：NaN转换为\"NaN\"</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"number\">0</span>; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true：\"0\"转换为0</span></span><br><span class=\"line\"><span class=\"string\">\"0\"</span> == <span class=\"string\">\"\"</span>; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false：都是字符串，值不同</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"literal\">null</span>; \t\t</span><br><span class=\"line\"><span class=\"comment\">//false：false转换为0；null转换为\"null\"，进而转换为数字，得到NaN</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"literal\">undefined</span>; </span><br><span class=\"line\"><span class=\"comment\">//false：false转换为0；undefined转换为\"undefined\"，进而转换为数字，得到NaN</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"literal\">NaN</span>; \t\t</span><br><span class=\"line\"><span class=\"comment\">//false：false转换为0；与NaN不同</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"number\">0</span>; \t\t</span><br><span class=\"line\"><span class=\"comment\">//true：false转换为0</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == <span class=\"string\">\"\"</span>; \t\t</span><br><span class=\"line\"><span class=\"comment\">//true：false转换为0；\"\"转换为0</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == []; \t\t</span><br><span class=\"line\"><span class=\"comment\">//true：false转换为0；[]转换为0</span></span><br><span class=\"line\"><span class=\"literal\">false</span> == &#123;&#125;; \t\t</span><br><span class=\"line\"><span class=\"comment\">//false：false转换为0；&#123;&#125;转换为NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == <span class=\"literal\">null</span>; \t\t</span><br><span class=\"line\"><span class=\"comment\">//false：\"\"转换为0；null转换为\"null\"，进而转换为数字，得到NaN</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == <span class=\"literal\">undefined</span>; \t</span><br><span class=\"line\"><span class=\"comment\">//false：\"\"转换为0；undefined转换为\"undefined\"，进而转换为数字，得到NaN</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == <span class=\"literal\">NaN</span>; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false：\"\"转换为0；与NaN不同</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == <span class=\"number\">0</span>; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true：\"\"转换为0</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == []; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true：\"\"转换为0；[]转换为0</span></span><br><span class=\"line\"><span class=\"string\">\"\"</span> == &#123;&#125;; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false：\"\"转换为0；&#123;&#125;转换为NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0</span> == <span class=\"literal\">null</span>; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false：null转换为\"null\"，进而转换为数字，得到NaN</span></span><br><span class=\"line\"><span class=\"number\">0</span> == <span class=\"literal\">undefined</span>; \t</span><br><span class=\"line\"><span class=\"comment\">//false：undefined转换为\"undefined\"，进而转换为数字，得到NaN</span></span><br><span class=\"line\"><span class=\"number\">0</span> == <span class=\"literal\">NaN</span>; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false：0与NaN不同</span></span><br><span class=\"line\"><span class=\"number\">0</span> == []; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//true：[]转换为0</span></span><br><span class=\"line\"><span class=\"number\">0</span> == &#123;&#125;; \t\t\t</span><br><span class=\"line\"><span class=\"comment\">//false：&#123;&#125;转换为NaN</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"一些极端情况\"><a href=\"#一些极端情况\" class=\"headerlink\" title=\"一些极端情况\"></a>一些极端情况</h4><p>a. [] == ![]; //true<br>　　[]被转换为0，![]被转换为false，进而被转换为0。<br>b. 2 == [2];  //true<br>　　[2]调用数组的<code>valueOf()</code>方法，返回”2”，进而被转换为2。<br>c. “” == [null]; //true<br>　　[null]调用数组的<code>valueOf()</code>方法，进而调用<code>toString()</code>方法，返回””。\n　　</p>\n<hr>\n<h3 id=\"一些选用的原则\"><a href=\"#一些选用的原则\" class=\"headerlink\" title=\"一些选用的原则\"></a>一些选用的原则</h3><ol>\n<li>如果==两边有true或者false（指本身，不是经过类型转换以后的），绝对不使用==。</li>\n<li>如果==两边有[]，””，0，尽量不使用==。</li>\n<li>==和===选取哪一个取决于是否允许比较双方进行强制类型转换。</li>\n<li>不应该一味地使用===来避免考虑这些可能的问题，因为有时候隐式类型转换可以让代码更加简洁，只要用的对。‘</li>\n<li><code>typeof x == &quot;function&quot;</code>、<code>typeof x ！= &quot;undefined&quot;</code>这样的用法是完全正确且安全的，开发中也常用。</li>\n</ol>\n<hr>\n<h3 id=\"经典的相等比较关系图\"><a href=\"#经典的相等比较关系图\" class=\"headerlink\" title=\"经典的相等比较关系图\"></a>经典的相等比较关系图</h3><p>GitHub上有一个经典的比较关系图，<a href=\"http://dorey.github.io/JavaScript-Equality-Table/\" target=\"_blank\" rel=\"external\">http://dorey.github.io/JavaScript-Equality-Table/</a>，以表格的形式系统总结了宽松相等==，严格相等===，if()条件语句中使用不同数据类型对应的结果，很有意义：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-equality-table-1.png\" alt=\"\"></p>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-equality-table-2.png\" alt=\"\"></p>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-equality-table-3.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"不等比较\"><a href=\"#不等比较\" class=\"headerlink\" title=\"不等比较\"></a>不等比较</h2><h3 id=\"和\"><a href=\"#和\" class=\"headerlink\" title=\"!= 和 !==\"></a>!= 和 !==</h3><p>　　只要搞清楚上面详细描述的==和===，对应取反即可。</p>\n<h3 id=\"gt-lt-gt-lt\"><a href=\"#gt-lt-gt-lt\" class=\"headerlink\" title=\"&gt;  &lt;  &gt;=  &lt;=\"></a>&gt;  &lt;  &gt;=  &lt;=</h3><blockquote>\n<p>这些比较的基础是 x &lt; y:</p>\n<p>x &lt; y会返回true或者false或者undefined。如果返回undefined，说明x,y两者至少有一个是NaN。比较算法中需要使用一个布尔值的标记LeftFirst作为参数。这个参数的作用是控制可能具有副作用的操作作用于x和y的顺序。这个标志是有必要的，因为在ECMAScript指定了从左到右的运算顺序，LeftFirst的默认值是true，表示x的表达式是在y的表达式左边的。如果LeftFirst值为false，情况相反，表明关于y的操作必须先于x进行。据此，比较操作规则如下：</p>\n<ol>\n<li>如果LeftFirst值为true：<br>　1.1 ToPrimitive(x, hint Number)的结果记为px<br>　1.2 ToPrimitive(y, hint Number)的结果记为py</li>\n<li>否则，运算顺序改为从右向左：<br>　2.1 ToPrimitive(y, hint Number)的结果记为py<br>　2.2 ToPrimitive(x, hint Number)的结果记为px</li>\n<li>经过如上转换，如果px和py至少有一个的类型不为string：<br>　3.1 ToNumber(px)的结果记为nx<br>　3.2 ToNumber(py)的结果记为ny<br>　3.3 如果nx是NaN，返回undefined<br>　3.4 如果ny是NaN，返回undefined<br>　3.5 如果nx和ny的值相同，返回false<br>　3.6 如果nx是+0，ny是-0，返回false<br>　3.7 如果nx是-0，ny是+0，返回false<br>　3.8 如果nx是+Infinity，返回false<br>　3.9 如果ny是+Infinity，返回true<br>　3.10 如果ny是-Infinity，返回false<br>　3.11 如果nx是-Infinity，返回true<br>　3.12 如果nx的值小于ny，返回true；否则，返回false</li>\n<li>如果px和py都是string：<br>　4.1 如果py是px的前缀，返回false<br>　4.2 如果px是py的前缀，返回true<br>　4.3 设置变量k，k表示px和py对应位上出现不同值时，位置的索引。<br>　4.4 记px的位置k上的字母对应的字符编码值为m<br>　4.5 记py的位置k上的字母对应的字符编码值为n<br>　4.6 如果m &lt; n，返回true；否则返回false</li>\n</ol>\n</blockquote>\n<p>因此，&gt;  &lt;  &gt;=  &lt;=就有如下的规则：\n　</p>\n<h4 id=\"RelationalExpression-gt-ShiftExpression\"><a href=\"#RelationalExpression-gt-ShiftExpression\" class=\"headerlink\" title=\"RelationalExpression &gt; ShiftExpression\"></a>RelationalExpression &gt; ShiftExpression</h4><ol>\n<li>记lref为RelationalExpression的运算结果值。</li>\n<li>记lval为lref类型转换后获取的value值。</li>\n<li>记rref为ShiftExpression的运算结果值。</li>\n<li>记rval为rref类型转换后获取的value值。</li>\n<li>设LeftFirst为false，将rval &lt; lval按照上述规则进行运算，结果为r。</li>\n<li>如果r是undefined返回false，否则返回r。</li>\n</ol>\n<h4 id=\"RelationalExpression-lt-ShiftExpression\"><a href=\"#RelationalExpression-lt-ShiftExpression\" class=\"headerlink\" title=\"RelationalExpression &lt; ShiftExpression\"></a>RelationalExpression &lt; ShiftExpression</h4><ol>\n<li>记lref为RelationalExpression的运算结果值。</li>\n<li>记lval为lref类型转换后获取的value值。</li>\n<li>记rref为ShiftExpression的运算结果值。</li>\n<li>记rval为rref类型转换后获取的value值。</li>\n<li>将lval &lt; rval按照上述规则进行运算，结果为r。</li>\n<li>如果r是undefined返回false，否则返回r。</li>\n</ol>\n<h4 id=\"RelationalExpression-gt-ShiftExpression-1\"><a href=\"#RelationalExpression-gt-ShiftExpression-1\" class=\"headerlink\" title=\"RelationalExpression &gt;= ShiftExpression\"></a>RelationalExpression &gt;= ShiftExpression</h4><ol>\n<li>记lref为RelationalExpression的运算结果值。</li>\n<li>记lval为lref类型转换后获取的value值。</li>\n<li>记rref为ShiftExpression的运算结果值。</li>\n<li>记rval为rref类型转换后获取的value值。</li>\n<li>设LeftFirst为false，将rval &lt; lval按照上述规则进行运算，结果为r。</li>\n<li>如果r是true或者undefined返回false，否则返回true。</li>\n</ol>\n<h4 id=\"RelationalExpression-lt-ShiftExpression-1\"><a href=\"#RelationalExpression-lt-ShiftExpression-1\" class=\"headerlink\" title=\"RelationalExpression &lt;= ShiftExpression\"></a>RelationalExpression &lt;= ShiftExpression</h4><ol>\n<li>记lref为RelationalExpression的运算结果值。</li>\n<li>记lval为lref类型转换后获取的value值。</li>\n<li>记rref为ShiftExpression的运算结果值。</li>\n<li>记rval为rref类型转换后获取的value值。</li>\n<li>将lval &lt; rval按照上述规则进行运算，结果为r。</li>\n<li>如果r是true或者undefined返回false，否则返回true。</li>\n</ol>\n"},{"title":"leetcode [#171]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/25/leetcode-171/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a column title as appear in an Excel sheet, return its corresponding column number.</p>\n<p><strong>Note</strong>:<br>A -&gt; 1<br>B -&gt; 2<br>C -&gt; 3<br>…<br>Z -&gt; 26<br>AA -&gt; 27<br>AB -&gt; 28 </p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">titleToNumber</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">double</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; s.length(); i++) result += Math.pow(<span class=\"number\">26</span>, (s.length() - <span class=\"number\">1</span> - i)) * (s.charAt(i) - <span class=\"string\">'A'</span> + <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">int</span>) result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历字符串，每一位的权重是26的(s.length() - 1 - i)次幂，结果求和即可。</li>\n</ol>\n"},{"title":"leetcode [#172]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/25/leetcode-172/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an integer n, return the number of trailing zeroes in n!.</p>\n<p><strong>Note</strong>:<br>Your solution should be in logarithmic time complexity.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">trailingZeroes</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(n &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            count += n / <span class=\"number\">5</span>;</span><br><span class=\"line\">            n = n / <span class=\"number\">5</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>并不是单纯考察求解某个数的阶乘值，因此没有必要按照给定的n先求出n!是多少，这样的话复杂度也符合o(lgn)的要求。</li>\n<li>n!值末尾有0，那么必然是2和5相乘得来的（不可能是0本身）。因此，n!末尾有几个0，取决于2的个数和5的个数的最小值。可以得到的结论是，由于2比5小，因此对于任意正整数来说，阶乘各项中5的个数一定小于等于2的个数。因此，问题转化为对于给定n，从1到n相乘一共可以分解出多少个5。那么，在n大于0的条件下，不断将n除以5，将所得商累加起来，就是5的个数。</li>\n</ol>\n"},{"title":"leetcode [#278]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/25/leetcode-278/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>You are a product manager and currently leading a team to develop a new product. Unfortunately, the latest version of your product fails the quality check. Since each version is developed based on the previous version, all the versions after a bad version are also bad.</p>\n<p>Suppose you have n versions [1, 2, …, n] and you want to find out the first bad one, which causes all the following ones to be bad.</p>\n<p>You are given an API bool isBadVersion(version) which will return whether version is bad. Implement a function to find the first bad version. You should minimize the number of calls to the API.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* The isBadVersion API is defined in the parent class VersionControl.</span><br><span class=\"line\">      boolean isBadVersion(int version); */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> <span class=\"keyword\">extends</span> <span class=\"title\">VersionControl</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">firstBadVersion</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> j = n;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(isBadVersion(<span class=\"number\">1</span>)) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (i &lt; j)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> mid = i + (j - i) / <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!isBadVersion(mid))&#123;</span><br><span class=\"line\">                i = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                j = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> isBadVersion(i) ? i : i+<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li><p>要清楚理解题意。待实现方法firstBadVersion()需要一个参数：即1~n的n，但是整个功能需要传入两个参数：数据范围、第一个出错版本的版本号。其中，n传递给firstBadVersion()，而第一个出错版本的版本号bad则在solution类实例化时通过在其构造函数中调用父类构造函数来传入。因此，在本地测试时要加上isBadVersion()方法的实现，整体代码如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> task278;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Created by gaochang on 2016/11/25.</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">solution</span> <span class=\"keyword\">extends</span> <span class=\"title\">VersionControl</span></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">solution</span><span class=\"params\">(<span class=\"keyword\">int</span> pick)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(pick);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">firstBadVersion</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> j = n;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(isBadVersion(<span class=\"number\">1</span>)) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (i &lt; j)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> mid = i + (j - i) / <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!isBadVersion(mid))&#123;</span><br><span class=\"line\">                i = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                j = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> isBadVersion(i) ? i : i+<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> n = <span class=\"number\">3</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> bad = <span class=\"number\">2</span>;</span><br><span class=\"line\">        solution s = <span class=\"keyword\">new</span> solution(bad);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> re = s.firstBadVersion(n);</span><br><span class=\"line\">        System.out.println(re);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">VersionControl</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">VersionControl</span><span class=\"params\">(<span class=\"keyword\">int</span> val)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.res = val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isBadVersion</span><span class=\"params\">(<span class=\"keyword\">int</span> version)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> version &gt;= res ? <span class=\"keyword\">true</span> : <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>与使用二分查找某一具体元素稍有不同的是，本题是要在数组中找到<strong>第一个</strong>false（即第一个出错版本的版本号），二分查找，每次判断中间mid元素的正确性。如果正确，则在当前的后半段继续查找，如果错误，则在当前的前半段继续查找，跳出条件是头索引小于尾索引。这样，调出后的i并不一定指向的是第一个错误版本的序号，有可能是第一个错误版本的序号的前一个。因此最后返回的时候要再对i对应版本的正确性进行一次判断。</p>\n</li>\n</ol>\n"},{"title":"JavaScript中对象属性存在性及相关检测方法总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/25/js-obj-attr-exist-or-not-and-related-detect-function/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　访问一个对象中的某个属性时，返回的结果可能是undefined，这有可能是本身该属性存储的值就是undefined，也有可能是该属性在对象中不存在。对此，就产生了判断属性存在性的相关问题和解决方法。</p>\n<hr>\n<h2 id=\"in操作符\"><a href=\"#in操作符\" class=\"headerlink\" title=\"in操作符\"></a>in操作符</h2><h3 id=\"语法格式\"><a href=\"#语法格式\" class=\"headerlink\" title=\"语法格式\"></a>语法格式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">(<span class=\"string\">\"name\"</span> <span class=\"keyword\">in</span> obj);  <span class=\"comment\">//true</span></span><br><span class=\"line\">(<span class=\"string\">\"sex\"</span> <span class=\"keyword\">in</span> obj);   <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"是否查找原型链\"><a href=\"#是否查找原型链\" class=\"headerlink\" title=\"是否查找原型链\"></a>是否查找原型链</h3><p><strong>是</strong><br>该操作会检查属性在对象本身及其[[prototype]]原型链中是否存在。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> pro = &#123;</span><br><span class=\"line\">    sex : <span class=\"string\">\"m\"</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.__proto__ = pro;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">\"sex\"</span> <span class=\"keyword\">in</span> obj;    <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"所查找的属性是否必须满足可枚举（enumerable-true）\"><a href=\"#所查找的属性是否必须满足可枚举（enumerable-true）\" class=\"headerlink\" title=\"所查找的属性是否必须满足可枚举（enumerable:true）\"></a>所查找的属性是否必须满足可枚举（enumerable:true）</h3><p><strong>否</strong><br>该操作会检查对象本身及其[[prototype]]原型链上的所有属性，无论其是否可枚举。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(obj, <span class=\"string\">\"own\"</span>, &#123;</span><br><span class=\"line\">\tenumerable : <span class=\"literal\">false</span>,</span><br><span class=\"line\">\tvalue : <span class=\"number\">5</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">(<span class=\"string\">\"own\"</span> <span class=\"keyword\">in</span> obj);  <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"其他说明\"><a href=\"#其他说明\" class=\"headerlink\" title=\"其他说明\"></a>其他说明</h3><p><code>in</code>检查的是属性名，而非属性值。</p>\n<hr>\n<h2 id=\"obj-hasOwnProperty-attr\"><a href=\"#obj-hasOwnProperty-attr\" class=\"headerlink\" title=\"obj.hasOwnProperty(attr)\"></a>obj.hasOwnProperty(attr)</h2><h3 id=\"语法格式-1\"><a href=\"#语法格式-1\" class=\"headerlink\" title=\"语法格式\"></a>语法格式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.hasOwnProperty(<span class=\"string\">\"name\"</span>);  <span class=\"comment\">//true</span></span><br><span class=\"line\">obj.hasOwnProperty(<span class=\"string\">\"sex\"</span>);   <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"是否查找原型链-1\"><a href=\"#是否查找原型链-1\" class=\"headerlink\" title=\"是否查找原型链\"></a>是否查找原型链</h3><p><strong>否</strong><br>该操作仅会检查属性在对象本身是否存在，不会检查其[[prototype]]原型链。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> pro = &#123;</span><br><span class=\"line\">    sex : <span class=\"string\">\"m\"</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.__proto__ = pro;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.hasOwnProperty(<span class=\"string\">\"sex\"</span>);    <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"所查找的属性是否必须满足可枚举（enumerable-true）-1\"><a href=\"#所查找的属性是否必须满足可枚举（enumerable-true）-1\" class=\"headerlink\" title=\"所查找的属性是否必须满足可枚举（enumerable:true）\"></a>所查找的属性是否必须满足可枚举（enumerable:true）</h3><p><strong>否</strong><br>该操作会检查属对象本身上的所有属性，无论其是否可枚举。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(obj, <span class=\"string\">\"own\"</span>, &#123;</span><br><span class=\"line\">\tenumerable : <span class=\"literal\">false</span>,</span><br><span class=\"line\">\tvalue : <span class=\"number\">5</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">obj.hasOwnProperty(<span class=\"string\">\"own\"</span>);    <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"其他说明-1\"><a href=\"#其他说明-1\" class=\"headerlink\" title=\"其他说明\"></a>其他说明</h3><p>一般来讲，所有普通对象都可以通过对Object.prototype的委托来访问hasOwnProperty()，但是，对于有些特殊情况，比如通过Object.create(null)来创建的对象，它就没有连接到Object.prototype，因此就无法使用该方法：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">null</span>);</span><br><span class=\"line\">a.name = <span class=\"string\">\"bob\"</span>;</span><br><span class=\"line\">a.hasOwnProperty(<span class=\"string\">\"name\"</span>); <span class=\"comment\">//VM2137:1 Uncaught TypeError: a.hasOwnProperty is not a function(…)</span></span><br></pre></td></tr></table></figure></p>\n<p>这时可通过显式绑定来达到效果：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">null</span>);</span><br><span class=\"line\">a.name = <span class=\"string\">\"bob\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.prototype.hasOwnProperty.call(a, <span class=\"string\">\"name\"</span>); <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"for-var-k-in-obj-循环\"><a href=\"#for-var-k-in-obj-循环\" class=\"headerlink\" title=\"for(var k in obj)循环\"></a>for(var k in obj)循环</h2><h3 id=\"语法格式-2\"><a href=\"#语法格式-2\" class=\"headerlink\" title=\"语法格式\"></a>语法格式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> k <span class=\"keyword\">in</span> obj)&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(k, obj[k]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//name Bob</span></span><br><span class=\"line\"><span class=\"comment\">//age 24</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"是否查找原型链-2\"><a href=\"#是否查找原型链-2\" class=\"headerlink\" title=\"是否查找原型链\"></a>是否查找原型链</h3><p><strong>是</strong><br>该操作会检查属性在对象本身及其[[prototype]]原型链中是否存在。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> pro = &#123;</span><br><span class=\"line\">    sex : <span class=\"string\">\"m\"</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.__proto__ = pro;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//name Bob</span></span><br><span class=\"line\"><span class=\"comment\">//age 24</span></span><br><span class=\"line\"><span class=\"comment\">//sex m</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"所查找的属性是否必须满足可枚举（enumerable-true）-2\"><a href=\"#所查找的属性是否必须满足可枚举（enumerable-true）-2\" class=\"headerlink\" title=\"所查找的属性是否必须满足可枚举（enumerable:true）\"></a>所查找的属性是否必须满足可枚举（enumerable:true）</h3><p><strong>是</strong><br>该操作仅会检查对象本身及其[[prototype]]原型链上的所有可枚举属性<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(obj, <span class=\"string\">\"own\"</span>, &#123;</span><br><span class=\"line\">\tenumerable : <span class=\"literal\">false</span>,</span><br><span class=\"line\">\tvalue : <span class=\"number\">5</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> k <span class=\"keyword\">in</span> obj)&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(k, obj[k]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//name Bob</span></span><br><span class=\"line\"><span class=\"comment\">//age 24</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"其他说明-2\"><a href=\"#其他说明-2\" class=\"headerlink\" title=\"其他说明\"></a>其他说明</h3><p>不要在数组上运用这种for(var k in obj)循环，因为这种枚举不仅会包含所有数值索引，还会包含所有可枚举属性，可能会产生一些问题。对于数组遍历，采用普通for循环或者forEach()方法就好。</p>\n<hr>\n<h2 id=\"obj-propertyIsEnumerable\"><a href=\"#obj-propertyIsEnumerable\" class=\"headerlink\" title=\"obj.propertyIsEnumerable\"></a>obj.propertyIsEnumerable</h2><h3 id=\"语法格式-3\"><a href=\"#语法格式-3\" class=\"headerlink\" title=\"语法格式\"></a>语法格式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.propertyIsEnumerable(<span class=\"string\">\"name\"</span>);  <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"是否查找原型链-3\"><a href=\"#是否查找原型链-3\" class=\"headerlink\" title=\"是否查找原型链\"></a>是否查找原型链</h3><p><strong>否</strong><br>该操作仅会检查属性在对象本身是否存在，不会检查其[[prototype]]原型链。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> pro = &#123;</span><br><span class=\"line\">    sex : <span class=\"string\">\"m\"</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.__proto__ = pro;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.propertyIsEnumerable(<span class=\"string\">\"sex\"</span>);  <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"所查找的属性是否必须满足可枚举（enumerable-true）-3\"><a href=\"#所查找的属性是否必须满足可枚举（enumerable-true）-3\" class=\"headerlink\" title=\"所查找的属性是否必须满足可枚举（enumerable:true）\"></a>所查找的属性是否必须满足可枚举（enumerable:true）</h3><p><strong>是</strong><br>从名字容易看出，属性必须满足enumerable:true<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(obj, <span class=\"string\">\"own\"</span>, &#123;</span><br><span class=\"line\">\tenumerable : <span class=\"literal\">false</span>,</span><br><span class=\"line\">\tvalue : <span class=\"number\">5</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">obj.propertyIsEnumerable(<span class=\"string\">\"own\"</span>);  <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"Object-getOwnPropertyNames-obj\"><a href=\"#Object-getOwnPropertyNames-obj\" class=\"headerlink\" title=\"Object.getOwnPropertyNames(obj)\"></a>Object.getOwnPropertyNames(obj)</h2><h3 id=\"语法格式-4\"><a href=\"#语法格式-4\" class=\"headerlink\" title=\"语法格式\"></a>语法格式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.getOwnPropertyNames(obj);    <span class=\"comment\">//[\"name\", \"age\"]</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"是否查找原型链-4\"><a href=\"#是否查找原型链-4\" class=\"headerlink\" title=\"是否查找原型链\"></a>是否查找原型链</h3><p><strong>否</strong><br>该操作仅会检查属性在对象本身是否存在，不会检查其[[prototype]]原型链。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> pro = &#123;</span><br><span class=\"line\">    sex : <span class=\"string\">\"m\"</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.__proto__ = pro;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.getOwnPropertyNames(obj);    <span class=\"comment\">//[\"name\", \"age\"]</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"所查找的属性是否必须满足可枚举（enumerable-true）-4\"><a href=\"#所查找的属性是否必须满足可枚举（enumerable-true）-4\" class=\"headerlink\" title=\"所查找的属性是否必须满足可枚举（enumerable:true）\"></a>所查找的属性是否必须满足可枚举（enumerable:true）</h3><p><strong>否</strong><br>该操作会检查属对象本身上的所有属性，无论其是否可枚举。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(obj, <span class=\"string\">\"own\"</span>, &#123;</span><br><span class=\"line\">\tenumerable : <span class=\"literal\">false</span>,</span><br><span class=\"line\">\tvalue : <span class=\"number\">5</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.getOwnPropertyNames(obj);  <span class=\"comment\">//[\"name\", \"age\", \"own\"]</span></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"Object-keys-obj\"><a href=\"#Object-keys-obj\" class=\"headerlink\" title=\"Object.keys(obj)\"></a>Object.keys(obj)</h2><h3 id=\"语法格式-5\"><a href=\"#语法格式-5\" class=\"headerlink\" title=\"语法格式\"></a>语法格式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.keys(obj);    <span class=\"comment\">//[\"name\", \"age\"]</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"是否查找原型链-5\"><a href=\"#是否查找原型链-5\" class=\"headerlink\" title=\"是否查找原型链\"></a>是否查找原型链</h3><p><strong>否</strong><br>该操作仅会检查属性在对象本身是否存在，不会检查其[[prototype]]原型链。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> pro = &#123;</span><br><span class=\"line\">    sex : <span class=\"string\">\"m\"</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.__proto__ = pro;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.keys(obj);    <span class=\"comment\">//[\"name\", \"age\"]</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"所查找的属性是否必须满足可枚举（enumerable-true）-5\"><a href=\"#所查找的属性是否必须满足可枚举（enumerable-true）-5\" class=\"headerlink\" title=\"所查找的属性是否必须满足可枚举（enumerable:true）\"></a>所查找的属性是否必须满足可枚举（enumerable:true）</h3><p><strong>是</strong><br>该操作仅会检查对象本身上的所有可枚举属性<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage : <span class=\"number\">24</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(obj, <span class=\"string\">\"own\"</span>, &#123;</span><br><span class=\"line\">\tenumerable : <span class=\"literal\">false</span>,</span><br><span class=\"line\">\tvalue : <span class=\"number\">5</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.keys(obj);    <span class=\"comment\">//[\"name\", \"age\"]</span></span><br></pre></td></tr></table></figure></p>\n"},{"title":"leetcode [#232]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/25/leetcode-232/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Implement the following operations of a queue using stacks.</p>\n<ul>\n<li>push(x) – Push element x to the back of queue.</li>\n<li>pop() – Removes the element from in front of queue.</li>\n<li>peek() – Get the front element.</li>\n<li>empty() – Return whether the queue is empty.</li>\n</ul>\n<p><strong>Note</strong></p>\n<ul>\n<li>You must use only standard operations of a stack – which means only push to top, peek/pop from top, size, and is empty operations are valid.</li>\n<li>Depending on your language, stack may not be supported natively. You may simulate a stack by using a list or deque (double-ended queue), as long as you use only standard operations of a stack.</li>\n<li>You may assume that all operations are valid (for example, no pop or peek operations will be called on an empty queue).</li>\n</ul>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyQueue</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Stack&lt;Integer&gt; stack1 = <span class=\"keyword\">new</span> Stack&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Stack&lt;Integer&gt; stack2 = <span class=\"keyword\">new</span> Stack&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Push element x to the back of queue.</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        stack1.push(x);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Removes the element from in front of queue.</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack1.empty())&#123;</span><br><span class=\"line\">            stack2.push(stack1.pop());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stack2.pop();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack2.empty())&#123;</span><br><span class=\"line\">            stack1.push(stack2.pop());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Get the front element.</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">peek</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack1.empty())&#123;</span><br><span class=\"line\">            stack2.push(stack1.pop());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> res = stack2.peek();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack2.empty())&#123;</span><br><span class=\"line\">            stack1.push(stack2.pop());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Return whether the queue is empty.</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">empty</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> stack1.empty() ? <span class=\"keyword\">true</span> : <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用两个栈来实现队列。</li>\n<li>思路是，对于push()操作，直接向第一个栈push即可；对于pop()操作，将第一个栈所有元素弹出并压入第二个栈，弹出第二个栈的栈顶元素，再把剩下的元素依次弹出并压回第一个栈；对于peek()操作，将第一个栈所有元素弹出并压入第二个栈，查看第二个栈的栈顶元素（只是查看），之后将第二个栈的所有元素依次弹出并压回第一个栈。</li>\n</ol>\n"},{"title":"leetcode [#155]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/24/leetcode-155/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.</p>\n<ul>\n<li>push(x) – Push element x onto stack.</li>\n<li>pop() – Removes the element on top of the stack.</li>\n<li>top() – Get the top element.</li>\n<li>getMin() – Retrieve the minimum element in the stack.</li>\n</ul>\n<p><strong>Example</strong><br>MinStack minStack = new MinStack();<br>minStack.push(-2);<br>minStack.push(0);<br>minStack.push(-3);<br>minStack.getMin();   –&gt; Returns -3.<br>minStack.pop();<br>minStack.top();      –&gt; Returns 0.<br>minStack.getMin();   –&gt; Returns -2.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MinStack</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Integer&gt; list;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> min = <span class=\"number\">2147483647</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** initialize your data structure here. */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MinStack</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        list.add(x);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(list.size() == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            min = x;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(x &lt; min) min = x;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        list.remove(list.size() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(list.size() &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> tmp = list.get(<span class=\"number\">0</span>);</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; list.size(); i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(list.get(i) &lt; tmp)&#123;</span><br><span class=\"line\">                    tmp = list.get(i);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            min = tmp;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">top</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list.get(list.size() - <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getMin</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list.size() == <span class=\"number\">0</span> ? <span class=\"number\">0</span> : min;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Your MinStack object will be instantiated and called as such:</span><br><span class=\"line\"> * MinStack obj = new MinStack();</span><br><span class=\"line\"> * obj.push(x);</span><br><span class=\"line\"> * obj.pop();</span><br><span class=\"line\"> * int param_3 = obj.top();</span><br><span class=\"line\"> * int param_4 = obj.getMin();</span><br><span class=\"line\"> */</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>按照堆栈的定义依次实现各方法。</li>\n<li>push()操作时，压入元素的同时要更新min的值；getMin()操作时，直接返回min的值；pop()操作时，弹出元素的同时要记得更新min的值。</li>\n</ol>\n"},{"title":"leetcode [#374]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/24/leetcode-374/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>We are playing the Guess Game. The game is as follows:</p>\n<p>I pick a number from 1 to n. You have to guess which number I picked.</p>\n<p>Every time you guess wrong, I’ll tell you whether the number is higher or lower.</p>\n<p>You call a pre-defined API guess(int num) which returns 3 possible results (-1, 1, or 0):</p>\n<p>-1 : My number is lower<br> 1 : My number is higher<br> 0 : Congrats! You got it!</p>\n<p><strong>Example</strong>:<br>n = 10, I pick 6.</p>\n<p>Return 6.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* The guess API is defined in the parent class GuessGame.</span><br><span class=\"line\">   @param num, your guess</span><br><span class=\"line\">   @return -1 if my number is lower, 1 if my number is higher, otherwise return 0</span><br><span class=\"line\">      int guess(int num); */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> <span class=\"keyword\">extends</span> <span class=\"title\">GuessGame</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">guessNumber</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i = <span class=\"number\">1</span>, j = n;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(i &lt; j) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> mid = i + (j - i) / <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(guess(mid) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(guess(mid) == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                i = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                j = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li><p>要清楚理解题意。待实现方法guessNumber()需要一个参数：即1~n的n，但是整个功能需要传入两个参数：数据范围、出题人选择的数字。其中，n传递给guessNumber()，而选择的数字pick则在solution类实例化时通过在其构造函数中调用父类构造函数来传入。因此，在本地测试时要加上guess()方法的实现，整体代码如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> task374;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Created by gaochang on 2016/11/24.</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">solution</span> <span class=\"keyword\">extends</span> <span class=\"title\">GuessGame</span></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">solution</span><span class=\"params\">(<span class=\"keyword\">int</span> pick)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(pick);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">guessNumber</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i = <span class=\"number\">1</span>, j = n;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(i &lt; j) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> mid = i + (j - i) / <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(guess(mid) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(guess(mid) == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                i = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                j = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> pick = <span class=\"number\">6</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> n = <span class=\"number\">10</span>;</span><br><span class=\"line\">        solution s = <span class=\"keyword\">new</span> solution(pick);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> re = s.guessNumber(n);</span><br><span class=\"line\">        System.out.println(re);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GuessGame</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">GuessGame</span><span class=\"params\">(<span class=\"keyword\">int</span> val)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.res = val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">guess</span><span class=\"params\">(<span class=\"keyword\">int</span> num)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(res &gt; num) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(res == num)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>在1~n的范围内，对pick进行二分查找即可。</p>\n</li>\n</ol>\n"},{"title":"leetcode [#168]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/24/leetcode-168/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a positive integer, return its corresponding column title as appear in an Excel sheet.</p>\n<p><strong>Example</strong>:<br>1 -&gt; A<br>2 -&gt; B<br>3 -&gt; C<br>…<br>26 -&gt; Z<br>27 -&gt; AA<br>28 -&gt; AB </p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">convertToTitle</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(n &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(n % <span class=\"number\">26</span> == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                list.add(<span class=\"number\">26</span>);</span><br><span class=\"line\">                n = n / <span class=\"number\">26</span> - <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                list.add(n % <span class=\"number\">26</span>);</span><br><span class=\"line\">                n = n / <span class=\"number\">26</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuilder builder = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = list.size() - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) builder.append((<span class=\"keyword\">char</span>) (<span class=\"string\">'A'</span> + list.get(i) - <span class=\"number\">1</span>));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>本题相当于将输入的数字转换成二十六进制数（只不过不是0-25，而是1-26），然后使用A-Z代表1-26这26个数字。</li>\n</ol>\n"},{"title":"leetcode [#225]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/24/leetcode-225/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Implement the following operations of a stack using queues.</p>\n<ul>\n<li>push(x) – Push element x onto stack.</li>\n<li>pop() – Removes the element on top of the stack.</li>\n<li>top() – Get the top element.</li>\n<li>empty() – Return whether the stack is empty.</li>\n</ul>\n<p><strong>Note</strong></p>\n<ul>\n<li>You must use only standard operations of a queue – which means only push to back, peek/pop from front, size, and is empty operations are valid.</li>\n<li>Depending on your language, queue may not be supported natively. You may simulate a queue by using a list or deque (double-ended queue), as long as you use only standard operations of a queue.</li>\n<li>You may assume that all operations are valid (for example, no pop or top operations will be called on an empty stack).</li>\n</ul>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyStack</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> LinkedList&lt;Integer&gt; list1 = <span class=\"keyword\">new</span> LinkedList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> LinkedList&lt;Integer&gt; list2 = <span class=\"keyword\">new</span> LinkedList&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Push element x onto stack.</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        list1.addLast(x);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Removes the element on top of the stack.</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (list1.size() &gt; <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            list2.addLast(list1.poll());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        list1.poll();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!list2.isEmpty())&#123;</span><br><span class=\"line\">            list1.addLast(list2.poll());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Get the top element.</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">top</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> res = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!list1.isEmpty())&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(list1.size() == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                res = list1.poll();</span><br><span class=\"line\">                list2.addLast(res);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                list2.addLast(list1.poll());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!list2.isEmpty())&#123;</span><br><span class=\"line\">            list1.addLast(list2.poll());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Return whether the stack is empty.</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">empty</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list1.isEmpty() ? <span class=\"keyword\">true</span> : <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用两个队列实现栈。</li>\n<li>思路是：对于push()操作，直接向第一个队列push即可；对于pop()操作，如果第一个队列的大小大于1，则将第一个队列的元素弹出并压入第二个队列，否则，也就是第一个队列只剩下一个元素的时候，直接将其弹出（但不压入第二个队列），最后再把第二个队列所有元素放回第一个队列；对于peek()操作，类似pop()，当第一个队列大小为1的时候，将这个元素的值赋给res，最后把第二个队列所有元素放回第一个队列。</li>\n</ol>\n"},{"title":"JavaScript中二维数组声明时漏写一个逗号所产生现象的探究","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/24/2d-array-miss-a-comma/","content":"<h2 id=\"场景与现象\"><a href=\"#场景与现象\" class=\"headerlink\" title=\"场景与现象\"></a>场景与现象</h2><p>　　具体业务逻辑：在组件进行初始化时需要赋值一个二维数组（4 * 12），如下所示：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$scope.data = [  </span><br><span class=\"line\">\t[<span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">13</span>, <span class=\"number\">16</span>, <span class=\"number\">18</span>, <span class=\"number\">16</span>, <span class=\"number\">15</span>, <span class=\"number\">9</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>]</span><br><span class=\"line\">\t[<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">7</span>, <span class=\"number\">12</span>, <span class=\"number\">15</span>, <span class=\"number\">16</span>, <span class=\"number\">15</span>, <span class=\"number\">15</span>, <span class=\"number\">10</span>, <span class=\"number\">6</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">\t[<span class=\"number\">4</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>, <span class=\"number\">16</span>, <span class=\"number\">22</span>, <span class=\"number\">25</span>, <span class=\"number\">24</span>, <span class=\"number\">20</span>, <span class=\"number\">14</span>, <span class=\"number\">9</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">\t[<span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">8</span>, <span class=\"number\">14</span>, <span class=\"number\">17</span>, <span class=\"number\">22</span>, <span class=\"number\">25</span>, <span class=\"number\">27</span>, <span class=\"number\">24</span>, <span class=\"number\">17</span>, <span class=\"number\">14</span>, <span class=\"number\">10</span>]</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure></p>\n<p>　　应该能够发现，数组声明时漏写了一个逗号。这就导致在使用该数组对其他对象进行赋值时出现了奇怪的现象：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/miss-a-comma-1.png\" alt=\"\"></p>\n<p>其中后三列是好解释的：第二列和第三列分别对应了原二维数组中的[4, 4, 5, 10, 16, 22, 25, 24, 20, 14, 9, 3]和[7, 6, 8, 14, 17, 22, 25, 27, 24, 17, 14, 10]，由此第四列必然取不到值了，是undefined。但是，为什么第一列的取值是一个数字16?</p>\n<hr>\n<h2 id=\"解释\"><a href=\"#解释\" class=\"headerlink\" title=\"解释\"></a>解释</h2><p>这个现象涉及到了javascript的如下知识点：</p>\n<ol>\n<li>与java等语言不同，javascript中数组的各个元素可以是不同数据类型。比如一个数组中有字符串，有数字，有布尔值。</li>\n<li>在javascript中，数组也是对象，且可以通过方括号[下标]的形式取出某个元素，比如”[0,4,2][1]”的值是4，即数组[0,4,2]中下标为1的元素。</li>\n<li>逗号“,”在javascript中是“逗号运算符”，解析时，js引擎会先计算逗号左边的值，再计算逗号右边的值，<strong>但只返回逗号右边的值</strong>。比如：<code>var a = (1+1, 2+2, 3+3);</code>结果a会为6。</li>\n</ol>\n<blockquote>\n<p>根据以上几点，可以清楚解释上面的现象“16”：<br>漏写了一个逗号，违背了我们的本意（4个数组），但js引擎并不认为这是错误的，而认为是想在[-1, 1, 3, 7, 13, 16, 18, 16, 15, 9, 4, 2]中取值，取值方括号中本来只应该放一个下标（如上面解释第二点所说），这里却放了由逗号连接的很多个值[0, 1, 4, 7, 12, 15, 16, 15, 15, 10, 6, 5]，js引擎也不会认为这是错误的，因为实质上在进行“逗号运算”，运算结果是最后一个逗号右边的值，即5。也就是说：<br>[-1, 1, 3, 7, 13, 16, 18, 16, 15, 9, 4, 2][0, 1, 4, 7, 12, 15, 16, 15, 15, 10, 6, 5]<br>相当于<br>[-1, 1, 3, 7, 13, 16, 18, 16, 15, 9, 4, 2][5]<br>也就是取下标为5的元素，即16。</p>\n</blockquote>\n"},{"title":"JavaScript的call()、apply()、bind()方法对比总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/24/js-call-apply/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　JavaScript中的函数其实就是一种对象。函数对象也有自己的很多方法。其中，call()方法和apply()方法就是两个用来间接调用函数的方法。两个方法都允许显式地指明调用时的上下文环境（即this的值）。也就是说，这给我们提供了一种自由—任何函数可以作为任何对象的方法来进行调用。并且，两个方法也都允许显式地指明调用时需要用到的实参。函数经call()或apply()调用后会立即执行，而经过bind()方法调用后，只是改变了函数绑定的作用域，要想执行函数，还需要对bind()的返回值（一个函数）进行一次调用。bind()方法的实现也是值得探究的内容。</p>\n<hr>\n<h2 id=\"call-方法\"><a href=\"#call-方法\" class=\"headerlink\" title=\"call()方法\"></a>call()方法</h2><p><strong>参数</strong><br>　　<code>f.call(o, value1, value2, ...)</code><br>　　f： 想要调用的方法<br>　　o： 想要调用的方法的作用域（也就是在哪个对象上调用该方法）<br>　　value1, value2, …： 调用方法时传入的一系列参数<br><strong>使用示例</strong><br>1.简单调用call()方法，作用在当前this对象（浏览器对象）上<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-call-1.png\" alt=\"\"></p>\n<p>2.调用call()方法给自定义对象新增属性<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-call-2.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"apply-方法\"><a href=\"#apply-方法\" class=\"headerlink\" title=\"apply()方法\"></a>apply()方法</h2><p><strong>参数</strong><br>　　<code>f.apply(o, [value1, value2, ...])</code><br>　　f： 想要调用的方法<br>　　o： 想要调用的方法的作用域（也就是在哪个对象上调用该方法）<br>　　[value1, value2, …]： 调用方法时传入的一个参数数组<br><strong>说明</strong><br>　　给apply()传入的参数数组可以是真正的数组，也可以是类数组对象</p>\n<blockquote>\n<p>类数组对象<br>  它不是真正的数组对象，却有着很多与数组类似的特性。很多数组算法针对类数组对象的优化做的很好，就像针对真正的数组一样。下面是一个简单的类数组对象创建的过程：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-apply-3.png\" alt=\"\"></p>\n</blockquote>\n<p><strong>使用示例</strong><br>Math.max()本来是可以接受任意个参数来判断最大值，但如果给它传入一个数组，是不能正确返回最大值的：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-apply-1.png\" alt=\"\"></p>\n<p>如果使用apply()方法，按照参数要求是接收一个数组，那么此时是可以给Math.max()传入一个数组的：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-apply-2.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"bind-方法\"><a href=\"#bind-方法\" class=\"headerlink\" title=\"bind()方法\"></a>bind()方法</h2><p><strong>参数</strong><br>　　<code>fun.bind(thisArg[, arg1[, arg2[, ...]]])</code></p>\n<ul>\n<li><p>thisArg<br>当绑定函数被调用时，该参数会作为原函数运行时的this指向。当使用new操作符调用绑定函数时，该参数无效。</p>\n</li>\n<li><p>arg1, arg2, …<br>当绑定函数被调用时，这些参数加上绑定函数本身的参数会按照顺序作为原函数运行时的参数。</p>\n</li>\n<li><p>返回值<br>返回由指定的this值和初始化参数改造的原函数拷贝</p>\n</li>\n</ul>\n<p><strong>说明</strong><br>　　bind() 函数会创建一个新函数（称为绑定函数），新函数与被调函数（绑定函数的目标函数）具有相同的函数体（在 ECMAScript 5 规范中内置的call属性）。当目标函数被调用时 this 值绑定到 bind() 的第一个参数，该参数不能被重写。绑定函数被调用时，bind() 也接受预设的参数提供给原函数。一个绑定函数也能使用new操作符创建对象：这种行为就像把原函数当成构造器。提供的 this 值被忽略，同时调用时的参数被提供给模拟函数。</p>\n<p><strong>使用示例</strong><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.x = <span class=\"number\">9</span>; </span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">module</span> = &#123;</span><br><span class=\"line\">  x: <span class=\"number\">81</span>,</span><br><span class=\"line\">  getX: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.x; &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.getX(); <span class=\"comment\">// 返回 81</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> retrieveX = <span class=\"built_in\">module</span>.getX;</span><br><span class=\"line\">retrieveX(); <span class=\"comment\">// 返回 9, 在这种情况下，\"this\"指向全局作用域</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 创建一个新函数，将\"this\"绑定到module对象</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> boundGetX = retrieveX.bind(<span class=\"built_in\">module</span>);</span><br><span class=\"line\">boundGetX(); <span class=\"comment\">// 返回 81</span></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>1.在ECMAScript5严格模式中，call()和apply()的第一个实参都会变为this的值，哪怕传入的实参是原始值甚至是null或undefined。而在ECMAScript3非严格模式中，传入的null或者undefined则会被全局对象代替，而原始值则会变成相应的包装对象。</p>\n<p>2.<font color=\"red\">为什么会存在call()和apply()这两个方法？</font>—为了动态改变函数执行的环境。有时候，我们可能想在某个对象的作用域（上下文环境）A内调用一个方法—也就是要使用这个对象内的属性和值，但是这个对象内可能没有这个方法。此时，如果别处（全局函数或者其他对象的函数）有我们需要的方法F，那么我们就可以使用call()或apply()将需要的方法F和作用域A关联起来，从而实现目的。</p>\n<p>3.从示例中可以看出三个方法的区别：<br>call()和apply()放回会立即执行函数，而bind()只是将调用的函数的作用域进行绑定，如果要真正执行该函数，还要再调用一次：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> boundGetX = retrieveX.bind(<span class=\"built_in\">module</span>);</span><br><span class=\"line\">boundGetX(); <span class=\"comment\">// 返回 81</span></span><br></pre></td></tr></table></figure></p>\n<p>也就是说，当希望改变上下文环境之后并非立即执行，而是回调执行的时候，应使用bind()方法。</p>\n<p>4.bind()方法的原理是什么？<strong>如何实现一个bind方法？</strong><br>　　一句话来说，bind()的作用在于明确指定函数执行的作用域，而不是按照javascript语言本身的机制-函数的作用域由运行时决定而非声明时决定。比如说常见的错误做法是从对象中拿出了某个方法在对象外执行，却误以为该方法还能够使用对象中的相应属性。<br>　　bind()方法的实现涉及到了javascript语言的很多重要特性，分析过程如下：<br>A. 简单地指定待调用目标函数的作用域：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Function</span>.prototype.bind = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">context</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> self = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.apply(context, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>解释</strong><br>A1. 实现的方法一定是Function原型链上的。<br>A2. 该方法的参数是context，即指定的执行作用域。<br>A3. 该方法只是改变了函数的执行作用域，并不立即执行，所以不能直接返回self.apply(context, arguments); 而是要返回一个函数，由该函数返回self.apply(context, arguments);<br>A4. 返回的function的执行必然在bind这个function之外，由于闭包机制，返回的function的this将会丢失原来的指向调用bind方法的目标函数的引用，因此，采取的办法是，在bind方法内部使用一个变量self保存this，返回的函数在self上进行调用。这样，就避免了this的丢失和改变，self可以始终指向调用bind的目标函数。</p>\n<p>B. 上面的实现有一个问题：不能在调用时传入额外的参数，也就是函数柯里化的问题。为此，改写如下：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Function</span>.prototype.bind = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">context</span>)</span>&#123;  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> args = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>),</span><br><span class=\"line\">  self = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> innerArgs = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> finalArgs = args.concat(innerArgs);</span><br><span class=\"line\">      <span class=\"keyword\">return</span> self.apply(context,finalArgs);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p><strong>解释</strong><br>B1. arguments是一个类数组对象，使用Array.prototype.slice.call(arguments, 1),可以将其转换为真正的数组。而参数“1”的意思是，去掉bind()方法传入的第一个参数，因为第一个参数是指定的作用域，从第二个参数开始才是执行目标函数所需要的额外的参数。这样我们就得到了一个数组args，它存放的是调用bind()方法时传入的各个参数。<br>B2. 在bind方法内部使用一个遍历self保存this，原因同上。<br>B3. 返回的function中的arguments和B1中的不同，指的是传入待调用目标函数本身的参数项。这样，将args和innerArgs拼接起来，就既能支持bind传参，也能满足原目标函数的参数传入。</p>\n<p>C. 现在已经有了bind()方法的实现。但是，Javascript中函数还可以作为构造函数，那么绑定后的函数如果以这种方式调用时，情况就会有所不同：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Function</span>.prototype.bind = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">context</span>)</span>&#123;  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> args = <span class=\"built_in\">Array</span>.prototype.slice(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>),</span><br><span class=\"line\">  F = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;,</span><br><span class=\"line\">  self = <span class=\"keyword\">this</span>,</span><br><span class=\"line\">  bound = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> innerArgs = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> finalArgs = args.concat(innerArgs);</span><br><span class=\"line\">      <span class=\"keyword\">return</span> self.apply((<span class=\"keyword\">this</span> <span class=\"keyword\">instanceof</span> F ? <span class=\"keyword\">this</span> : (context || &#123;&#125;), finalArgs);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  F.prototype = self.prototype;</span><br><span class=\"line\">  bound.prototype = <span class=\"keyword\">new</span> F();</span><br><span class=\"line\">  <span class=\"keyword\">return</span> bound;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p><strong>解释</strong><br>C1. 与B中情况相比，新增了<code>F = function(){}</code>作为构造函数。js中的构造函数和其他面向对象的语言不太一样，<strong>js的构造函数并不是一类特殊的函数，准确地说应该是普通函数的构造调用</strong> 。</p>\n<blockquote>\n<p>构造函数需要使用new关键字进行调用。以这种方式进行调用会经历以下4个阶段：<br>1.创建一个新对象<br>2.将构造函数的作用域赋给新对象（即使得构造函数中的this指向这个新对象）<br>3.执行构造函数中的代码<br>4.返回新对象</p>\n</blockquote>\n<p>C2.将目标函数自身的参数和执行bind()时候传入的参数拼接在一起后，通过apply方法交由self也就是目标函数进行执行。而具体的作用域的选择与之前有所不同：<br><code>(this instanceof F ? this : context)</code><br>注意，这里的<code>this</code>与self不同，比如bind的使用方式一般如下：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> func = foo.bind(obj);</span><br><span class=\"line\">func();</span><br></pre></td></tr></table></figure></p>\n<p>在这种方式下，self指的是调用bind函数的目标函数，即foo；<code>foo.bind(obj);</code>会返回一个函数bound，也就是改变了作用域的foo函数，这里用变量func表示。<br>而<code>(this instanceof F ? this : context)</code>中的<code>this</code>则相对比较复杂：</p>\n<blockquote>\n<p>这实质上是一种polyfill代码，用于旧浏览器的兼容。总的来说，这段代码的作用是判断绑定后的函数是否是通过<code>new</code>关键字调用的（而非直接调用），如果是的话，就会使用新创建的this（即上面描述的new的4个阶段的第2个）代替硬绑定的context。由此也可以看出，new绑定方式的优先级是高于显式绑定的（调用bind()方法进行绑定叫做硬绑定，它是显式绑定的一种）。</p>\n</blockquote>\n<p>C3.通过设置一个中转构造函数F，使绑定后的函数与调用bind()的函数处于同一原型链上，用new操作符调用绑定后的函数，返回的对象也能正常使用instanceof。</p>\n<p>D.为了在浏览器中能支持bind()函数，需要对C中实现进行修改：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Function</span>.prototype.bind = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">oThis</span>) </span>&#123;  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"keyword\">this</span> !== <span class=\"string\">\"function\"</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">TypeError</span>(<span class=\"string\">\"Function.prototype.bind - what is trying to be bound is not callable\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> aArgs = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>), </span><br><span class=\"line\">        fToBind = <span class=\"keyword\">this</span>, </span><br><span class=\"line\">        fNOP = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;,</span><br><span class=\"line\">        fBound = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> fToBind.apply(</span><br><span class=\"line\">              <span class=\"keyword\">this</span> <span class=\"keyword\">instanceof</span> fNOP &amp;&amp; oThis ? <span class=\"keyword\">this</span> : (oThis || <span class=\"built_in\">window</span>),</span><br><span class=\"line\">              aArgs.concat(<span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>))</span><br><span class=\"line\">          );</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    fNOP.prototype = <span class=\"keyword\">this</span>.prototype;</span><br><span class=\"line\">    fBound.prototype = <span class=\"keyword\">new</span> fNOP();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> fBound;</span><br><span class=\"line\">  &#125;;</span><br></pre></td></tr></table></figure></p>\n<p><strong>解释</strong><br>D1.与C相比，对bind方法进行增强，判断调用bind方法的对象是不是一个函数，如果不是，抛出错误。这种判断是与ES5内部的实现最为接近的用于IsCallable()函数。<br>D2.关于<code>this instanceof fNOP &amp;&amp; oThis ? this : (oThis || window)</code>这一句，即判断新绑定的函数是否是通过<code>new</code>关键字调用的，如果是，且由于new绑定的优先级高，就要把函数的作用域绑定到new调用所创建的作用域this上，否则的话，说明是直接调用的，那么就继续使用调用bind()函数时候传入的作用域，为了健壮性，如果调用时未传入要绑定的对象或者传入了null，那么就默认绑定到window对象上。</p>\n"},{"title":"HTTP2.0简单探究","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/23/http2-exploration/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"leetcode [#9]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/23/leetcode-9/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Determine whether an integer is a palindrome. Do this without extra space.</p>\n<p>Some hints:<br>Could negative integers be palindromes? (ie, -1)</p>\n<p>If you are thinking of converting the integer to string, note the restriction of using extra space.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isPalindrome</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(x &lt; <span class=\"number\">0</span> || (x != <span class=\"number\">0</span> &amp;&amp; x % <span class=\"number\">10</span> == <span class=\"number\">0</span>)) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(x == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> tmp = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> x0 = x;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(x &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            tmp = tmp * <span class=\"number\">10</span> + x % <span class=\"number\">10</span>;</span><br><span class=\"line\">            x = x / <span class=\"number\">10</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> tmp == x0 ? <span class=\"keyword\">true</span> : <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>负数不可能是回文的，不为零且为10的倍数的数不可能是回文的。</li>\n<li>对于其他情况，使用tmp变量来进行累加，从x的个位开始，进行求和。比较最终x和tmp的大小关系。</li>\n<li>不可能完全不用额外空间。题目的意思应该是不开辟线性增长的空间，但使用一个变量tmp应该是可以的。</li>\n</ol>\n"},{"title":"使用JavaScript实现数组去重的4种方法及性能比较","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/23/js-array-duplicate-removal/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"JavaScript的预加载与懒加载","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/22/js-preload-lazyload/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"利用setTimeout定制实现setInterval","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/21/settimeout-setinterval/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"RequireJs中的循环依赖问题","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/20/requirejs-circular-dependency/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"浏览器页面的重绘(repaint)与重排(reflow)问题","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/20/repaint-reflow/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"Array.prototype.slice.call()的典型应用","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/20/js-array-prototype-slice-call-arguments/","content":"<h2 id=\"作用\"><a href=\"#作用\" class=\"headerlink\" title=\"作用\"></a>作用</h2><p>　　<strong>一句话来讲，这是一种将类数组对象转换为真正数组的方法</strong>。<br>很多时候我们会遇到“类数组对象”，比如在操作DOM元素的时候，查询符合某种class的DOM节点会返回一个NodeList，它就是一个类数组对象。真正数组的很多成员方法不能直接用于类数组对象，因此就需要将其转换为真正的数组。</p>\n<hr>\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Function</span>.prototype.bind = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">context</span>)</span>&#123;  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> args = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>),</span><br><span class=\"line\">  self = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> innerArgs = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> finalArgs = args.concat(innerArgs);</span><br><span class=\"line\">      <span class=\"keyword\">return</span> self.apply(context,finalArgs);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>该例子是手动实现了一个具有基本功能的bind函数。这里不需要过多关注其细节（具体细节可参考这篇：<a href=\"http://gcidea.info/2016/11/24/js-call-apply/\" target=\"_blank\" rel=\"external\">JavaScript的call()、apply()、bind()方法对比总结</a>），只需要关注：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//...</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> args = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>),</span><br><span class=\"line\"><span class=\"comment\">//...</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> innerArgs = <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>);</span><br></pre></td></tr></table></figure></p>\n<p>这两句即可。<br><strong>解释</strong></p>\n<ol>\n<li>call的作用是在指定的一个作用域上执行某函数。</li>\n<li>arguments是javascript中函数的一个默认具有的属性，即参数列表，是一个类数组对象，此处需要将其转换为真正数组。</li>\n<li>slice()方法作用域获取数组某个片段。并且它是数组的内置方法，那么必然在Array.prototype上。</li>\n<li>至于call()函数传入的第二个参数，表明的是保留arguments的哪一部分，视具体需求而定。</li>\n<li>调用slice()方法后返回的是一个副本，而原arguments并没有发生变化。</li>\n</ol>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>这种将类数组对象转换为真正数组的方法<strong>已经从ES6开始正式废止</strong>。取而代之的应该使用新提供的方法：<code>Array.from()</code>来达到同样的效果。</li>\n</ol>\n"},{"title":"leetcode [#205]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/19/leetcode-205/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given two strings s and t, determine if they are isomorphic.</p>\n<p>Two strings are isomorphic if the characters in s can be replaced to get t.</p>\n<p>All occurrences of a character must be replaced with another character while preserving the order of characters. No two characters may map to the same character but a character may map to itself.</p>\n<p><strong>Example</strong><br>Given “egg”, “add”, return true.</p>\n<p>Given “foo”, “bar”, return false.</p>\n<p>Given “paper”, “title”, return true.</p>\n<p><strong>Note</strong><br>You may assume both s and t have the same length.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Hashtable;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isIsomorphic</span><span class=\"params\">(String s, String t)</span> </span>&#123;</span><br><span class=\"line\">        Hashtable&lt;Character, Character&gt; table = <span class=\"keyword\">new</span> Hashtable&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; s.length(); i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!table.containsKey(s.charAt(i)))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!table.containsValue(t.charAt(i)))&#123;</span><br><span class=\"line\">                    table.put(s.charAt(i), t.charAt(i));</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(table.get(s.charAt(i)) != t.charAt(i)) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>思路类似290题，模式匹配，已存在的键必须对应相同的value，不同的键不能有相同的value。</li>\n</ol>\n"},{"title":"leetcode [#36]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/19/leetcode-36/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/leetcode-36.png\" alt=\"\"></p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>以下方法是错误的：<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import java.util.HashSet;</span><br><span class=\"line\">public class Solution &#123;</span><br><span class=\"line\">    public boolean isValidSudoku(char[][] board) &#123;</span><br><span class=\"line\">        for(int i = 0; i &lt; 9; i++)&#123;</span><br><span class=\"line\">            HashSet&lt;Character&gt; set = new HashSet&lt;&gt;();</span><br><span class=\"line\">            for(int j = 0; j &lt; 9; j++) if(!set.add(board[i][j]) &amp;&amp; board[i][j] != &apos;.&apos;) return false;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        for(int i = 0; i &lt; 9; i += 3)&#123;</span><br><span class=\"line\">            HashSet&lt;Character&gt; set = new HashSet&lt;&gt;();</span><br><span class=\"line\">            for(int j = i; j &lt; i+3; j++)&#123;</span><br><span class=\"line\">                for(int k = 0; k &lt; 3; k++) if(!set.add(board[j][k]) &amp;&amp; board[j][k] != &apos;.&apos;) return false;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        for(int i = 0; i &lt; 3; i++)&#123;</span><br><span class=\"line\">            HashSet&lt;Character&gt; set = new HashSet&lt;&gt;();</span><br><span class=\"line\">            for(int j = i; j &lt; 9; j += 3)&#123;</span><br><span class=\"line\">                for(int k = 0; k &lt; 9; k += 3) if(!set.add(board[j][k]) &amp;&amp; board[j][k] != &apos;.&apos;) return false;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n"},{"title":"leetcode [#136]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/19/leetcode-136/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of integers, every element appears twice except for one. Find that single one.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Hashtable;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">singleNumber</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        Hashtable&lt;Integer, Integer&gt; table = <span class=\"keyword\">new</span> Hashtable&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!table.containsKey(nums[i]))&#123;</span><br><span class=\"line\">                table.put(nums[i], <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                table.put(nums[i], table.get(nums[i]) + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; nums.length; k++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(table.get(nums[k]) == <span class=\"number\">1</span>) result = nums[k];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历数组，以数字元素为key，出现次数为value，构造Hashset，找出value为1的key即可。</li>\n</ol>\n"},{"title":"leetcode [#204]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/18/leetcode-204/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Count the number of prime numbers less than a non-negative number, n.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">countPrimes</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span>[] primeNum = <span class=\"keyword\">new</span> <span class=\"keyword\">boolean</span>[n+<span class=\"number\">1</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">2</span>; k &lt;= n; k++) primeNum[k] = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">2</span>; i &lt;= Math.sqrt(n); i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!primeNum[i]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = i * i; j &lt; n; j += i)&#123;</span><br><span class=\"line\">                primeNum[j] = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> m = <span class=\"number\">2</span>; m &lt; n; m++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(primeNum[m]) count++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li><p>以下方法复杂度高会超时：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Solution &#123;</span><br><span class=\"line\">    public int countPrimes(int n) &#123;</span><br><span class=\"line\">        if(n &lt;= 2) return 0;</span><br><span class=\"line\">        int count = 0;</span><br><span class=\"line\">        int k = 2;</span><br><span class=\"line\">        while(k &lt; n) &#123;</span><br><span class=\"line\">            if(isPrime(k)) count++;</span><br><span class=\"line\">            k++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    private static boolean isPrime(int m)&#123;</span><br><span class=\"line\">        for(int i = 2; i &lt;= Math.sqrt(m); i++) if(m % i == 0) return false;</span><br><span class=\"line\">        return true;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>思路是：<br>对于给定n,判断小于n的每个正是是质数还是合数，在统计质数个数之和。要提高判断质数/合数的效率：创建一个数组，长度为n+1，数组元素值true/false代表对应下标的数字是质数还是合数，初始化认为每个元素都是true。整个遍历过程是一个标记的过程：标记从2开始小于根号n的所有整数的平方以及从平方开始的各个倍数，这些显然都是合数，且覆盖了全部合数的可能性。</p>\n</li>\n</ol>\n"},{"title":"leetcode [#7]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/18/leetcode-7/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Reverse digits of an integer.</p>\n<p>Example1: x = 123, return 321<br>Example2: x = -123, return -321</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">reverse</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        String s = String.valueOf(x);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(x &lt; <span class=\"number\">0</span>) s = s.substring(<span class=\"number\">1</span>, s.length());</span><br><span class=\"line\">        StringBuilder builder = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = s.length() - <span class=\"number\">1</span>; i&gt;=<span class=\"number\">0</span>; i--) builder.append(s.charAt(i));</span><br><span class=\"line\">        <span class=\"keyword\">if</span>((x &gt; <span class=\"number\">0</span> &amp;&amp; builder.length() == <span class=\"number\">10</span> &amp;&amp; builder.toString().compareTo(<span class=\"string\">\"2147483647\"</span>) &gt; <span class=\"number\">0</span>) || (x &lt; <span class=\"number\">0</span> &amp;&amp; builder.length() == <span class=\"number\">10</span> &amp;&amp; builder.toString().compareTo(<span class=\"string\">\"2147483648\"</span>) &gt; <span class=\"number\">0</span>)) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> res = Integer.valueOf(builder.toString());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x &gt; <span class=\"number\">0</span> ? res : <span class=\"number\">0</span> - res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>转换为字符串考虑，注意正负情况和边界溢出情况。</li>\n</ol>\n"},{"title":"leetcode [#202]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/17/leetcode-202/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Write an algorithm to determine if a number is “happy”.</p>\n<p>A happy number is a number defined by the following process: Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1. Those numbers for which this process ends in 1 are happy numbers.</p>\n<p><strong>Example</strong>:<br>19 is a happy number</p>\n<p>12 + 92 = 82<br>82 + 22 = 68<br>62 + 82 = 100<br>12 + 02 + 02 = 1</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isHappy</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        StringBuilder builder = <span class=\"keyword\">new</span> StringBuilder(String.valueOf(n));</span><br><span class=\"line\">        <span class=\"keyword\">int</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; builder.length(); i++) sum += (builder.charAt(i) - <span class=\"string\">'0'</span>) * (builder.charAt(i) - <span class=\"string\">'0'</span>);</span><br><span class=\"line\">        HashSet set = <span class=\"keyword\">new</span> HashSet();</span><br><span class=\"line\">        set.add(sum);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(sum != <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            StringBuilder bu = <span class=\"keyword\">new</span> StringBuilder(String.valueOf(sum));</span><br><span class=\"line\">            sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; bu.length(); i++) sum += (bu.charAt(i) - <span class=\"string\">'0'</span>) * (bu.charAt(i) - <span class=\"string\">'0'</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!set.add(sum)) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>基本思路是：使用一个HashSet来存储每次求得的平方和，在和不为1的前提条件下，如果add方法失败，说明出现了重复值，即说明会有循环，不满足happy number条件，返回false。</li>\n</ol>\n"},{"title":"leetcode [#290]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/16/leetcode-290/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a pattern and a string str, find if str follows the same pattern.</p>\n<p>Here follow means a full match, such that there is a bijection between a letter in pattern and a non-empty word in str.</p>\n<p><strong>Example</strong>:</p>\n<ol>\n<li>pattern = “abba”, str = “dog cat cat dog” should return true.</li>\n<li>pattern = “abba”, str = “dog cat cat fish” should return false.</li>\n<li>pattern = “aaaa”, str = “dog cat cat dog” should return false.</li>\n<li>pattern = “abba”, str = “dog dog dog dog” should return false.</li>\n</ol>\n<p><strong>Note</strong>:<br>You may assume pattern contains only lowercase letters, and str contains lowercase letters separated by a single space.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Hashtable;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">wordPattern</span><span class=\"params\">(String pattern, String str)</span> </span>&#123;</span><br><span class=\"line\">        String[] arr = str.split(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len1 = pattern.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len2 = arr.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(len1 != len2) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        Hashtable&lt;Character, String&gt; table = <span class=\"keyword\">new</span> Hashtable&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; len1; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!table.containsKey(pattern.charAt(i)))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!table.containsValue(arr[i]))&#123;</span><br><span class=\"line\">                    table.put(pattern.charAt(i), arr[i]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!table.get(pattern.charAt(i)).equals(arr[i]))&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>1.使用一个Hashtable，key为模式字符串，value为待检测字符串。遍历两个输入字符串，如果key值pattern.charAt(i)不存在，且arr[i]的值在table中不存在，则可以将pattern.charAt(i)和arr[i]对应起来，存入table。</p>\n<ol>\n<li>如果key值pattern.charAt(i)存在，则将其value值和当前arr[i]比较，如不同，说明模式未能正确匹配，返回false。</li>\n</ol>\n"},{"title":"leetcode [#299]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/12/leetcode-299/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>You are playing the following Bulls and Cows game with your friend: You write down a number and ask your friend to guess what the number is. Each time your friend makes a guess, you provide a hint that indicates how many digits in said guess match your secret number exactly in both digit and position (called “bulls”) and how many digits match the secret number but locate in the wrong position (called “cows”). Your friend will use successive guesses and hints to eventually derive the secret number.</p>\n<p><strong>Example</strong>:<br>Secret number:  “1807”<br>Friend’s guess: “7810”<br>Hint: 1 bull and 3 cows. (The bull is 8, the cows are 0, 1 and 7.)<br>Write a function to return a hint according to the secret number and friend’s guess, use A to indicate the bulls and B to indicate the cows. In the above example, your function should return “1A3B”.</p>\n<p><strong>Note</strong>:<br>Please note that both secret number and friend’s guess may contain duplicate digits, for example:</p>\n<p>Secret number:  “1123”<br>Friend’s guess: “0111”<br>In this case, the 1st 1 in friend’s guess is a bull, the 2nd or 3rd 1 is a cow, and your function should return “1A1B”.<br>You may assume that the secret number and your friend’s guess only contain digits, and their lengths are always equal.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Hashtable;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getHint</span><span class=\"params\">(String secret, String guess)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> bulls = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> cows = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] numbers = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i&lt;secret.length(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (secret.charAt(i) == guess.charAt(i)) bulls++;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (numbers[secret.charAt(i)-<span class=\"string\">'0'</span>]++ &lt; <span class=\"number\">0</span>) cows++;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (numbers[guess.charAt(i)-<span class=\"string\">'0'</span>]-- &gt; <span class=\"number\">0</span>) cows++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> bulls + <span class=\"string\">\"A\"</span> + cows + <span class=\"string\">\"B\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>如果对应位字符相同，则bull加一。</li>\n<li>如果不同，使用一个长度为10的数组（0-9是10个数字）来分析secret和guess中数字字符的情况。数组各元素初始化为0。<br>secret和guess的当前位不同，在数组numbers中，以secret所代表数字为下标的元素如果小于零，那么说明有一个cow出现，cows++，判断完成后，给numbers数组当前位加一；以guess所代表数字为下标的元素如果大于零，那么说明有一个cow出现，cows++，判断完成后，给numbers数组当前位减一。</li>\n<li>数组的作用是：如果数组中secret当前字符对应数字为下标的元素小于零，说明在这之前的操作中，guess中出现过若干次这个数字（这样才会被减了若干个1，才会导致小于零），且肯定是在其他位置上（不会与secret当前字符对应数字所代表下标一样），那么就符合了“cow”的要求—值相同，位置不同。这样统计一次（cows++）后，将对应数组元素加一，抵消掉这次的作用，接下来继续统计。同理，如果数组中guess当前字符对应数字为下标的元素大于零，说明在这之前的操作中，secret中出现过若干次这个数字（这样才会被加了若干个1，才会导致大于零），且肯定是在其他位置上（不会与guess当前字符对应数字所代表下标一样），那么也就符合了“cow”的要求—值相同，位置不同。这样统计一次（cows++）后，将对应数组元素减一，抵消掉这次的作用，接下来继续统计。</li>\n</ol>\n"},{"title":"leetcode [#389]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/12/leetcode-389/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given two strings s and t which consist of only lowercase letters.</p>\n<p>String t is generated by random shuffling string s and then add one more letter at a random position.</p>\n<p>Find the letter that was added in t.</p>\n<p><strong>Example</strong>:<br>Input:<br>s = “abcd”<br>t = “abcde”</p>\n<p>Output:<br>e</p>\n<p>Explanation:<br>‘e’ is the letter that was added.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">char</span> <span class=\"title\">findTheDifference</span><span class=\"params\">(String s, String t)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((s.length() == <span class=\"number\">0</span>)) <span class=\"keyword\">return</span> t.charAt(<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">char</span> result = <span class=\"string\">'a'</span>;</span><br><span class=\"line\">        List&lt;Character&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; t.length(); i++) list.add(t.charAt(i));</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; s.length(); j++) list.remove((Character) s.charAt(j));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list.get(<span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>将t的每个字符加入arraylist。</li>\n<li>遍历s，将s的每个字符从list中取出，剩下的就是新增的。</li>\n</ol>\n"},{"title":"leetcode [#226]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/09/leetcode-223/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/leetcode-223.png\" alt=\"\"></p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">computeArea</span><span class=\"params\">(<span class=\"keyword\">int</span> A, <span class=\"keyword\">int</span> B, <span class=\"keyword\">int</span> C, <span class=\"keyword\">int</span> D, <span class=\"keyword\">int</span> E, <span class=\"keyword\">int</span> F, <span class=\"keyword\">int</span> G, <span class=\"keyword\">int</span> H)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> s1 = (C - A) * (D - B);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> s2 = (G - E) * (H - F);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> left = Math.max(A, E);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> right = Math.min(G, C);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> top = Math.min(D, H);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> bottom = Math.max(B, F);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> common = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(right &gt; left &amp;&amp; top &gt; bottom) common = (right - left) * (top - bottom);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  s1 + s2 - common;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>不要尝试分类讨论所有情况，两个长方形的位置关系的可能性过于复杂。</li>\n<li>先计算出各自面积。</li>\n<li>关于公共重叠面积，假设有重叠，那么重叠的左边界由AE的较大者确定，右边界由GC的较小者确定，上边界由DH的较小者确定，下边界由BF的较大者确定。由此计算重叠面积。</li>\n</ol>\n"},{"title":"leetcode [#231]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/09/leetcode-231/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an integer, write a function to determine if it is a power of two.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isPowerOfTwo</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">double</span> n1 = (<span class=\"keyword\">double</span>) n;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (n1 / <span class=\"number\">2.0</span> &gt;= <span class=\"number\">1.0</span>) &#123;</span><br><span class=\"line\">            n1 = n1 / <span class=\"number\">2.0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> n1 == <span class=\"number\">1.0</span> ? <span class=\"keyword\">true</span> : <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>先处理特殊情况。</li>\n<li>将n转换为double型，不断除以2，直到结果小于1.0.此时根据n1的结果即可确定。</li>\n</ol>\n"},{"title":"leetcode [#415]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/08/leetcode-447/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given n points in the plane that are all pairwise distinct, a “boomerang” is a tuple of points (i, j, k) such that the distance between i and j equals the distance between i and k (the order of the tuple matters).</p>\n<p>Find the number of boomerangs. You may assume that n will be at most 500 and coordinates of points are all in the range [-10000, 10000] (inclusive).</p>\n<p><strong>Example</strong>:<br>Input:<br>[[0,0],[1,0],[2,0]]</p>\n<p>Output:<br>2</p>\n<p>Explanation:<br>The two boomerangs are [[1,0],[0,0],[2,0]] and [[1,0],[2,0],[0,0]]</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">numberOfBoomerangs</span><span class=\"params\">(<span class=\"keyword\">int</span>[][] points)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; points.length; i++) &#123;</span><br><span class=\"line\">            HashMap&lt;Double, Integer&gt; map = <span class=\"keyword\">new</span> HashMap&lt;Double, Integer&gt;();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; points.length; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">double</span> dis = distance(points[i], points[j]);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (!map.containsKey(dis)) &#123;</span><br><span class=\"line\">                    map.put(dis, <span class=\"number\">0</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                count += map.get(dis) * <span class=\"number\">2</span>;</span><br><span class=\"line\">                map.put(dis, map.get(dis) + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">double</span> <span class=\"title\">distance</span><span class=\"params\">(<span class=\"keyword\">int</span>[] first, <span class=\"keyword\">int</span>[] second)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> a1 = first[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> b1 = first[<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> a2 = second[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> b2 = second[<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Math.pow((a1-a2), <span class=\"number\">2</span>) + Math.pow((b1-b2), <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>本题题意是：在二维直角坐标系中给出一组坐标点，若存在三个点[i,j,k],i和j的距离与i和k的距离相等，则记为“一组”，求所都点中共有多少这样的组。</li>\n<li>计算距离单独抽出函数。</li>\n<li>两次遍历该二维数组，使用数据结构HashMap，计算两点间距离，如果map中不包含该距离值，将其存入map(作为key)，对应的值为0；如果map中已包含该距离值，则要将对应value更新：加一。表明截止目前，互相距离满足[i,j,k]关系的有value组。</li>\n<li>不能使用比如HashSet这样的数据结构，虽然可以存储距离且去重，但是无法记录重复次数，导致求和无法进行。</li>\n</ol>\n"},{"title":"Web即时通信技术小结","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/08/web-real-time communication/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　</p>\n"},{"title":"leetcode [#8]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/08/leetcode-8/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Implement atoi to convert a string to an integer.</p>\n<p><strong>Hint</strong><br>Carefully consider all possible input cases. If you want a challenge, please do not see below and ask yourself what are the possible input cases.</p>\n<p><strong>Notes</strong><br>It is intended for this problem to be specified vaguely (ie, no given input specs). You are responsible to gather all the input requirements up front.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.regex.Matcher;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.regex.Pattern;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">myAtoi</span><span class=\"params\">(String str)</span> </span>&#123;</span><br><span class=\"line\">        str = str.trim();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(str.length() == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        String regex = <span class=\"string\">\"[0-9]+\"</span>;</span><br><span class=\"line\">        Pattern p = Pattern.compile(regex);</span><br><span class=\"line\">        Matcher m = p.matcher(str);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!m.find()) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> index = str.indexOf(m.group(<span class=\"number\">0</span>));</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index &gt; <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(index == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!(str.charAt(<span class=\"number\">0</span>) == <span class=\"string\">'+'</span> || str.charAt(<span class=\"number\">0</span>) == <span class=\"string\">'-'</span>))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(str.charAt(<span class=\"number\">0</span>) == <span class=\"string\">'+'</span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> convert(m.group(<span class=\"number\">0</span>), <span class=\"string\">'+'</span>);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> convert(m.group(<span class=\"number\">0</span>), <span class=\"string\">'-'</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> convert(m.group(<span class=\"number\">0</span>), <span class=\"string\">'+'</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> <span class=\"title\">convert</span><span class=\"params\">(String str, <span class=\"keyword\">char</span> pn)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> length = str.length();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(length &gt; <span class=\"number\">10</span> || (length == <span class=\"number\">10</span> &amp;&amp; str.compareTo(<span class=\"string\">\"2147483647\"</span>) &gt; <span class=\"number\">0</span>))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (pn == <span class=\"string\">'+'</span>) ? <span class=\"number\">2147483647</span> : -<span class=\"number\">2147483648</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; length; i++)&#123;</span><br><span class=\"line\">            result += Integer.valueOf(String.valueOf(str.charAt(i))) * Math.pow(<span class=\"number\">10</span>, length - i - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (pn == <span class=\"string\">'+'</span>) ? result : <span class=\"number\">0</span>-result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用trim方法去掉所有的两段空格。</li>\n<li>使用正则表达式匹配第一段连贯的数字。</li>\n<li>判断第一段连贯的数字前面是否只有一位，如果超过一位，则肯定不为数字，返回0；如果仅一位，判断是否为“+”或“-”，如果不是，则肯定不为数字，返回0；如果为0位，表示这一段全是数字。</li>\n<li>在3的基础上，统一调用字符串转数字的私有函数。同时考虑正负号、同时考虑溢出问题。</li>\n</ol>\n"},{"title":"leetcode [#6]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/08/leetcode-6/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>The string “PAYPALISHIRING” is written in a zigzag pattern on a given number of rows like this: (you may want to display this pattern in a fixed font for better legibility)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">P   A   H   N</span><br><span class=\"line\">A P L S I I G</span><br><span class=\"line\">Y   I   R</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>And then read line by line: “PAHNAPLSIIGYIR”</p>\n<blockquote>\n<p>Write the code that will take a string and make this conversion given a number of rows:</p>\n</blockquote>\n<p><code>string convert(string text, int nRows);</code></p>\n<blockquote>\n<p>convert(“PAYPALISHIRING”, 3) should return “PAHNAPLSIIGYIR”.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">convert</span><span class=\"params\">(String s, <span class=\"keyword\">int</span> numRows)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len = s.length();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(len == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(numRows == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">        <span class=\"keyword\">char</span>[] sArr = s.toCharArray();</span><br><span class=\"line\">        StringBuilder[] b = <span class=\"keyword\">new</span> StringBuilder[numRows];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; numRows; k++)&#123;</span><br><span class=\"line\">            b[k] = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> piece = <span class=\"number\">2</span> * (numRows - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; len; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i &lt; numRows)&#123;</span><br><span class=\"line\">                b[i].append(sArr[i]);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (i % piece &gt;= <span class=\"number\">0</span> &amp;&amp; i % piece &lt; numRows) &#123;</span><br><span class=\"line\">                    b[i % piece].append(sArr[i]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    b[piece - i % piece].append(sArr[i]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuilder resBuilder = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> m = <span class=\"number\">0</span>; m &lt; numRows; m++)&#123;</span><br><span class=\"line\">            resBuilder.append(b[m]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  resBuilder.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>按照给定的numRows，将字符串排列成锯齿状，并且按照行返回。</li>\n<li>先处理特殊情况。</li>\n<li>定义numRows个StringBuilder，重点在于找到每个字符应该加入的StringBuilder。对于下标满足i % piece &gt;= 0 &amp;&amp; i % piece &lt; numRows范围的字符串，即锯齿中“垂直方向”的一段，依次填入b[i % piece]即可；对于下标满足i % piece  &gt;= numRows范围的字符串，即锯齿中“倾斜方向”的一段，依次填入b[piece - i % piece]即可。</li>\n</ol>\n"},{"title":"leetcode [#20]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/06/leetcode-20/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a string containing just the characters ‘(‘, ‘)’, ‘{‘, ‘}’, ‘[‘ and ‘]’, determine if the input string is valid.</p>\n<p>The brackets must close in the correct order, “()” and “()[]{}” are all valid but “(]” and “([)]” are not.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isValid</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">char</span>[] sArr = s.toCharArray();</span><br><span class=\"line\">        Stack&lt;String&gt; stack = <span class=\"keyword\">new</span> Stack&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; sArr.length; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(sArr[i] == <span class=\"string\">'('</span> || sArr[i] == <span class=\"string\">'['</span> || sArr[i] == <span class=\"string\">'&#123;'</span>)&#123;</span><br><span class=\"line\">                stack.push(String.valueOf(sArr[i]));</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(stack.empty())&#123;</span><br><span class=\"line\">                    result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(sArr[i] == <span class=\"string\">')'</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(!<span class=\"string\">\"(\"</span>.equals(stack.pop()))&#123;</span><br><span class=\"line\">                            result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(sArr[i] == <span class=\"string\">']'</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(!<span class=\"string\">\"[\"</span>.equals(stack.pop()))&#123;</span><br><span class=\"line\">                            result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(sArr[i] == <span class=\"string\">'&#125;'</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(!<span class=\"string\">\"&#123;\"</span>.equals(stack.pop()))&#123;</span><br><span class=\"line\">                            result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!stack.empty())&#123;</span><br><span class=\"line\">            result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>要求三种括号能够正确匹配。</li>\n<li>使用数据结构栈来实现：每当遇到一组括号的“左部分”，压入堆栈；每当遇到“右部分”，堆栈弹出一个元素，与当前的“右部分”相比，看能否匹配。</li>\n</ol>\n"},{"title":"leetcode [#28]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/06/leetcode-28/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Implement strStr().</p>\n<p>Returns the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">strStr</span><span class=\"params\">(String haystack, String needle)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = -<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> lenHaystack = haystack.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> lenHayNeedle = needle.length();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(lenHayNeedle &gt; lenHaystack) <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(lenHayNeedle == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">char</span>[] str = haystack.toCharArray();</span><br><span class=\"line\">        <span class=\"keyword\">char</span>[] sub = needle.toCharArray();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> n = <span class=\"number\">0</span>; n &lt; lenHaystack - lenHayNeedle + <span class=\"number\">1</span>; n++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">boolean</span> flag = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> num = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> m = <span class=\"number\">0</span>; m &lt; lenHayNeedle; m++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(str[m + n] == sub[m])&#123;</span><br><span class=\"line\">                    num++;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(num == lenHayNeedle)&#123;</span><br><span class=\"line\">                        result = n;</span><br><span class=\"line\">                        flag = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(flag)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>实现查询子字符串开始位置下标的方法，在java中即<code>indexOf()</code>，当然不能直接使用这个方法。</li>\n<li>将两个字符串均转化成字符数组。</li>\n<li>对父字符串只需要遍历0~lenHaystack - lenHayNeedle这一段，因为如果包含子字符串，那么开始下标一定位于这一段。</li>\n<li>内层遍历子字符串，和父字符串当前段逐一比较即可。</li>\n</ol>\n"},{"title":"leetcode [#14]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/02/leetcode-14/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Write a function to find the longest common prefix string amongst an array of strings.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">longestCommonPrefix</span><span class=\"params\">(String[] strs)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = strs.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(N == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> strs[<span class=\"number\">0</span>];</span><br><span class=\"line\">        StringBuilder builder = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N - <span class=\"number\">1</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> len1 = strs[i].length();</span><br><span class=\"line\">            <span class=\"keyword\">int</span> len2 = strs[i+<span class=\"number\">1</span>].length();</span><br><span class=\"line\">            <span class=\"keyword\">int</span> commonLen = Math.min(len1,len2);</span><br><span class=\"line\">            StringBuilder temp = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> m = <span class=\"number\">0</span>; m &lt; commonLen; m++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(strs[i].charAt(m) == strs[i+<span class=\"number\">1</span>].charAt(m))&#123;</span><br><span class=\"line\">                    temp.append(strs[i].charAt(m));</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> tempLen = temp.length();</span><br><span class=\"line\">            <span class=\"keyword\">int</span> builderLen = builder.length();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                builder = temp;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(tempLen &lt; builderLen)&#123;</span><br><span class=\"line\">                    builder = builder.delete(tempLen, builderLen);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  builder.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>依次比较数组中每两个元素的最长前缀。第一个和第二个元素的最长前缀默认保存入builder，从第二个和第三个元素的比较结果开始，如果最长前缀比builder长，则不做操作，因为更长的部分无法作为之前其他元素的前缀，对整体结果没有意义；如果最长前缀比builder短，则要将builder的长度缩短相应的位数，因为之前的最长前缀不能作为当前元素的前缀。</li>\n</ol>\n"},{"title":"leetcode [#38]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/01/leetcode-38/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>The count-and-say sequence is the sequence of integers beginning as follows:<br>1, 11, 21, 1211, 111221, …</p>\n<p>1 is read off as “one 1” or 11.<br>11 is read off as “two 1s” or 21.<br>21 is read off as “one 2, then one 1” or 1211.<br>Given an integer n, generate the nth sequence.</p>\n<p><strong>Note</strong>:<br>The sequence of integers will be represented as a string.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">countAndSay</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> flag = <span class=\"number\">0</span>;</span><br><span class=\"line\">        String str = <span class=\"string\">\"1\"</span>;</span><br><span class=\"line\">        StringBuilder temp = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        temp.append(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (flag &lt; n-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">            StringBuilder builder = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (i &lt; temp.length())&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(temp.charAt(i) == <span class=\"string\">'1'</span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(i == temp.length() - <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                        builder.append(<span class=\"string\">\"11\"</span>);</span><br><span class=\"line\">                        i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                        <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(i == temp.length() - <span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'1'</span>)&#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"21\"</span>);</span><br><span class=\"line\">                        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'2'</span>)&#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"1112\"</span>);</span><br><span class=\"line\">                        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"1113\"</span>);</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        i += <span class=\"number\">2</span>;</span><br><span class=\"line\">                        <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'1'</span>)&#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">2</span>) == <span class=\"string\">'1'</span>)&#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"31\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">3</span>;</span><br><span class=\"line\">                                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"21\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">2</span>;</span><br><span class=\"line\">                                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'2'</span>)&#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">2</span>) == <span class=\"string\">'2'</span>)&#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"11\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"1112\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">2</span>;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">2</span>) == <span class=\"string\">'3'</span>)&#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"11\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"1113\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">2</span>;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(temp.charAt(i) == <span class=\"string\">'2'</span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(i == temp.length() - <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                        builder.append(<span class=\"string\">\"12\"</span>);</span><br><span class=\"line\">                        i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                        <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(i == temp.length() - <span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'2'</span>)&#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"22\"</span>);</span><br><span class=\"line\">                            i += <span class=\"number\">2</span>;</span><br><span class=\"line\">                            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"12\"</span>);</span><br><span class=\"line\">                            i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'2'</span>)&#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">2</span>) == <span class=\"string\">'2'</span>)&#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"32\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">3</span>;</span><br><span class=\"line\">                                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"22\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">2</span>;</span><br><span class=\"line\">                                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"12\"</span>);</span><br><span class=\"line\">                            i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(i == temp.length() - <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                        builder.append(<span class=\"string\">\"13\"</span>);</span><br><span class=\"line\">                        i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                        <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(i == temp.length() - <span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'3'</span>)&#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"23\"</span>);</span><br><span class=\"line\">                            i += <span class=\"number\">2</span>;</span><br><span class=\"line\">                        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"13\"</span>);</span><br><span class=\"line\">                            i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'3'</span>)&#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span>(temp.charAt(i+<span class=\"number\">2</span>) == <span class=\"string\">'3'</span>)&#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"33\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">3</span>;</span><br><span class=\"line\">                            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                                builder.append(<span class=\"string\">\"23\"</span>);</span><br><span class=\"line\">                                i += <span class=\"number\">2</span>;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                            builder.append(<span class=\"string\">\"13\"</span>);</span><br><span class=\"line\">                            i += <span class=\"number\">1</span>;</span><br><span class=\"line\">                            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            temp = builder;</span><br><span class=\"line\">            flag++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> temp.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>本题重在找到数字序列的变化规律。第n代的结果一定是偶数个元素，因为每个数字都会被表示成“几个几”的形式。结果序列是由一系列1,2,3构成的。</li>\n<li>状态转移图如下：<blockquote>\n<p>&nbsp;&nbsp;1 -&gt; 11<br>&nbsp;&nbsp;2 -&gt; 12<br>&nbsp;&nbsp;3 -&gt; 13<br>&nbsp;11 -&gt; 21<br>&nbsp;12 -&gt; 1112<br>&nbsp;13 -&gt; 1113<br>&nbsp;22 -&gt; 22<br>&nbsp;33 -&gt; 23<br>111 -&gt; 31<br>222 -&gt; 32<br>333 -&gt; 33</p>\n</blockquote>\n</li>\n<li>根据上述状态转移图，遍历每次生成的字符串（此处是StringBuilder），决定下一次输出的是什么。</li>\n</ol>\n"},{"title":"leetcode [#125]","url":"http://www.gcidea.info/welcome-to-this-page/2016/11/01/leetcode-125/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a string, determine if it is a palindrome, considering only alphanumeric characters and ignoring cases.</p>\n<p><strong>Example</strong><br>“A man, a plan, a canal: Panama” is a palindrome.<br>“race a car” is not a palindrome.</p>\n<p><strong>Note</strong><br>Have you consider that the string might be empty? This is a good question to ask during an interview.</p>\n<p>For the purpose of this problem, we define empty string as valid palindrome.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isPalindrome</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len = s.length();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s == <span class=\"keyword\">null</span> || s.length() == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        StringBuilder builder1 = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        StringBuilder builder2 = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        s = s.toLowerCase();</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; len; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(isDigitOrLetter(s.charAt(i)))&#123;</span><br><span class=\"line\">                builder1.append(s.charAt(i));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = len-<span class=\"number\">1</span> ; j &gt;= <span class=\"number\">0</span>; j--)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(isDigitOrLetter(s.charAt(j)))&#123;</span><br><span class=\"line\">                builder2.append(s.charAt(j));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; builder1.length(); k++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(builder1.charAt(k) != builder2.charAt(k))&#123;</span><br><span class=\"line\">                result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isDigitOrLetter</span><span class=\"params\">(<span class=\"keyword\">char</span> s)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>((s &gt;= <span class=\"string\">'a'</span> &amp;&amp; s &lt;= <span class=\"string\">'z'</span>) || (s &gt;= <span class=\"string\">'A'</span> &amp;&amp; s &lt;= <span class=\"string\">'Z'</span>) ||(s &gt;= <span class=\"string\">'0'</span> &amp;&amp; s &lt;= <span class=\"string\">'9'</span>))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>先处理特殊情况，字符串为空或者长度为零。</li>\n<li>定义一个函数isDigitOrLetter()来判断某个字符是否是字母大小写+数字。</li>\n<li>使用两个StringBuilder，分别从首尾遍历字符串，存储为字母大小写+数字的字符。</li>\n<li>比较两个StringBuilder中内容是否一样即可。</li>\n</ol>\n"},{"title":"leetcode [#13]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/31/leetcode-13/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a roman numeral, convert it to an integer.</p>\n<p>Input is guaranteed to be within the range from 1 to 3999.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">romanToInt</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len = s.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s == <span class=\"keyword\">null</span> || len == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; len; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">'M'</span>)&#123;</span><br><span class=\"line\">                result += <span class=\"number\">1000</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">'V'</span>)&#123;</span><br><span class=\"line\">                result += <span class=\"number\">5</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">'L'</span>)&#123;</span><br><span class=\"line\">                result += <span class=\"number\">50</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">'D'</span>)&#123;</span><br><span class=\"line\">                result += <span class=\"number\">500</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">'I'</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i == (len - <span class=\"number\">1</span>))&#123;</span><br><span class=\"line\">                    result += <span class=\"number\">1</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'I'</span>)&#123;</span><br><span class=\"line\">                        result += <span class=\"number\">1</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        result -= <span class=\"number\">1</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">'X'</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i == (len - <span class=\"number\">1</span>))&#123;</span><br><span class=\"line\">                    result += <span class=\"number\">10</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'X'</span> || s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'V'</span> || s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'I'</span>)&#123;</span><br><span class=\"line\">                        result += <span class=\"number\">10</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        result -= <span class=\"number\">10</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s.charAt(i) == <span class=\"string\">'C'</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i == (len - <span class=\"number\">1</span>))&#123;</span><br><span class=\"line\">                    result += <span class=\"number\">100</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'C'</span> || s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'L'</span> || s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'X'</span> || s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'V'</span> || s.charAt(i+<span class=\"number\">1</span>) == <span class=\"string\">'I'</span>)&#123;</span><br><span class=\"line\">                        result += <span class=\"number\">100</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        result -= <span class=\"number\">100</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>明确罗马数字表示方法：<blockquote>\n<p>a. 共有I X C M V L D七种字符，分别代表1,10,100,1000,5,50,500<br>b. 给定一串罗马数字，其代表的数字是各位数字求和，但有特殊情况：当数字为I,X,C时，如果后面的罗马数字代表的数据比当前位大，则当前位作为减数，否则正常作为加数。</p>\n</blockquote>\n</li>\n<li>根据上述规律遍历一遍字符串即可得到结果。</li>\n</ol>\n"},{"title":"leetcode [#67]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/31/leetcode-67/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given two binary strings, return their sum (also a binary string).</p>\n<p><strong>Example</strong><br>a = “11”<br>b = “1”<br>Return “100”.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">addBinary</span><span class=\"params\">(String a, String b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len1 = a.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len2 = b.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> delta = Math.abs(len1 - len2);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> max = Math.max(len1, len2);</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] intVal1 = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[max];</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] intVal2 = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[max];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(len1 &gt;= len2)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; max; i++)&#123;</span><br><span class=\"line\">                intVal1[i] = Integer.parseInt(String.valueOf(a.charAt(i)));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; max; j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(j &lt; delta)&#123;</span><br><span class=\"line\">                    intVal2[j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    intVal2[j] = Integer.parseInt(String.valueOf(b.charAt(j - delta)));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; max; i++)&#123;</span><br><span class=\"line\">                intVal1[i] = Integer.parseInt(String.valueOf(b.charAt(i)));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; max; j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(j &lt; delta)&#123;</span><br><span class=\"line\">                    intVal2[j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    intVal2[j] = Integer.parseInt(String.valueOf(a.charAt(j - delta)));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuilder builder = <span class=\"keyword\">new</span> StringBuilder(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">        handle(max, <span class=\"number\">0</span>, intVal1, intVal2, builder);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.reverse().toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">handle</span><span class=\"params\">(<span class=\"keyword\">int</span> max, <span class=\"keyword\">int</span> more, <span class=\"keyword\">int</span>[] val1, <span class=\"keyword\">int</span>[] val2, StringBuilder builder)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> temp = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(max &gt;= <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            temp = val1[max - <span class=\"number\">1</span>] + val2[max - <span class=\"number\">1</span>] + more;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            temp = val1[<span class=\"number\">0</span>] + val2[<span class=\"number\">0</span>] + more;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(max-<span class=\"number\">1</span> &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(temp &lt;= <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                builder.append(Integer.toString(temp));</span><br><span class=\"line\">                handle(--max, <span class=\"number\">0</span>, val1, val2, builder);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                builder.append(Integer.toString(temp % <span class=\"number\">2</span>));</span><br><span class=\"line\">                handle(--max, <span class=\"number\">1</span>, val1, val2, builder);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(temp &lt;= <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                builder.append(Integer.toString(temp));</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                builder.append(Integer.toString(temp % <span class=\"number\">2</span>));</span><br><span class=\"line\">                builder.append(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>思路基本与<a href=\"http://gcidea.info/2016/10/31/leetcode-415/\" target=\"_blank\" rel=\"external\">leetcode [#415]</a>相同。只不过此处变成了二进制。</li>\n</ol>\n"},{"title":"leetcode [#383]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/31/leetcode-383/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an arbitrary ransom note string and another string containing letters from all the magazines, write a function that will return true if the ransom note can be constructed from the magazines ; otherwise, it will return false.</p>\n<p>Each letter in the magazine string can only be used once in your ransom note.</p>\n<p><strong>Example</strong>:<br>canConstruct(“a”, “b”) -&gt; false<br>canConstruct(“aa”, “ab”) -&gt; false<br>canConstruct(“aa”, “aab”) -&gt; true</p>\n<p><strong>Note</strong>:<br>You may assume that both strings contain only lowercase letters.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">canConstruct</span><span class=\"params\">(String ransomNote, String magazine)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len1 = ransomNote.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len2 = magazine.length();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(len1 &gt; len2) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        List&lt;String&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; len2; k++)&#123;</span><br><span class=\"line\">            list.add(String.valueOf(magazine.charAt(k)));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; len1; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!list.remove(String.valueOf(ransomNote.charAt(i))))&#123;</span><br><span class=\"line\">                result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>先判断特殊情况，如果magazine的长度比ransomNote小，那么一定不能组成结果。</li>\n<li>将magazine的每个字符存入list备用。</li>\n<li>遍历ransomNote，将每个字符从list中弹出，如果成功，证明list中有这个字符，也就是能作为构成ransomNote的一个字符，如果弹出失败，说明没有这个字符，返回false即可。</li>\n</ol>\n"},{"title":"leetcode [#58]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/31/leetcode-58/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a string s consists of upper/lower-case alphabets and empty space characters ‘ ‘, return the length of last word in the string.</p>\n<p>If the last word does not exist, return 0.</p>\n<p><strong>Example</strong><br>Given s = “Hello World”,<br>return 5.</p>\n<p><strong>Note</strong><br>A word is defined as a character sequence consists of non-space characters only.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">lengthOfLastWord</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s == <span class=\"keyword\">null</span> || s.length() == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        String[] arr = s.split(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(arr.length == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;  <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> arr[arr.length - <span class=\"number\">1</span>].length();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>先处理特殊情况。</li>\n<li>对字符串按空格切分，得到的数组如果长度为0，说明本来就是一系列空格组成的字符串，返回0；否则，返回数组最后一个元素的长度即可。</li>\n</ol>\n"},{"title":"leetcode [#263]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/31/leetcode-263/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Write a program to check whether a given number is an ugly number.</p>\n<p>Ugly numbers are positive numbers whose prime factors only include 2, 3, 5.</p>\n<p><strong>Example</strong><br>For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7.</p>\n<p>Note that 1 is typically treated as an ugly number.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isUgly</span><span class=\"params\">(<span class=\"keyword\">int</span> num)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">2</span>; i &lt;= <span class=\"number\">5</span> &amp;&amp; num &gt; <span class=\"number\">0</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (num % i == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                num /= i;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> num == <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li><p>以下暴力方法会超时，不可用：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isUgly</span><span class=\"params\">(<span class=\"keyword\">int</span> num)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(isPrime(num))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!(num == <span class=\"number\">2</span> || num == <span class=\"number\">3</span> || num == <span class=\"number\">5</span>))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">2</span>; i &lt;= num; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(num % i == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                list.add(i);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>;j&lt;list.size();j++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(isPrime(list.get(j)))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!(list.get(j) == <span class=\"number\">2</span> || list.get(j) == <span class=\"number\">3</span> || list.get(j) == <span class=\"number\">5</span>))&#123;</span><br><span class=\"line\">                    result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isPrime</span><span class=\"params\">(<span class=\"keyword\">int</span> num)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">2</span>; i &lt;= Math.sqrt(num); i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(num % i == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>解决方案中的方法非常灵活巧妙。对于给定的数num，不断将其除以2,3,4,5（前提条件是能整除），该过程结束后，如果结果为1，说明num是由若干个2,3,5相乘得到的，这就满足ugly number的条件；而如果还未达到1，说明有其他不能被2,3,4,5整除的因子，也就是发现了不为2,3,5的质因子。</p>\n</li>\n<li>除以4就相当于除以2，这里是为了循环条件连贯代码结构完整。</li>\n</ol>\n"},{"title":"leetcode [#326]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/31/leetcode-326/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an integer, write a function to determine if it is a power of three.</p>\n<p><strong>Follow up</strong>:<br>Could you do it without using any loop / recursion?</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isPowerOfThree</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        String str = Integer.toString(n);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len = str.length();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n == Math.pow(<span class=\"number\">3</span>, (<span class=\"number\">2</span> * len - <span class=\"number\">1</span>)) || n == Math.pow(<span class=\"number\">3</span>, (<span class=\"number\">2</span> * len)))&#123;</span><br><span class=\"line\">            result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>题目要求不要用任何循环或者递归。</li>\n<li>找到3的所有次幂的规律（除去0次幂）：<blockquote>\n<p>3^1  = 3,      3^2 =  9：     结果长度1位；<br>3^3  = 27,     3^4 =  81：    结果长度2位；<br>3^5  = 243,    3^6 =  729：   结果长度3位；<br>3^7  = 2187,   3^8 =  6561：  结果长度4位；<br>3^9  = 19683,  3^10 = 59049： 结果长度5位；<br>3^11 = 177147, 3^12 = 531441：结果长度6位；<br>… …<br>3^(2*k-1) = … , 3^(2*k) = … ：结果长度k位；</p>\n</blockquote>\n</li>\n<li>因此，拿到一个整数，先判断其长度，在长度已知的情况下，该数是3的某次幂只可能有两种情况，判断是否是二者之一即可。</li>\n</ol>\n"},{"title":"leetcode [#400]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/31/leetcode-400/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Find the nth digit of the infinite integer sequence 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, …</p>\n<p><strong>Example1</strong>:<br>Input:<br>3</p>\n<p>Output:<br>3</p>\n<p><strong>Example2</strong>:<br>Input:<br>11</p>\n<p>Output:<br>0</p>\n<p>Explanation:<br>The 11th digit of the sequence 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, … is a 0, which is part of the number 10.</p>\n<p><strong>Note</strong>:<br>n is positive and will fit within the range of a 32-bit signed integer (n &lt; 231).</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">findNthDigit</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> k = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> temp = n;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(temp &gt; <span class=\"number\">9</span> * Math.pow(<span class=\"number\">10</span>, k) * (k + <span class=\"number\">1</span>))&#123;</span><br><span class=\"line\">            temp = temp - <span class=\"number\">9</span> * (<span class=\"keyword\">int</span>)Math.pow(<span class=\"number\">10</span>, k) * (k + <span class=\"number\">1</span>);</span><br><span class=\"line\">            k++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> division = temp / (k+<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n &lt;= <span class=\"number\">9</span>)&#123;</span><br><span class=\"line\">            result = n;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> mode = temp % (k+<span class=\"number\">1</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(mode != <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">int</span> curr = (<span class=\"keyword\">int</span>)Math.pow(<span class=\"number\">10</span>, k) + division;</span><br><span class=\"line\">                <span class=\"keyword\">int</span> p = curr;</span><br><span class=\"line\">                <span class=\"keyword\">int</span>[] digitArr = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[k+<span class=\"number\">1</span>];</span><br><span class=\"line\">                <span class=\"keyword\">int</span> m = k;</span><br><span class=\"line\">                <span class=\"keyword\">while</span>(p &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    digitArr[m] = p % <span class=\"number\">10</span>;</span><br><span class=\"line\">                    p = p / <span class=\"number\">10</span>;</span><br><span class=\"line\">                    m--;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                result = digitArr[mode - <span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">int</span> curr = (<span class=\"keyword\">int</span>)Math.pow(<span class=\"number\">10</span>, k) + division - <span class=\"number\">1</span>;</span><br><span class=\"line\">                result = curr % <span class=\"number\">10</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>是一道数学规律题目。给出从1开始递增1的无限整数序列。要求返回第n位的数字。这个数字可能是整数序列中某个数的某一位。</li>\n<li>主要规律如下：<br>从1开始的整数：<blockquote>\n<p>位数为1的： 1   ~9 ，  共9 个；<br>位数为2的： 10  ~99，  共99个；<br>位数为3的： 100 ~999 ，共999个；<br>位数为4的： 1000~9999，共9999个；<br>… …</p>\n</blockquote>\n</li>\n<li>根据如上规律对所有数字进行分组，也就是位数相同的整数在一组。给定一个数，先通过while循环判断在哪个组里。之后在这个组中，判断它属于哪个数字。</li>\n</ol>\n"},{"title":"leetcode [#415]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/31/leetcode-415/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given two non-negative numbers num1 and num2 represented as string, return the sum of num1 and num2.</p>\n<p><strong>Note</strong>:</p>\n<ol>\n<li>The length of both num1 and num2 is &lt; 5100.</li>\n<li>Both num1 and num2 contains only digits 0-9.</li>\n<li>Both num1 and num2 does not contain any leading zero.</li>\n<li>You must not use any built-in BigInteger library or convert the inputs to integer directly.</li>\n</ol>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">addStrings</span><span class=\"params\">(String num1, String num2)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len1 = num1.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len2 = num2.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> delta = Math.abs(len1 - len2);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> max = Math.max(len1, len2);</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] intVal1 = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[max];</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] intVal2 = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[max];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(len1 &gt;= len2)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; max; i++)&#123;</span><br><span class=\"line\">                intVal1[i] = Integer.parseInt(String.valueOf(num1.charAt(i)));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; max; j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(j &lt; delta)&#123;</span><br><span class=\"line\">                    intVal2[j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    intVal2[j] = Integer.parseInt(String.valueOf(num2.charAt(j - delta)));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; max; i++)&#123;</span><br><span class=\"line\">                intVal1[i] = Integer.parseInt(String.valueOf(num2.charAt(i)));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; max; j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(j &lt; delta)&#123;</span><br><span class=\"line\">                    intVal2[j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    intVal2[j] = Integer.parseInt(String.valueOf(num1.charAt(j - delta)));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuilder builder = <span class=\"keyword\">new</span> StringBuilder(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">        handle(max, <span class=\"number\">0</span>, intVal1, intVal2, builder);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.reverse().toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">handle</span><span class=\"params\">(<span class=\"keyword\">int</span> max, <span class=\"keyword\">int</span> more, <span class=\"keyword\">int</span>[] val1, <span class=\"keyword\">int</span>[] val2, StringBuilder builder)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> temp = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(max &gt;= <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            temp = val1[max - <span class=\"number\">1</span>] + val2[max - <span class=\"number\">1</span>] + more;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            temp = val1[<span class=\"number\">0</span>] + val2[<span class=\"number\">0</span>] + more;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(max-<span class=\"number\">1</span> &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(temp &lt;= <span class=\"number\">9</span>)&#123;</span><br><span class=\"line\">                builder.append(Integer.toString(temp));</span><br><span class=\"line\">                handle(--max, <span class=\"number\">0</span>, val1, val2, builder);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                builder.append(Integer.toString(temp % <span class=\"number\">10</span>));</span><br><span class=\"line\">                handle(--max, <span class=\"number\">1</span>, val1, val2, builder);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(temp &lt;= <span class=\"number\">9</span>)&#123;</span><br><span class=\"line\">                builder.append(Integer.toString(temp));</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                builder.append(Integer.toString(temp % <span class=\"number\">10</span>));</span><br><span class=\"line\">                builder.append(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>不能考虑任何直接转向整型进行求和的方法。字符串最多达到5099位，这不是常规数据类型能够表示的，同时又不能使用大整数的库。那么，就要将问题化简为最简的情况进行处理—考虑两个1位数求和的情况，结合进位情况，递归考虑下去。</li>\n<li>为了简便，在进行递归处理前，先做了一系列处理：<blockquote>\n<p>a. 无论两个字符串各自多长，统一处理成较长长度的数组。<br>b. 遍历每个位置的字符，直接构建整型数组而不是字符串数组。<br>c. 始终保证<code>intVal1[]</code>存储的是本来较长的字符串转换的数组；而<code>intVal2[]</code>存储的是经过高位补零构成的数组。</p>\n</blockquote>\n</li>\n<li>经过以上处理，开始递归。注意进位状况，跳出递归的条件是遍历到达了数组的最低位（亦即“数字”的最高位）。</li>\n</ol>\n"},{"title":"leetcode [#167]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/30/leetcode-167/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of integers that is already sorted in ascending order, find two numbers such that they add up to a specific target number.</p>\n<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>\n<p>You may assume that each input would have exactly one solution.</p>\n<p><strong>Example</strong>:<br>Input: numbers={2, 7, 11, 15}, target=9<br>Output: index1=1, index2=2</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span>[] twoSum(<span class=\"keyword\">int</span>[] numbers, <span class=\"keyword\">int</span> target) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = numbers.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(numbers == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> numbers;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] result = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">2</span>];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> last = N-<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = N-<span class=\"number\">1</span>; i &gt; <span class=\"number\">0</span>; i--)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(numbers[i] &lt; target)&#123;</span><br><span class=\"line\">                last = i;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> begin = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> end = N - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(begin &lt; end)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(numbers[begin] + numbers[end] == target)&#123;</span><br><span class=\"line\">                result[<span class=\"number\">0</span>] = begin+<span class=\"number\">1</span>;</span><br><span class=\"line\">                result[<span class=\"number\">1</span>] = end+<span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(numbers[begin] + numbers[end] &lt; target)&#123;</span><br><span class=\"line\">                begin++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                end--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li><p>以下是暴力解法，会超时：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span>[] twoSum(<span class=\"keyword\">int</span>[] numbers, <span class=\"keyword\">int</span> target) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = numbers.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(numbers == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> numbers;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] result = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">2</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = i+<span class=\"number\">1</span>; j &lt; N; j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(numbers[i] + numbers[j] == target)&#123;</span><br><span class=\"line\">                    result[<span class=\"number\">0</span>] = i+<span class=\"number\">1</span>;</span><br><span class=\"line\">                    result[<span class=\"number\">1</span>] = j+<span class=\"number\">1</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>解决方案中，首先排除了那些大于target的元素值。对于剩下的所有元素，分别将两端的值相加，如果等于target，则返回下标即可；如果大于target，说明右端点应换做较小的值，即<code>end--;</code>;如果小于target，说明左端点应换做较大的值，即<code>begin++;</code>。</p>\n</li>\n</ol>\n"},{"title":"leetcode [#268]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/30/leetcode-268/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array containing n distinct numbers taken from 0, 1, 2, …, n, find the one that is missing from the array.</p>\n<p>For example:</p>\n<p>Given nums = [0, 1, 3] return 2.</p>\n<p><strong>Note</strong><br>Your algorithm should run in linear runtime complexity. Could you implement it using only constant extra space complexity?</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">missingNumber</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums[N-<span class=\"number\">1</span>] != N)&#123;</span><br><span class=\"line\">            result = N;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[<span class=\"number\">0</span>] != <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            result =  <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N-<span class=\"number\">1</span>; i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(nums[i+<span class=\"number\">1</span>] - nums[i] != <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    result = i+<span class=\"number\">1</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>先考虑长度为0的特殊情况。</li>\n<li>将数组排序。</li>\n<li>考虑两端情况。</li>\n<li>遍历考虑中间情况。</li>\n</ol>\n"},{"title":"leetcode [#62]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/30/leetcode-62/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>A robot is located at the top-left corner of a m x n grid (marked ‘Start’ in the diagram below).</p>\n<p>The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked ‘Finish’ in the diagram below).</p>\n<p>How many possible unique paths are there?</p>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/leetcode-62.png\" alt=\"\"></p>\n<p><strong>Note</strong><br>m and n will be at most 100.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">uniquePaths</span><span class=\"params\">(<span class=\"keyword\">int</span> m, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[][] map = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">101</span>][<span class=\"number\">101</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"number\">101</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">1</span>; j &lt; <span class=\"number\">101</span>; j++)&#123;</span><br><span class=\"line\">                map[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i == <span class=\"number\">1</span> || j == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    map[i][j] = <span class=\"number\">1</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">int</span> temp = <span class=\"number\">0</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(map[i][j] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">1</span>; k &lt;= i; k++)&#123;</span><br><span class=\"line\">                            temp += map[k][j-<span class=\"number\">1</span>];</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        map[i][j] = temp;</span><br><span class=\"line\">                        map[j][i] = temp;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map[m][n];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>找到规律，开辟二维数组，每个位置的值就是m,n为对应下标时不同路线的总数。计算方法是上一行元素从0到i所有元素之和。</li>\n<li>这是一道典型的动态规划(DP)题目，上面给出的实质上是暴力递归的方法。而对暴力递归的方法进行优化正是动态规划要做的事情。使用动态规划，就是要考虑当前状态和哪些状态有关，并且只使用这些有意义的状态，避免大量冗余的重复计算。<br>在上面的方法中，我们求每个位置的元素时，是将其上一排从0截止到当前横坐标i位置的所有元素进行相加，这就访问了很多次数组。而要想获得这个值，并不是非得需要这样，因为<strong>这个“累加过程”我们其实已经做过了—就是在求解当前位置元素左边元素的时候。</strong>但是，稍有不同的是，解当前位置元素左边元素的时候，我们求的是从0截止到横坐标i-1位置的所有元素和，差了一个i，<strong>而这个正是要求的当前元素上面的元素。</strong>因此，找到了规律：<strong>求解每个元素，只需要将该元素左边的和上边的元素相加即可。</strong>这就减少了大量无意义的计算。代码如下：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">uniquePaths</span><span class=\"params\">(<span class=\"keyword\">int</span> m, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">    Integer[][] map = <span class=\"keyword\">new</span> Integer[m][n];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i&lt;m;i++)&#123;</span><br><span class=\"line\">        map[i][<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j= <span class=\"number\">0</span>;j&lt;n;j++)&#123;</span><br><span class=\"line\">        map[<span class=\"number\">0</span>][j]=<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>;i&lt;m;i++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">1</span>;j&lt;n;j++)&#123;</span><br><span class=\"line\">            map[i][j] = map[i-<span class=\"number\">1</span>][j]+map[i][j-<span class=\"number\">1</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> map[m-<span class=\"number\">1</span>][n-<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n"},{"title":"leetcode [#414]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/30/leetcode-414/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a non-empty array of integers, return the third maximum number in this array. If it does not exist, return the maximum number. The time complexity must be in O(n).</p>\n<p><strong>Example1</strong>:<br>Input: [3, 2, 1]</p>\n<p>Output: 1</p>\n<p>Explanation: The third maximum is 1.</p>\n<p><strong>Example2</strong>:<br>Input: [1, 2]</p>\n<p>Output: 2</p>\n<p>Explanation: The third maximum does not exist, so the maximum (2) is returned instead.</p>\n<p><strong>Example3</strong>:<br>Input: [2, 2, 3, 1]</p>\n<p>Output: 1</p>\n<p>Explanation: Note that the third maximum here means the third maximum distinct number.<br>Both numbers with value 2 are both considered as second maximum.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">thirdMax</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        Set&lt;Integer&gt; set = <span class=\"keyword\">new</span> TreeSet&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">            set.add(nums[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> LinkedList&lt;&gt;(set);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(list.size() &lt; <span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> list.get(list.size() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> list.get(list.size() - <span class=\"number\">3</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用TreeSet，结果有序且可以去重。之后取出相应元素即可。</li>\n</ol>\n"},{"title":"leetcode [#53]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/29/leetcode-53/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Find the contiguous subarray within an array (containing at least one number) which has the largest sum.</p>\n<p><strong>Example</strong><br>given the array [-2,1,-3,4,-1,2,1,-5,4],<br>the contiguous subarray [4,-1,2,1] has the largest sum = 6.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxSubArray</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> maxSoFar = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> maxEndingHere = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; nums.length; i++)&#123;</span><br><span class=\"line\">            maxEndingHere = Math.max(maxEndingHere + nums[i], nums[i]);</span><br><span class=\"line\">            maxSoFar = Math.max(maxSoFar, maxEndingHere);   </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> maxSoFar;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>典型的动态规划问题。</li>\n<li>思路：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/leetcode-53.png\" alt=\"\"></li>\n</ol>\n"},{"title":"leetcode [#35]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/29/leetcode-35/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a sorted array and a target value, return the index if the target is found. If not, return the index where it would be if it were inserted in order.</p>\n<p>You may assume no duplicates in the array.</p>\n<p><strong>Example</strong>:<br>[1,3,5,6], 5 → 2<br>[1,3,5,6], 2 → 1<br>[1,3,5,6], 7 → 4<br>[1,3,5,6], 0 → 0</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">searchInsert</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] == target)&#123;</span><br><span class=\"line\">                result = i;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[i] &gt; target) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    result = <span class=\"number\">0</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    result = i;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i == N - <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    result = N;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历数组，如果找到，返回下标；否则，一律在当前元素大于target的情况下确定插入位置，如果当前元素小于target则继续向后判断，但要注意是否到了末尾。</li>\n</ol>\n"},{"title":"leetcode [#26]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/29/leetcode-26/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a sorted array, remove the duplicates in place such that each element appear only once and return the new length.</p>\n<p>Do not allocate extra space for another array, you must do this in place with constant memory.</p>\n<p><strong>Example</strong>:<br>Given input array nums = [1,1,2],</p>\n<p>Your function should return length = 2, with the first two elements of nums being 1 and 2 respectively. It doesn’t matter what you leave beyond the new length.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> diff = N;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i =<span class=\"number\">0</span>; i &lt; N-<span class=\"number\">1</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] == nums[i+<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">                diff--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i =<span class=\"number\">0</span>; i &lt; N-<span class=\"number\">1</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] == nums[i+<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i &lt; diff-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    handle(nums, i, N);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> diff;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">handle</span><span class=\"params\">(<span class=\"keyword\">int</span>[] a, <span class=\"keyword\">int</span> index, <span class=\"keyword\">int</span> N)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> m = <span class=\"number\">0</span>; m &lt;= N-index-<span class=\"number\">3</span>; m++)&#123;</span><br><span class=\"line\">            a[index+<span class=\"number\">1</span>+m] = a[index+<span class=\"number\">2</span>+m];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a[index] == a[index+<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">            handle(a, index, N);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>要求不能开辟新的数组，使用常量空间原地完成。</li>\n<li>遍历一遍得到不相同元素个数。</li>\n<li>再遍历，如果当前元素等于下一元素且当前元素下标小于(diff-1)，做如下处理：将下一元素后一个元素开始的值依次向前复制；如果移动后当前元素还等于下一元素，递归调用继续处理。</li>\n<li>该方法效率不好，discuss中vote较高的方案是：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> p = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(p == <span class=\"number\">0</span> || nums[i] &gt; nums[p-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">                nums[p++] = nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>该方案没有单独用一次遍历来获取不相同元素个数。只遍历一次，定义了一个下标p，它始终指向当前遍历过的元素中互不相同的元素的最后一个，同时，p++也就是不相同元素的个数。</p>\n"},{"title":"leetcode [#27]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/29/leetcode-27/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array and a value, remove all instances of that value in place and return the new length.</p>\n<p>Do not allocate extra space for another array, you must do this in place with constant memory.</p>\n<p>The order of elements can be changed. It doesn’t matter what you leave beyond the new length.</p>\n<p><strong>Example</strong>:<br>Given input array nums = [3,2,2,3], val = 3</p>\n<p>Your function should return length = 2, with the first two elements of nums being 2.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">removeElement</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> equal = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; N; k++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[k] == val) &#123;</span><br><span class=\"line\">                equal++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = N - equal;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(equal == N) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> h = <span class=\"number\">0</span>; h &lt; N; h++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[h] == val) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(h &lt; result) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> m = <span class=\"number\">0</span>; m &lt; result; m++)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(h + equal + m &lt; N)&#123;</span><br><span class=\"line\">                            nums[h + m] = nums[h + equal + m];</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>要求不能开辟新的数组，使用常量空间原地完成。</li>\n<li>先对数组排序，并统计出要删除元素的个数。</li>\n<li>之后的工作就是进行遍历，并对某些位置元素进行移动。当equal == N，表明数组中全部元素都要删除，可以直接返回0。</li>\n<li>当第一个待删除元素的下标大于新数组长度result，不需任何操作（指移动元素）；否则，从第一个待删除元素的下标开始，将间隔（待删除元素个数equal）的元素依次移动到当前位置，注意不要数组越界。</li>\n</ol>\n"},{"title":"leetcode [#66]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/28/leetcode-66/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a non-negative number represented as an array of digits, plus one to the number.</p>\n<p>The digits are stored such that the most significant digit is at the head of the list.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span>[] plusOne(<span class=\"keyword\">int</span>[] digits) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = digits.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] result = handle(digits, N - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span>[] handle(<span class=\"keyword\">int</span>[] a, <span class=\"keyword\">int</span> index)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a[index] &lt; <span class=\"number\">9</span>)&#123;</span><br><span class=\"line\">            a[index]++;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            a[index] = <span class=\"number\">0</span>;</span><br><span class=\"line\">            index--;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(index &lt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">int</span>[] y = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">2</span>];</span><br><span class=\"line\">                y[<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">                y[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> y;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(index == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(a[index] &lt; <span class=\"number\">9</span>)&#123;</span><br><span class=\"line\">                    a[index]++;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    a[index] = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"keyword\">int</span> res[] = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[a.length + <span class=\"number\">1</span>];</span><br><span class=\"line\">                    res[<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> r = <span class=\"number\">1</span>; r &lt; a.length + <span class=\"number\">1</span>; r++)&#123;</span><br><span class=\"line\">                        res[r] = a[r - <span class=\"number\">1</span>];</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">int</span>[] t = handle(a, index);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> t;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li><p>以下方法思路正确，但是会超时，不符合复杂度要求：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span>[] plusOne(<span class=\"keyword\">int</span>[] digits) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span>[] one = &#123;<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> N = digits.length;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> one;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> val = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i&lt; N; i++)&#123;</span><br><span class=\"line\">        val += digits[i] * Math.pow(<span class=\"number\">10</span>, (N-i-<span class=\"number\">1</span>));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    val++;</span><br><span class=\"line\">    List&lt;Integer&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(val != <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">        list.add(val % <span class=\"number\">10</span>);</span><br><span class=\"line\">        val = val / <span class=\"number\">10</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">int</span>[] result = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[list.size()];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> p = <span class=\"number\">0</span>; p &lt; list.size(); p++)&#123;</span><br><span class=\"line\">        result[p] = list.get(list.size() - <span class=\"number\">1</span> - p);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>解决方案中，使用递归，从数组最高位开始判定，如果小于9，直接加1返回即可；如果为9，则要进位，递归调用本身判断前一位的情况。跳出递归的条件是当前索引值。</p>\n</li>\n</ol>\n"},{"title":"使用IntelliJ IDEA创建Gradle管理的Java Web项目","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/28/idea-gradle-project/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"MySQL重置密码时遇到的问题与解决","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/28/mysql-reset-password/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"leetcode [#88]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/28/leetcode-88/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given two sorted integer arrays nums1 and nums2, merge nums2 into nums1 as one sorted array.</p>\n<p><strong>Note</strong>:<br>You may assume that nums1 has enough space (size that is greater or equal to m + n) to hold additional elements from nums2. The number of elements initialized in nums1 and nums2 are m and n respectively.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">merge</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums1, <span class=\"keyword\">int</span> m, <span class=\"keyword\">int</span>[] nums2, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] result = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[m + n];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> index = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> len1 = nums1.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len2 = nums2.length;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> p = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> q = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p &lt; m || q &lt; n)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(p &lt; m &amp;&amp; q &lt; n)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(nums1[p] &lt;= nums2[q])&#123;</span><br><span class=\"line\">                    result[index++] = nums1[p];</span><br><span class=\"line\">                    p++;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    result[index++] = nums2[q];</span><br><span class=\"line\">                    q++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(p == m &amp;&amp; q &lt; n)&#123;</span><br><span class=\"line\">                result[index++] = nums2[q];</span><br><span class=\"line\">                q++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                result[index++] = nums1[p];</span><br><span class=\"line\">                p++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> s = <span class=\"number\">0</span>; s &lt; result.length; s++)&#123;</span><br><span class=\"line\">            nums1[s] = result[s];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>默认升序排序。</li>\n<li>借鉴归并排序的方法进行排序。</li>\n</ol>\n"},{"title":"leetcode [#92]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/27/leetcode-92/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Reverse a linked list from position m to n. Do it in-place and in one-pass.</p>\n<p><strong>Example</strong>:<br>Given 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2 and n = 4,<br>return 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL.</p>\n<p><strong>Example</strong>:<br>Given m, n satisfy the following condition:<br>1 ≤ m ≤ n ≤ length of list.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">reverseBetween</span><span class=\"params\">(ListNode head, <span class=\"keyword\">int</span> m, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> tempA = -<span class=\"number\">1</span>;</span><br><span class=\"line\">        ListNode pre = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ListNode begin = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ListNode end = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ListNode before = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        ListNode fakeHead = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        fakeHead.next = head;</span><br><span class=\"line\">        ListNode p = fakeHead;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            tempA++;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(tempA &lt; m-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                p = p.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>((tempA+<span class=\"number\">1</span>) == m) &#123;</span><br><span class=\"line\">                pre = p;</span><br><span class=\"line\">                before = p;</span><br><span class=\"line\">                p = p.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(tempA == m) &#123;</span><br><span class=\"line\">                begin = p;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(m &lt;= tempA &amp;&amp; tempA &lt;= n)&#123;</span><br><span class=\"line\">                ListNode next = p.next;</span><br><span class=\"line\">                p.next = pre;</span><br><span class=\"line\">                pre = p;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(tempA == n)&#123;</span><br><span class=\"line\">                    end = p;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                p = next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(tempA == n)&#123;</span><br><span class=\"line\">                begin.next = p;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(before != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                    before.next = end;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fakeHead.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用“头指针”，从而去除头结点的特殊性。</li>\n<li>难度在于要只一遍遍历且原地完成。</li>\n<li>记录要翻转节点的前一个节点、要翻转的第一个节点、要翻转的最后一个节点。</li>\n<li>核心代码：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(m &lt;= tempA &amp;&amp; tempA &lt;= n)&#123;</span><br><span class=\"line\">    ListNode next = p.next;</span><br><span class=\"line\">    p.next = pre;</span><br><span class=\"line\">    pre = p;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(tempA == n)&#123;</span><br><span class=\"line\">        end = p;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    p = next;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>是使用了链表翻转的典型做法。</p>\n"},{"title":"leetcode [#234]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/27/leetcode-234/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a singly linked list, determine if it is a palindrome.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isPalindrome</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">        </span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            list.add(p.val);</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        p = head;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = list.size()-<span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(list.get(i) != p.val)&#123;</span><br><span class=\"line\">                result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>一共遍历了两遍，第一遍把所有值存起来；第二遍将存起来的值倒序和链表中每个值比较。</li>\n<li>该方法效率较低，更好的方法如下：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isPalindrome</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">    ListNode fast = head;</span><br><span class=\"line\">    ListNode slow = head;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(fast != <span class=\"keyword\">null</span> &amp;&amp; fast.next != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        fast = fast.next.next;</span><br><span class=\"line\">        slow = slow.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(fast != <span class=\"keyword\">null</span>) slow = slow.next;</span><br><span class=\"line\"></span><br><span class=\"line\">    slow = reverse(slow);</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(slow != <span class=\"keyword\">null</span> &amp;&amp; head.val == slow.val) &#123;</span><br><span class=\"line\">        head = head.next;</span><br><span class=\"line\">        slow = slow.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> slow == <span class=\"keyword\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> ListNode <span class=\"title\">reverse</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">    ListNode prev = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(head != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        ListNode next = head.next;</span><br><span class=\"line\">        head.next = prev;</span><br><span class=\"line\">        prev = head;</span><br><span class=\"line\">        head = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>该方法中包含了很常用的链表翻转方法：<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> ListNode <span class=\"title\">reverse</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">    ListNode prev = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(head != <span class=\"keyword\">null</span>) &#123;                                                                </span><br><span class=\"line\">        ListNode next = head.next;</span><br><span class=\"line\">        head.next = prev;</span><br><span class=\"line\">        prev = head;</span><br><span class=\"line\">        head = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n"},{"title":"leetcode [#203]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/27/leetcode-203/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Remove all elements from a linked list of integers that have value val.</p>\n<p><strong>Example</strong>:<br>Given: 1 –&gt; 2 –&gt; 6 –&gt; 3 –&gt; 4 –&gt; 5 –&gt; 6, val = 6<br>Return: 1 –&gt; 2 –&gt; 3 –&gt; 4 –&gt; 5</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">removeElements</span><span class=\"params\">(ListNode head, <span class=\"keyword\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ListNode fakeHead = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        fakeHead.next = head;</span><br><span class=\"line\">        ListNode p = fakeHead;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (p != <span class=\"keyword\">null</span> &amp;&amp; p.next != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(p.next.val == val)&#123;</span><br><span class=\"line\">                p.next = p.next.next;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fakeHead.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用“头指针”，去除头结点的特殊性。</li>\n<li>如果当前节点的下一个节点是要删除的节点，将当前节点指向下一个节点之后的节点即可。</li>\n</ol>\n"},{"title":"leetcode [#160]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/27/leetcode-160/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Write a program to find the node at which the intersection of two singly linked lists begins.</p>\n<p><strong>Example</strong>:<br>the following two linked lists:<br>A:          a1 → a2<br>                   ↘<br>                     c1 → c2 → c3<br>                   ↗<br>B:     b1 → b2 → b3</p>\n<p>begin to intersect at node c1.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123;</span><br><span class=\"line\"> *         val = x;</span><br><span class=\"line\"> *         next = null;</span><br><span class=\"line\"> *     &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">getIntersectionNode</span><span class=\"params\">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class=\"line\">        ListNode result = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(headA == <span class=\"keyword\">null</span> || headB == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">        ListNode h1 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode h2 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        h1.next = headA;</span><br><span class=\"line\">        h2.next = headB;</span><br><span class=\"line\"></span><br><span class=\"line\">        LinkedHashSet&lt;ListNode&gt; set = <span class=\"keyword\">new</span> LinkedHashSet&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(h1 != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            set.add(h1);</span><br><span class=\"line\">            h1 = h1.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(h2 != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(set.add(h2) == <span class=\"keyword\">false</span>)&#123;</span><br><span class=\"line\">                result = h2;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            h2 = h2.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历其中任意一个链表，将所有元素都加入一个LinkedHashSet，再遍历另一个链表，也将每个元素依次加入该set，当add方法返回false时，说明该节点已经存在，也就是两个链表指向的公共节点，返回该节点即可。</li>\n<li>以下方法理解起来更容易但并不可行，o(n^2)的复杂度会导致超时：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ListNode <span class=\"title\">getIntersectionNode</span><span class=\"params\">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class=\"line\">    ListNode result = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(headA == <span class=\"keyword\">null</span> || headB == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    ListNode h1 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">    ListNode h2 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">    h1.next = headA;</span><br><span class=\"line\">    h2.next = headB;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (h1 != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> intersection = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(h2 != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(h1.next == h2.next)&#123;</span><br><span class=\"line\">                intersection = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                result = h1.next;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            h2 = h2.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(intersection)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        h2 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        h2.next = headB;</span><br><span class=\"line\">        h1 = h1.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n"},{"title":"leetcode [#165]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/27/leetcode-165/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Compare two version numbers version1 and version2.<br>If version1 &gt; version2 return 1, if version1 &lt; version2 return -1, otherwise return 0.</p>\n<p>You may assume that the version strings are non-empty and contain only digits and the . character.<br>The . character does not represent a decimal point and is used to separate number sequences.<br>For instance, 2.5 is not “two and a half” or “half way to version three”, it is the fifth second-level revision of the second first-level revision.</p>\n<p><strong>Example</strong><br>Here is an example of version numbers ordering:<br>0.1 &lt; 1.1 &lt; 1.2 &lt; 13.37</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">compareVersion</span><span class=\"params\">(String version1, String version2)</span> </span>&#123;</span><br><span class=\"line\">        String[] arr1 = version1.split(<span class=\"string\">\"\\\\.\"</span>);</span><br><span class=\"line\">        String[] arr2 = version2.split(<span class=\"string\">\"\\\\.\"</span>);</span><br><span class=\"line\">        List&lt;String&gt; list1 = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        List&lt;String&gt; list2 = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; arr1.length; i++)&#123;</span><br><span class=\"line\">            list1.add(arr1[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; arr2.length; i++)&#123;</span><br><span class=\"line\">            list2.add(arr2[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> b1 = list1.size();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> b2 = list2.size();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(b1 &gt; b2)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; (b1 - b2); k++)&#123;</span><br><span class=\"line\">                list2.add(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(b1 &lt; b2)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; (b2 - b1); k++)&#123;</span><br><span class=\"line\">                list1.add(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> m = <span class=\"number\">0</span>; m &lt; list1.size(); m++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(Integer.valueOf(list1.get(m)) &gt; Integer.valueOf(list2.get(m)))&#123;</span><br><span class=\"line\">                result = <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(Integer.valueOf(list1.get(m)) &lt; Integer.valueOf(list2.get(m)))&#123;</span><br><span class=\"line\">                result = -<span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>先将字符串按“.”分割。</li>\n<li>将分割后数组每个元素装入ArrayList并补齐长度。</li>\n<li>依次比较两个list中的每个元素即可。</li>\n</ol>\n"},{"title":"leetcode [#19]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/27/leetcode-19/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a linked list, remove the nth node from the end of list and return its head.</p>\n<p><strong>Example</strong>:<br>Given linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5, and n = 2.<br>After removing the second node from the end, the linked list becomes 1-&gt;2-&gt;3-&gt;5.</p>\n<p><strong>Note</strong>:<br>Given n will always be valid.<br>Try to do this in one pass.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">removeNthFromEnd</span><span class=\"params\">(ListNode head, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> num = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            num++;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        p = head;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num - n ==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            head = head.next;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> temp = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            temp++;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(temp == (num-n))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(p.next != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                    p.next = p.next.next;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>首先获取链表长度，之后删除指定节点就很简单。</li>\n<li>但题目要求在一次遍历中解决问题，故如下方法更好：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">removeNthFromEnd</span><span class=\"params\">(ListNode head, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        ListNode fakeHead = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        fakeHead.next = head;</span><br><span class=\"line\">        ListNode p = fakeHead;</span><br><span class=\"line\">        </span><br><span class=\"line\">        List&lt;ListNode&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            list.add(p);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(list.size() &gt; (n+<span class=\"number\">1</span>))&#123;</span><br><span class=\"line\">                list.remove(<span class=\"number\">0</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        list.get(<span class=\"number\">0</span>).next = list.get(<span class=\"number\">1</span>).next;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fakeHead.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>其思路是：</p>\n<blockquote>\n<p>使用了一个长度为(n+1)的ArrayList作为“滑动窗口”，这样遍历一遍链表，遍历结束时，list就会装着最后(n+1)个节点，所以要删除的是list中的第二个节点，因此只要将list中第一个节点指向第二个节点后面的内容即可（可能是null）。另外，还要注意使用了“头指针”，去除第一个节点的特殊性。</p>\n</blockquote>\n"},{"title":"leetcode [#189]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/27/leetcode-189/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Rotate an array of n elements to the right by k steps.</p>\n<p><strong>Example</strong>:<br>with n = 7 and k = 3, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4].</p>\n<p><strong>Note</strong>:<br>Try to come up as many solutions as you can, there are at least 3 different ways to solve this problem.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">rotate</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] result = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[len];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> p = <span class=\"number\">0</span>; p &lt; len; p++)&#123;</span><br><span class=\"line\">            result[p] = nums[(len - (k % len) + p) % len];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> q = <span class=\"number\">0</span>; q &lt; len; q++) &#123;</span><br><span class=\"line\">            nums[q] = result[q];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>找到下标规律，取相应元素即可。</li>\n<li>该方法效率一般，更好的方法如下：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ol>\n"},{"title":"leetcode [#24]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/26/leetcode-24/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a linked list, swap every two adjacent nodes and return its head.</p>\n<p><strong>Example</strong>:<br>Given 1-&gt;2-&gt;3-&gt;4, you should return the list as 2-&gt;1-&gt;4-&gt;3.</p>\n<p><strong>Note</strong>:<br>Your algorithm should use only constant space. You may not modify the values in the list, only nodes itself can be changed.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">swapPairs</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span> &amp;&amp; p.next != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> temp = p.next.val;</span><br><span class=\"line\">            p.next.val = p.val;</span><br><span class=\"line\">            p.val = temp;</span><br><span class=\"line\">            p = p.next.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>默认链表有偶数个元素。</li>\n<li>遍历整个链表，每两个做交换即可。</li>\n</ol>\n"},{"title":"leetcode [#21]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/26/leetcode-21/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Merge two sorted linked lists and return it as a new list. The new list should be made by splicing together the nodes of the first two lists.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">mergeTwoLists</span><span class=\"params\">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(l1 == <span class=\"keyword\">null</span> &amp;&amp; l2 == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(l1 == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> l2;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(l2 == <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> l1;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        ListNode h1 = l1;</span><br><span class=\"line\">        ListNode h2 = l2;</span><br><span class=\"line\">        ListNode result = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode cur = result;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(h1 != <span class=\"keyword\">null</span> || h2 != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(h1 != <span class=\"keyword\">null</span> &amp;&amp; h2 != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(h1.val &lt;= h2.val)&#123;</span><br><span class=\"line\">                    cur.val = h1.val;</span><br><span class=\"line\">                    h1 = h1.next;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    cur.val = h2.val;</span><br><span class=\"line\">                    h2 = h2.next;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(h1 == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                cur.val = h2.val;</span><br><span class=\"line\">                h2 = h2.next;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                cur.val = h1.val;</span><br><span class=\"line\">                h1 = h1.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(h1 == <span class=\"keyword\">null</span> &amp;&amp; h2 == <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                cur.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                cur.next = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">                cur = cur.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>从结果来看，题目默认的是升序排序。</li>\n<li>两个有序链表合并，可以看到归并排序算法的影子，按照归并排序的算法进行处理即可。</li>\n</ol>\n"},{"title":"Nginx服务器基本配置及在模块化项目中的转发应用","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/25/nginx-configuration-and-modules-project-dispatch/","content":"<h2 id=\"nginx概述\"><a href=\"#nginx概述\" class=\"headerlink\" title=\"nginx概述\"></a>nginx概述</h2><ul>\n<li>来源<br>　　Nginx (“engine x”) 是一个高性能的HTTP和反向代理服务器，也是一个IMAP/POP3/SMTP服务器。Nginx是由Igor Sysoev为俄罗斯访问量第二的Rambler.ru站点开发的，第一个公开版本0.1.0发布于2004年10月4日。2011年6月1日，nginx 1.0.4发布。</li>\n<li>特点<br>　　占有内存少，并发能力强。Nginx可以在大多数Unix like OS上编译运行，并有Windows移植版。windows下的nginx使用的是native Win32 API编写的，使用select处理连接，所以windows下的nginx性能不会太高且伸缩性(scalability，意思是通过数量上的扩展满足系统业务的增长）也差些。另外windows下的nginx缺少一些模块：XSLT filter, image filter, GeoIP module, 和 embedded Perl language。同时需要注意的是：</li>\n</ul>\n<ol>\n<li>windows下nginx配置文件中的目录请使用“/”，而不是“”做目录分隔</li>\n<li>windows下的nginx只有一个有效的工作进程</li>\n<li>windows vista以后系统的不支持nginx的cache模块和需要共享内存支持的模块</li>\n<li>widows下的nginx支持最大1024个并发连接</li>\n</ol>\n<hr>\n<h2 id=\"基本目录结构\"><a href=\"#基本目录结构\" class=\"headerlink\" title=\"基本目录结构\"></a>基本目录结构</h2><p>在window系统中，nginx目录结构如下（本文以nginx-1.11.5为例）：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-structure.png\" alt=\"\"><br>其中：<br><strong>conf</strong><br>存放默认配置文件。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-structure-conf.png\" alt=\"\"><br><strong>contrib</strong><br>存放一些实用工具，如geo配置生成工具（geo2nginx.pl）。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-structure-contrib.png\" alt=\"\"><br><strong>docs</strong><br>存放一些说明文档。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-structure-docs.png\" alt=\"\"><br><strong>html</strong><br>存放默认的网页文件。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-structure-html1.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-structure-html2.png\" alt=\"\"><br><strong>logs</strong><br>存放nginx运行的访问接入日志和错误日志。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-structure-logs.png\" alt=\"\"><br><strong>temp</strong><br>存放一些静态缓存数据，用户访问的时候，如果有就直接从缓存里取。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-structure-temp.png\" alt=\"\"><br><strong>nginx.exe</strong><br>nginx启动方式：双击nginx.exe或者在当前目录打开cmd窗口，使用命令<code>nginx</code>即可：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-start.png\" alt=\"\"><br>如果要关闭nginx，则需要再打开一个cmd窗口，使用命令<code>nginx -s stop</code>:<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/nginx-stop.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"配置文件nginx-conf\"><a href=\"#配置文件nginx-conf\" class=\"headerlink\" title=\"配置文件nginx.conf\"></a>配置文件nginx.conf</h2><h3 id=\"基本介绍\"><a href=\"#基本介绍\" class=\"headerlink\" title=\"基本介绍\"></a>基本介绍</h3><p>Nginx配置文件主要分为4部分：main（全局设置）、server（主机设置）、upstream（负载均衡服务器设置）和location（URL匹配特定位置的设置）。<br>nginx.conf中的配置信息，根据其逻辑上的意义，对它们进行了分类，也就是分成了多个作用域，或者称之为配置指令上下文。不同的作用域含有一个或者多个配置项。</p>\n<p>当前nginx支持的几个指令上下文：<br><strong>main</strong><br>nginx在运行时与具体业务功能（比如http服务或者email服务代理）无关的一些参数，比如工作进程数，运行的身份等。<br><strong>http</strong><br>与提供http服务相关的一些配置参数。例如：是否使用keepalive，是否使用gzip进行压缩等。<br><strong>server</strong><br>http服务上支持若干虚拟主机。每个虚拟主机一个对应的server配置项，配置项里面包含该虚拟主机相关的配置。在提供mail服务的代理时，也可以建立若干server.每个server通过监听的地址来区分。<br><strong>location</strong><br>http服务中，某些特定的URL对应的一系列配置项。<br><strong>mail</strong><br>实现email相关的SMTP/IMAP/POP3代理时，共享的一些配置项（因为可能实现多个代理，工作在多个监听地址上）。</p>\n<h3 id=\"一个实际使用的nginx-conf\"><a href=\"#一个实际使用的nginx-conf\" class=\"headerlink\" title=\"一个实际使用的nginx.conf\"></a>一个实际使用的nginx.conf</h3><blockquote>\n<p>注：下述配置文件由于要加入注释说明，缩进效果不佳，因此取消了所有缩进，这可能不利于阅读，为此，说明文件结构如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user nobody;</span><br><span class=\"line\">worker_processes  4;</span><br><span class=\"line\"></span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">    worker_connections 1024;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">http &#123;</span><br><span class=\"line\">\tinclude mime.types;</span><br><span class=\"line\">\tdefault_type application/octet-stream;</span><br><span class=\"line\"></span><br><span class=\"line\">\tsendfile on;</span><br><span class=\"line\"></span><br><span class=\"line\">\tkeepalive_timeout 65;</span><br><span class=\"line\">\t#gzip on;</span><br><span class=\"line\"></span><br><span class=\"line\">\tserver &#123;</span><br><span class=\"line\">\t\tlisten 80;</span><br><span class=\"line\">\t\tserver_name localhost;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t#charset utf-8;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t#access_log logs/host.access.log main;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tlocation / &#123;</span><br><span class=\"line\">\t\t\tproxy_pass http://127.0.0.1:8089/;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tlocation /rest/monitor/ &#123;</span><br><span class=\"line\">\t\t\tproxy_pass\thttp://127.0.0.1:8080/dw-monitorTask/rest/monitor/;</span><br><span class=\"line\">\t\t\t#反向代理配置</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t#error_page 404 /404.html;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\terror_page 500 502 503 504 /50x.html;</span><br><span class=\"line\">\t\t#定义错误页面</span><br><span class=\"line\">\t\tlocation = /50x.html &#123;</span><br><span class=\"line\">\t\t    root html;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t# another virtual host using mix of IP-, name-, and port-based configuration</span><br><span class=\"line\">\t#</span><br><span class=\"line\">\t#server &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t#&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t# HTTPS server</span><br><span class=\"line\">\tserver &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>相应含义见每行注释。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">####################################################################################################</span><br><span class=\"line\">user nobody;</span><br><span class=\"line\">#指定nginx worker进程运行用户以及用户组，默认nobody。</span><br><span class=\"line\"></span><br><span class=\"line\">worker_processes  4;</span><br><span class=\"line\">#指定nginx要开启的进程数，最好与CPU个数相同。</span><br><span class=\"line\"></span><br><span class=\"line\">#error_log logs/error.log;</span><br><span class=\"line\">#error_log logs/error.log notice;</span><br><span class=\"line\">#error_log logs/error.log info;</span><br><span class=\"line\">#用来定义全局错误日志文件。级别有：debug、info、notice、warn、error和crit。debug输出日志最为详细，crit输出日志最少。</span><br><span class=\"line\"></span><br><span class=\"line\">#pid logs/nginx.pid;</span><br><span class=\"line\">#用来指定进程id的存储文件位置。</span><br><span class=\"line\"></span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">    worker_connections 1024;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#设定nginx的工作模式及连接上限。</span><br><span class=\"line\"></span><br><span class=\"line\">####################################################################################################</span><br><span class=\"line\">http &#123;</span><br><span class=\"line\">include mime.types;</span><br><span class=\"line\">#实现对配置文件所包含的文件的设定，可以减少主配置文件的复杂度。</span><br><span class=\"line\"></span><br><span class=\"line\">default_type application/octet-stream;</span><br><span class=\"line\">#设定默认类型为二进制流。</span><br><span class=\"line\"></span><br><span class=\"line\">#log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class=\"line\">#                  &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class=\"line\">#                  &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class=\"line\">#指定nginx日志的输出格式。main为此日志文件输出格式的名称，可以在下面access_log指令中引用。</span><br><span class=\"line\"></span><br><span class=\"line\">#access_log logs/access.log main;</span><br><span class=\"line\">#指定nginx的access日志输出，使用上面声明的格式。</span><br><span class=\"line\"></span><br><span class=\"line\">sendfile on;</span><br><span class=\"line\">#用于开启高效文件传输模式。</span><br><span class=\"line\"></span><br><span class=\"line\">#tcp_nopush on;</span><br><span class=\"line\">#防止TCP阻塞。</span><br><span class=\"line\"></span><br><span class=\"line\">keepalive_timeout 65;</span><br><span class=\"line\">#用于设置客户端连接保持活动的超时时间，超过这个时间，服务器会关闭该连接。</span><br><span class=\"line\"></span><br><span class=\"line\">#gzip on;</span><br><span class=\"line\">#支持压缩传输，提高传输速度。</span><br><span class=\"line\"></span><br><span class=\"line\">#server这部分指定了一个虚拟主机。</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">listen 80;</span><br><span class=\"line\">#监听端口。</span><br><span class=\"line\"></span><br><span class=\"line\">server_name localhost;</span><br><span class=\"line\">#主机名（域名）。</span><br><span class=\"line\"></span><br><span class=\"line\">#charset utf-8;</span><br><span class=\"line\">#web服务器的语言编码。</span><br><span class=\"line\"></span><br><span class=\"line\">#access_log logs/host.access.log main;</span><br><span class=\"line\">#虚拟主机独立的访问日志。</span><br><span class=\"line\"></span><br><span class=\"line\"># ==================================================================================================================</span><br><span class=\"line\"># 匹配url地址中有&quot;/&quot;，则执行花括号中的配置。具体在本项目中，匹配到&quot;/&quot;，则将请求转发至http://127.0.0.1:8089/，也就是项目中管理员模块（基础模块）所运行在的端口</span><br><span class=\"line\">#（本地测试，管理员模块部署在本地tomcat中，且运行在8089端口，因此是http://127.0.0.1:8089/）</span><br><span class=\"line\">location / &#123;</span><br><span class=\"line\">proxy_pass http://127.0.0.1:8089/;</span><br><span class=\"line\">#反向代理配置。特别注意：在nginx中配置proxy_pass时，当在后面的url加上了/（如上所写http://127.0.0.1:8089/），相当于是绝对根路径，则nginx不会把location中匹配的路径部分代理走；如果没有/，则会把匹配的路径部分也给代理走。再比如：</span><br><span class=\"line\">#1、location /test/ &#123; </span><br><span class=\"line\">#   \tproxy_pass http://t6:8300; </span><br><span class=\"line\">#   &#125; </span><br><span class=\"line\">#</span><br><span class=\"line\">#2、location /test/ &#123; </span><br><span class=\"line\">#   \tproxy_pass http://t6:8300/; </span><br><span class=\"line\">#   &#125; </span><br><span class=\"line\">#</span><br><span class=\"line\">#对于上面两种配置，区别只在于proxy_pass转发的路径后是否带 “/” </span><br><span class=\"line\">#</span><br><span class=\"line\">#针对情况1，由于proxy_pass配置最后没有加/，则会把匹配的路径部分也给代理走。即如果访问http://server/test/test.jsp，则被nginx代理后，请求路径会便问http://t6:8300/test/test.jsp，将test/ 作为根路径（是一个相对路径），请求test/路径下的资源。</span><br><span class=\"line\">#</span><br><span class=\"line\">#针对情况2，由于proxy_pass配置最后加了/，则不会把匹配的路径部分也给代理走。即如果访问http://server/test/test.jsp，则被nginx代理后，请求路径会变为 http://proxy_pass/test.jsp，直接访问server的根资源。</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># ==================================================================================================================</span><br><span class=\"line\"># 匹配url地址中有&quot;/rest/monitor/&quot;，则执行花括号中的配置。具体在本项目中，匹配到&quot;/rest/monitor/&quot;，表明是具体业务子模块monitorTask的业务逻辑，则将请求转发至http://127.0.0.1:8080/dw-monitorTask/rest/monitor/</span><br><span class=\"line\">location /rest/monitor/ &#123;</span><br><span class=\"line\">\tproxy_pass\thttp://127.0.0.1:8080/dw-monitorTask/rest/monitor/;</span><br><span class=\"line\">\t#反向代理配置</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#error_page 404 /404.html;</span><br><span class=\"line\">#定义错误页面</span><br><span class=\"line\"></span><br><span class=\"line\"># redirect server error pages to the static page /50x.html</span><br><span class=\"line\"></span><br><span class=\"line\">error_page 500 502 503 504 /50x.html;</span><br><span class=\"line\">#定义错误页面</span><br><span class=\"line\">location = /50x.html &#123;</span><br><span class=\"line\">    root html;</span><br><span class=\"line\">    #nginx指定文件路径有两种方式root和alias，这里是默认值：root html</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#等号“=”表示完全一致</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#server这部分指定了其它的虚拟主机。</span><br><span class=\"line\"># another virtual host using mix of IP-, name-, and port-based configuration</span><br><span class=\"line\">#</span><br><span class=\"line\">#server &#123;</span><br><span class=\"line\">#    listen       8000;</span><br><span class=\"line\">#    listen       somename:8080;</span><br><span class=\"line\">#    server_name  somename  alias  another.alias;</span><br><span class=\"line\"></span><br><span class=\"line\">#    location / &#123;</span><br><span class=\"line\">#        root   html;</span><br><span class=\"line\">#        index  index.html index.htm;</span><br><span class=\"line\">#    &#125;</span><br><span class=\"line\">#&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#server这部分指定了其它的虚拟主机。</span><br><span class=\"line\"># HTTPS server</span><br><span class=\"line\">#</span><br><span class=\"line\">#server &#123;</span><br><span class=\"line\">#    listen       443 ssl;</span><br><span class=\"line\">#    server_name  localhost;</span><br><span class=\"line\"></span><br><span class=\"line\">#    ssl_certificate      cert.pem;</span><br><span class=\"line\">#    ssl_certificate_key  cert.key;</span><br><span class=\"line\"></span><br><span class=\"line\">#    ssl_session_cache    shared:SSL:1m;</span><br><span class=\"line\">#    ssl_session_timeout  5m;</span><br><span class=\"line\"></span><br><span class=\"line\">#    ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class=\"line\">#    ssl_prefer_server_ciphers  on;</span><br><span class=\"line\"></span><br><span class=\"line\">#    location / &#123;</span><br><span class=\"line\">#        root   html;</span><br><span class=\"line\">#        index  index.html index.htm;</span><br><span class=\"line\">#    &#125;</span><br><span class=\"line\">#&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"应用案例\"><a href=\"#应用案例\" class=\"headerlink\" title=\"应用案例\"></a>应用案例</h2><p>　　在模块化的web项目中，应用被合理地拆分成了多个模块。有一些通用的模块会被多个项目复用，比如上述配置文件中提到的管理员模块，也就是基础入口模块。<br>　　具体访问一个web应用时，诸如登录鉴权，系统菜单路由这些功能统一由基础模块进行处理。具体地，这个独立的模块被部署在了本地tomcat中（8089端口），那么，项目启动后，初始访问路由”/“就会由此转发给<code>http://127.0.0.1:8089/</code>;<br>　　而对于具体业务项目来说，业务模块其功能根据需求单独开发，开发完成后结合基础管理员模块，通过nginx进行反向代理来进行通信。具体地，本项目业务模块部署在了本地另一个tomcat中（端口8080）。在这里，凡是拦截到请求“/rest/monitor/”，说明是本项目具体业务逻辑的内容，则会被转发至<code>http://127.0.0.1:8080/dw-monitorTask/rest/monitor/</code>。<br>　　可以看出，通过上述这种方式，整个项目不但变得清晰，而且模块化特点很明显，易于灵活迁移。比如，公共模块统一部署在某个公网服务器上，那么后续开发的新业务系统就可以通过这种方式复用某些共有功能，避免了重复开发，提高了开发效率。</p>\n"},{"title":"leetcode [#82]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/24/leetcode-82/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a sorted linked list, delete all nodes that have duplicate numbers, leaving only distinct numbers from the original list.</p>\n<p><strong>Example</strong>:<br>Given 1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5, return 1-&gt;2-&gt;5.<br>Given 1-&gt;1-&gt;1-&gt;2-&gt;3, return 2-&gt;3.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">deleteDuplicates</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\"></span><br><span class=\"line\">        LinkedHashSet&lt;Integer&gt; setDuplicates = <span class=\"keyword\">new</span> LinkedHashSet&lt;&gt;();</span><br><span class=\"line\">        LinkedHashSet&lt;Integer&gt; setAll = <span class=\"keyword\">new</span> LinkedHashSet&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span> &amp;&amp; p.next != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(p.val == p.next.val)&#123;</span><br><span class=\"line\">                setDuplicates.add(p.val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        p = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            setAll.add(p.val);</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        Iterator&lt;Integer&gt; setDuplicatesIt = setDuplicates.iterator();</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(setDuplicatesIt.hasNext())&#123;</span><br><span class=\"line\">            setAll.remove(setDuplicatesIt.next());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(setAll.size() &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            ListNode result = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">            ListNode q = result;</span><br><span class=\"line\">            Iterator&lt;Integer&gt; it = setAll.iterator();</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(it.hasNext())&#123;</span><br><span class=\"line\">                q.val = it.next();</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(it.hasNext())&#123;</span><br><span class=\"line\">                    q.next = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">                    q = q.next;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    q.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>与83链表去重相比，本题要求“完全去重”，即重复元素不是保留一次，而是完全删除。</li>\n<li>这种方法用了LinkedHashSet，其特性是会去掉加入的重复元素，且与HashSet相比，可以保留元素加入的顺序不变，而不会像HashSet对加入的元素进行排序。</li>\n<li>这种方法效率较低，与83题考虑指针变化来解题的思路类似，discuss中vote较高的回答做法如下：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">deleteDuplicates</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head==<span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ListNode FakeHead=<span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        FakeHead.next=head;</span><br><span class=\"line\">        ListNode pre=FakeHead;</span><br><span class=\"line\">        ListNode cur=head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur!=<span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(cur.next!=<span class=\"keyword\">null</span>&amp;&amp;cur.val==cur.next.val)&#123;</span><br><span class=\"line\">                cur=cur.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(pre.next==cur)&#123;</span><br><span class=\"line\">                pre=pre.next;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                pre.next=cur.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            cur=cur.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> FakeHead.next;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>其思路是：</p>\n<blockquote>\n<p>1.定义了“头指针”，也就是指向头结点的“虚拟新增结点”。这样就去除了头结点的特殊性，从而可以应对从链表一开始元素就是重复的这种情况。<br>2.一开始，<code>pre</code>指向头指针结点，<code>cur</code>指向头结点。从<code>cur</code>即头结点开始遍历整个链表。<br>3.如果下一结点不为空且当前节点的值和下一结点的值相等，那么<code>cur</code>指针向后移动一位。<br>4.此时考虑指针<code>pre</code>，如果<code>pre</code>就在<code>cur</code>前面1位，那么<code>pre</code>向后移动一位即可，也就是<code>cur</code>和<code>pre</code>此时指向同一元素。否则，说明<code>cur</code>和<code>pre</code>中间间隔有元素，就正是那些重复的元素，这些都应该被跳过，跳过的方法就是，让<code>pre</code>指向<code>cur</code>后面1位的元素，即<code>pre.next=cur.next;</code>。<br>5.经过上述步骤，处理完所有情况，此时<code>cur</code>向后移动一位，重新开始考虑上面的步骤。</p>\n</blockquote>\n"},{"title":"leetcode [#83]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/24/leetcode-83/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a sorted linked list, delete all duplicates such that each element appear only once.</p>\n<p><strong>Example</strong>:<br>Given 1-&gt;1-&gt;2, return 1-&gt;2.<br>Given 1-&gt;1-&gt;2-&gt;3-&gt;3, return 1-&gt;2-&gt;3.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">deleteDuplicates</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span> &amp;&amp; p.next != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(p.val == p.next.val)&#123;</span><br><span class=\"line\">                p.next = p.next.next;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                p = p.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>链表去重，使用一个p指针指向头结点，开始遍历该链表，如果当前元素和后一个元素值不同，指针后移一位；如果相同，则当前元素指向后一个元素之后的元素，也就是把相同的两个元素的后者删除掉。</li>\n</ol>\n"},{"title":"leetcode [#86]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/24/leetcode-86/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a linked list and a value x, partition it such that all nodes less than x come before nodes greater than or equal to x.</p>\n<p>You should preserve the original relative order of the nodes in each of the two partitions.</p>\n<p><strong>Example</strong>:<br>Given 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2 and x = 3,<br>return 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">partition</span><span class=\"params\">(ListNode head, <span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        List&lt;ListNode&gt; list1 = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        List&lt;ListNode&gt; list2 = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (p != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(p.val &lt; x) &#123;</span><br><span class=\"line\">                list1.add(p);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                list2.add(p);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(list1.size() == <span class=\"number\">0</span> || list2.size() == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            ListNode head1 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">            ListNode head2 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">            ListNode end = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">            ListNode p1 = head1;</span><br><span class=\"line\">            ListNode p2 = head2;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> m = <span class=\"number\">0</span>; m &lt; list1.size(); m++)&#123;</span><br><span class=\"line\">                p1.val = list1.get(m).val;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(m == list1.size()-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    p1.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                    end = p1;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    p1.next = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                p1 = p1.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> n = <span class=\"number\">0</span>; n &lt; list2.size(); n++)&#123;</span><br><span class=\"line\">                p2.val = list2.get(n).val;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(n == list2.size()-<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    p2.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    p2.next = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                p2 = p2.next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            end.next = head2;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> head1;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历一遍，将小于x的放在一个ArrayList中，将大于等于x的放在另一个ArrayList中。之后再分别构造链表，相连起来。</li>\n<li>思路相同，但是不必放入List在连起来构造链表，这样效率比较低。下面方法直接用指针完成：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">partition</span><span class=\"params\">(ListNode head, <span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">    ListNode head1 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">    ListNode head2 = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);  </span><br><span class=\"line\">    ListNode curr1 = head1;</span><br><span class=\"line\">    ListNode curr2 = head2;      </span><br><span class=\"line\">    <span class=\"keyword\">while</span> (head != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (head.val &lt; x) &#123;</span><br><span class=\"line\">            curr1.next = head;</span><br><span class=\"line\">            curr1 = head;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            curr2.next = head;</span><br><span class=\"line\">            curr2 = head;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        head = head.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    curr2.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    curr1.next = head2.next;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head1.next;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n"},{"title":"leetcode [#142]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/24/leetcode-142/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a linked list, return the node where the cycle begins. If there is no cycle, return null.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123;</span><br><span class=\"line\"> *         val = x;</span><br><span class=\"line\"> *         next = null;</span><br><span class=\"line\"> *     &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">detectCycle</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        HashSet&lt;ListNode&gt; arr = <span class=\"keyword\">new</span> HashSet&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(arr.add(p) == <span class=\"keyword\">false</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>在141题的基础上，这题就很简单了。141题中当<code>arr.add(p)</code>方法返回为false，说明该节点已经被记录过了，说明该节点被指向了2次，而这刚好正是循环的开始，那现在直接返回该节点即可。</li>\n</ol>\n"},{"title":"leetcode [#141]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/24/leetcode-141/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a linked list, determine if it has a cycle in it.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123;</span><br><span class=\"line\"> *         val = x;</span><br><span class=\"line\"> *         next = null;</span><br><span class=\"line\"> *     &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">hasCycle</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        HashSet&lt;ListNode&gt; arr = <span class=\"keyword\">new</span> HashSet&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(arr.add(p) == <span class=\"keyword\">false</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用java中HashSet的特性：add(E e) 方法用于为指定的元素添加到这个组，如果它是不存在的，将新元素加入HashSet，并返回true；如果此set已经包含该元素，则调用设定不变，并返回false。</li>\n<li>使用“双指针”的方法更快：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">hasCycle</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(head==<span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">\tListNode walker = head;</span><br><span class=\"line\">\tListNode runner = head;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(runner.next!=<span class=\"keyword\">null</span> &amp;&amp; runner.next.next!=<span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">\t\twalker = walker.next;</span><br><span class=\"line\">\t\trunner = runner.next.next;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(walker==runner) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n"},{"title":"leetcode [#206]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/23/leetcode-206/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Reverse a singly linked list.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">reverseList</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span> || head.next == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">        ArrayList&lt;Integer&gt; valList = <span class=\"keyword\">new</span> ArrayList&lt;Integer&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (p != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            valList.add(p.val);</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ListNode newHead = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode q = newHead;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = valList.size()-<span class=\"number\">1</span>; k &gt;= <span class=\"number\">0</span>; k--)&#123;</span><br><span class=\"line\">            q.val = valList.get(k);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(k == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                q.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                q.next = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            q = q.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> newHead;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>翻转链表。获取所有元素，倒序构建新链表。</li>\n</ol>\n"},{"title":"leetcode [#237]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/22/leetcode-237/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Write a function to delete a node (except the tail) in a singly linked list, given only access to that node.</p>\n<p>Supposed the linked list is 1 -&gt; 2 -&gt; 3 -&gt; 4 and you are given the third node with value 3, the linked list should become 1 -&gt; 2 -&gt; 4 after calling your function.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">deleteNode</span><span class=\"params\">(ListNode node)</span> </span>&#123;</span><br><span class=\"line\">        node.val = node.next.val;</span><br><span class=\"line\">        node.next = node.next.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>　　思路很简单，既然要删除node节点，只要把node节点后面的节点的值赋给node节点，并且将node节点的next指向node节点后面的后面的节点。</p>\n"},{"title":"leetcode [#237]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/22/leetcode-238/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of n integers where n &gt; 1, nums, return an array output such that output[i] is equal to the product of all the elements of nums except nums[i].</p>\n<p>Solve it without division and in O(n).</p>\n<p><strong>Note</strong><br>given [1,2,3,4], return [24,12,8,6].</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span>[] productExceptSelf(<span class=\"keyword\">int</span>[] nums) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] output = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[N];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> zero = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> total = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                zero++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                total *= nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(zero &gt;= <span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;N;i++)&#123;</span><br><span class=\"line\">                output[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(zero == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;N;i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(nums[i] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    output[i] = total;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    output[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">                output[i] = total / nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>考虑了0的个数进行单独处理。</li>\n<li>上述方法使用了除法，不符合题目要求，discuss中vote较高的回答为：<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span>[] productExceptSelf(<span class=\"keyword\">int</span>[] nums) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span>[] result = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[nums.length];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>, tmp = <span class=\"number\">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        result[i] = tmp;</span><br><span class=\"line\">        tmp *= nums[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = nums.length - <span class=\"number\">1</span>, tmp = <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        result[i] *= tmp;</span><br><span class=\"line\">        tmp *= nums[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>该方法很巧妙，第一遍遍历算出了每个元素左边的值的乘积，保留该结果。再反向遍历，在刚才乘积结果的基础上再累成每个元素右边的值，最后就得到了答案。</p>\n"},{"title":"leetcode [#1]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/21/leetcode-1/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of integers, return indices of the two numbers such that they add up to a specific target.</p>\n<p>You may assume that each input would have exactly one solution.</p>\n<p><strong>Example</strong>:<br>Given nums = [2, 7, 11, 15], target = 9,</p>\n<p>Because nums[0] + nums[1] = 2 + 7 = 9,<br>return [0, 1].</p>\n<p><strong>Note</strong>:<br>The return format had been changed to zero-based indices. Please read the above updated description carefully.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span>[] twoSum(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> target) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] result = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">2</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i&lt;N;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = i + <span class=\"number\">1</span>;j&lt;N;j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(nums[i] + nums[j] == target)&#123;</span><br><span class=\"line\">                    result[<span class=\"number\">0</span>] = i;</span><br><span class=\"line\">                    result[<span class=\"number\">1</span>] = j;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>两次循环遍历找到相应元素，属于暴力解法。</li>\n<li>更优的解法考虑使用HashMap</li>\n</ol>\n"},{"title":"leetcode [#119]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/21/leetcode-119/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an index k, return the kth row of the Pascal’s triangle.</p>\n<p><strong>Example</strong>:<br>given k = 3,<br>Return [1,3,3,1].</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">getRow</span><span class=\"params\">(<span class=\"keyword\">int</span> rowIndex)</span> </span>&#123;</span><br><span class=\"line\">        List&lt;Integer&gt; zero = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        zero.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(rowIndex == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> zero;</span><br><span class=\"line\"></span><br><span class=\"line\">        List&lt;Integer&gt; row = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        List&lt;List&lt;Integer&gt;&gt; result = <span class=\"keyword\">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= rowIndex + <span class=\"number\">1</span>; i++)&#123;</span><br><span class=\"line\">            List&lt;Integer&gt; curr = <span class=\"keyword\">new</span> ArrayList&lt;Integer&gt;();</span><br><span class=\"line\">            curr.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">1</span>; j &lt; (i-<span class=\"number\">1</span>); j++)&#123;</span><br><span class=\"line\">                curr.add(result.get(i-<span class=\"number\">2</span>).get(j-<span class=\"number\">1</span>) + result.get(i-<span class=\"number\">2</span>).get(j));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i &gt; <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                curr.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            result.add(curr);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result.get(result.size()-<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>在118题的基础上，本题只需要构建相应层数的杨辉三角，并返回最后一层的元素数组即可。</li>\n</ol>\n"},{"title":"leetcode [#118]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/21/leetcode-118/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given numRows, generate the first numRows of Pascal’s triangle.</p>\n<p><strong>Example</strong>:<br>given numRows = 5,<br>Return</p>\n<p>[<br>     [1],<br>    [1,1],<br>   [1,2,1],<br>  [1,3,3,1],<br> [1,4,6,4,1]<br>]</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; generate(<span class=\"keyword\">int</span> numRows) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(numRows == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class=\"line\">        </span><br><span class=\"line\">        List&lt;List&lt;Integer&gt;&gt; result = <span class=\"keyword\">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= numRows; i++)&#123;</span><br><span class=\"line\">            List&lt;Integer&gt; curr = <span class=\"keyword\">new</span> ArrayList&lt;Integer&gt;();</span><br><span class=\"line\">            curr.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">1</span>; j &lt; (i-<span class=\"number\">1</span>); j++)&#123;</span><br><span class=\"line\">                curr.add(result.get(i-<span class=\"number\">2</span>).get(j-<span class=\"number\">1</span>) + result.get(i-<span class=\"number\">2</span>).get(j));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i &gt; <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                curr.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            result.add(curr);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>构建杨辉三角，当输入层数为0时特殊处理</li>\n<li>每一层至少有第一个元素1，从第二层开始，每层至少有最后一个元素1</li>\n<li>从第三层开始，可以使用上一层“头顶”的两个元素求和。</li>\n</ol>\n"},{"title":"leetcode [#122]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/20/leetcode-122/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Say you have an array for which the ith element is the price of a given stock on day i.</p>\n<p>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times). However, you may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(<span class=\"keyword\">int</span>[] prices)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = prices.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(prices == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> max = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N -<span class=\"number\">1</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(prices[i+<span class=\"number\">1</span>] &gt; prices[i])&#123;</span><br><span class=\"line\">                max += (prices[i+<span class=\"number\">1</span>] - prices[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>题目描述可以多次买入卖出，那自然也可以当天同时有买入和卖出。</li>\n<li>要总获益最大，只要保证每组“买入卖出”都有收益，且有尽量多组“买入卖出”。所以遍历一遍，只要后一个元素比前一个元素大，就做“买入卖出”。</li>\n</ol>\n"},{"title":"leetcode [#121]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/20/leetcode-121/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Say you have an array for which the ith element is the price of a given stock on day i.</p>\n<p>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>\n<p><strong>Example1</strong>:<br>Input: [7, 1, 5, 3, 6, 4]<br>Output: 5</p>\n<p>max. difference = 6-1 = 5 (not 7-1 = 6, as selling price needs to be larger than buying price)</p>\n<p><strong>Example1</strong>:<br>Input: [7, 6, 4, 3, 1]<br>Output: 0</p>\n<p>In this case, no transaction is done, i.e. max profit = 0.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(<span class=\"keyword\">int</span>[] prices)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = prices.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(prices == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> max = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> temp = prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i&lt;N; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(prices[i] &gt; temp) &#123;</span><br><span class=\"line\">                max = prices[i] - temp &gt; max ? (prices[i] - temp) : max;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                temp = prices[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>只进行一次遍历，temp变量始终指向当前位置遍历过的元素中的最小的。</li>\n<li>如果当前元素大于temp,则考察两者之间的差是否比max变量中的值大，如果是，更新max值（max初始值为0，这样如果遍历完成时没有更大的，直接返回即可）。</li>\n</ol>\n"},{"title":"leetcode [#169]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/19/leetcode-169/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of size n, find the majority element. The majority element is the element that appears more than ⌊ n/2 ⌋ times.</p>\n<p>You may assume that the array is non-empty and the majority element always exist in the array.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">majorityElement</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[nums.length / <span class=\"number\">2</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>将数组排序，返回下标为 N/2 的元素即可。</li>\n</ol>\n"},{"title":"leetcode [#219]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/18/leetcode-219/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of integers and an integer k, find out whether there are two distinct indices i and j in the array such that nums[i] = nums[j] and the difference between i and j is at most k.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">containsNearbyDuplicate</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        Set&lt;Integer&gt; set = <span class=\"keyword\">new</span> HashSet&lt;Integer&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i &gt; k) set.remove(nums[i-k-<span class=\"number\">1</span>]);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!set.add(nums[i])) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li><p>以下方法不稳定，在不同提交时，有时会通过，有时会超时，效率不高，不是好方法：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">containsNearbyDuplicate</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] index = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[N];</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] cpy = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[N];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> p = <span class=\"number\">0</span>; p &lt; N; p++)&#123;</span><br><span class=\"line\">            cpy[p] = nums[p];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">final</span> Hashtable&lt;Integer, Integer&gt; ht = <span class=\"keyword\">new</span> Hashtable&lt;Integer, Integer&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">            ht.put(i, nums[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        List&lt;Integer&gt; v = <span class=\"keyword\">new</span> ArrayList&lt;Integer&gt;(ht.keySet());</span><br><span class=\"line\">        Collections.sort(v,<span class=\"keyword\">new</span> Comparator&lt;Object&gt;()&#123;</span><br><span class=\"line\">                    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">compare</span><span class=\"params\">(Object arg0,Object arg1)</span></span>&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> ht.get(arg1) - ht.get(arg0);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">        );</span><br><span class=\"line\">        <span class=\"keyword\">int</span> t = N-<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (Integer i : v) &#123;</span><br><span class=\"line\">            index[t--] = i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N-<span class=\"number\">1</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] - nums[i+<span class=\"number\">1</span>] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(index[i+<span class=\"number\">1</span>] - index[i] &lt;= k)&#123;</span><br><span class=\"line\">                    result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>解决方案中借鉴了discuss中的优秀回答，这种方法比较巧妙地维护了一个长度为k的HashSet。复杂度为o(n)。</p>\n</li>\n</ol>\n"},{"title":"leetcode [#217]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/18/leetcode-217/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of integers, find if the array contains any duplicates. Your function should return true if any value appears at least twice in the array, and it should return false if every element is distinct.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">containsDuplicate</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; N-<span class=\"number\">1</span>; k++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[k] - nums[k+<span class=\"number\">1</span>] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>将数组排序，遍历，如果有相邻两项相同，说明有相同元素。</li>\n</ol>\n"},{"title":"leetcode [#396]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/18/leetcode-396/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array of integers A and let n to be its length.</p>\n<p>Assume Bk to be an array obtained by rotating the array A k positions clock-wise, we define a “rotation function” F on A as follow:</p>\n<p>F(k) = 0 * Bk[0] + 1 * Bk[1] + … + (n-1) * Bk[n-1].</p>\n<p>Calculate the maximum value of F(0), F(1), …, F(n-1).</p>\n<p><strong>Example</strong>:<br>A = [4, 3, 2, 6]</p>\n<p>F(0) = (0 * 4) + (1 * 3) + (2 * 2) + (3 * 6) = 0 + 3 + 4 + 18 = 25<br>F(1) = (0 * 6) + (1 * 4) + (2 * 3) + (3 * 2) = 0 + 4 + 6 + 6 = 16<br>F(2) = (0 * 2) + (1 * 6) + (2 * 4) + (3 * 3) = 0 + 6 + 8 + 9 = 23<br>F(3) = (0 * 3) + (1 * 2) + (2 * 6) + (3 * 4) = 0 + 2 + 12 + 12 = 26</p>\n<p>So the maximum value of F(0), F(1), F(2), F(3) is F(3) = 26.</p>\n<p><strong>Note</strong>:</p>\n<ul>\n<li>n is guaranteed to be less than 10^5.</li>\n</ul>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxRotateFunction</span><span class=\"params\">(<span class=\"keyword\">int</span>[] A)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = A.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(A == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> f0 = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> t = <span class=\"number\">0</span>; t &lt; N; t++)&#123;</span><br><span class=\"line\">            sum += A[t];</span><br><span class=\"line\">            f0 += t * A[t];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> max = f0;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> p = <span class=\"number\">1</span>; p &lt; N; p++)&#123;</span><br><span class=\"line\">            f0 = f0 - sum + N * A[p-<span class=\"number\">1</span>];</span><br><span class=\"line\">            max = f0 &gt; max ? f0 : max;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>1.使用如下方法会超时：<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> <span class=\"title\">maxRotateFunction</span><span class=\"params\">(<span class=\"keyword\">int</span>[] A)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(A == <span class=\"keyword\">null</span> || A.length == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> N = A.length;</span><br><span class=\"line\">    <span class=\"keyword\">int</span>[] F = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[N];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; N; k++)&#123;</span><br><span class=\"line\">        F[k] = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; N; j++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> index = ((N-k) % N + j) &lt; N ? ((N-k) % N + j) : (((N-k) % N + j) % N);</span><br><span class=\"line\">            F[k] = F[k] + j * A[index];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    Arrays.sort(F);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> F[N-<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>　　该方法只是严格按照运算规则逐一进行了运算，但没有找到实际规律，导致大量无用的计算。</p>\n<p>2.应该采用的做法中，找到了F函数相邻两项的规律，即：后一项F(i)是在前一项F(i-1)的基础上，减去输入数组之和sum，再加上数组长度N乘以A[i-1]。</p>\n"},{"title":"leetcode [#179]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/17/leetcode-179/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a list of non negative integers, arrange them such that they form the largest number.</p>\n<p><strong>Example</strong>:<br>Given [3, 30, 34, 5, 9], the largest formed number is 9534330.</p>\n<p><strong>Note</strong>:</p>\n<ul>\n<li>The result may be very large, so you need to return a string instead of an integer.</li>\n</ul>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">largestNumber</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//如果为空，直接返回空串</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums == <span class=\"keyword\">null</span> || nums.length == <span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//将数字数组转换为字符串数组，便于排序</span></span><br><span class=\"line\">        String[] s_num = <span class=\"keyword\">new</span> String[nums.length];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class=\"line\">            s_num[i] = String.valueOf(nums[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"comment\">//实现Comparator接口用来定义排序规则</span></span><br><span class=\"line\">        Comparator&lt;String&gt; comp = <span class=\"keyword\">new</span> Comparator&lt;String&gt;()&#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">compare</span><span class=\"params\">(String str1, String str2)</span></span>&#123;</span><br><span class=\"line\">                String s1 = str1 + str2;</span><br><span class=\"line\">                String s2 = str2 + str1;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> s2.compareTo(s1);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">       &#125;;</span><br><span class=\"line\">        </span><br><span class=\"line\">       <span class=\"comment\">//数组排序</span></span><br><span class=\"line\">       Arrays.sort(s_num, comp);</span><br><span class=\"line\">              </span><br><span class=\"line\">       <span class=\"comment\">//如果排序后数组第一个元素是0，则说明都是零，直接返回“0”即可         </span></span><br><span class=\"line\">       <span class=\"keyword\">if</span>(s_num[<span class=\"number\">0</span>].charAt(<span class=\"number\">0</span>) == <span class=\"string\">'0'</span>)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"string\">\"0\"</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">       <span class=\"comment\">//否则，使用StringBuilder将字符串数组中每一项连起来即可</span></span><br><span class=\"line\">       StringBuilder sb = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(String s: s_num)&#123;</span><br><span class=\"line\">            sb.append(s);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\">        <span class=\"keyword\">return</span> sb.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>1.曾考虑以下想法：</p>\n<ul>\n<li>对于两个要比较的数，将长度补齐，并且较短的末尾是用0补齐</li>\n<li>对于两个要比较的数，将长度补齐，并且较短的末尾是用个位数补齐</li>\n</ul>\n<p>　这两种方法都需要考虑不少特殊情况再单独做出判断，不是很完整。</p>\n<p>2.上述方法是借鉴discuss中vote较高的回答。核心是实现Comparator接口用来定义排序规则，用此规则使用Arrays.sort排序。</p>\n<p>3.由于最后要做字符串拼接，因此务必使用StringBuilder而非String直接相连，大大提高性能。</p>\n"},{"title":"客户端检测（浏览器兼容性）技术总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/16/browser-detect/","content":""},{"title":"leetcode [#242]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/15/leetcode-242/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given two strings s and t, write a function to determine if t is an anagram of s.</p>\n<p><strong>Example</strong>:<br>s = “anagram”, t = “nagaram”, return true.<br>s = “rat”, t = “car”, return false.</p>\n<p><strong>Note</strong>:<br>You may assume the string contains only lowercase alphabets.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isAnagram</span><span class=\"params\">(String s, String t)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> result = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> sLen = s.length();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> tLen = t.length();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(sLen != tLen)&#123;</span><br><span class=\"line\">            result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">char</span>[] arrayS = sortStr(s);</span><br><span class=\"line\">            <span class=\"keyword\">char</span>[] arrayT = sortStr(t);</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span> ; i &lt; arrayS.length ; i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(arrayS[i] != arrayT[i])&#123;</span><br><span class=\"line\">                    result = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">char</span>[] sortStr(String str)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = str.length();</span><br><span class=\"line\">        <span class=\"keyword\">char</span>[] a = <span class=\"keyword\">new</span> <span class=\"keyword\">char</span>[N];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k=<span class=\"number\">0</span>; k&lt;N; k++)&#123;</span><br><span class=\"line\">            a[k] = str.charAt(k);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        Arrays.sort(a);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>两个字符串互为字谜，首先长度要一样。</li>\n<li>将两个字符串排序，只要对应位不一样，则肯定不是互为字谜。</li>\n</ol>\n"},{"title":"leetcode [#75]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/14/leetcode-75/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array with n objects colored red, white or blue, sort them so that objects of the same color are adjacent, with the colors in the order red, white and blue.</p>\n<p>Here, we will use the integers 0, 1, and 2 to represent the color red, white, and blue respectively.</p>\n<p><strong>Note</strong>:<br>You are not suppose to use the library’s sort function for this problem.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">sortColors</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = nums.length;</span><br><span class=\"line\">        sort(nums, <span class=\"number\">0</span>, N-<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">sort</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> lo, <span class=\"keyword\">int</span> hi)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(hi &lt;= lo) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> j = partition(nums, lo, hi);</span><br><span class=\"line\">        sort(nums, lo, j-<span class=\"number\">1</span>);</span><br><span class=\"line\">        sort(nums, j+<span class=\"number\">1</span>, hi);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> <span class=\"title\">partition</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> lo, <span class=\"keyword\">int</span> hi)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i = lo;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> j = hi + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> v = nums[lo];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"keyword\">true</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (nums[++i] &lt; v) <span class=\"keyword\">if</span>(i == hi) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (nums[--j] &gt; v) <span class=\"keyword\">if</span>(j == lo) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i &gt;= j) <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">int</span> temp = nums[i];</span><br><span class=\"line\">            nums[i] = nums[j];</span><br><span class=\"line\">            nums[j] = temp;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> exch = nums[lo];</span><br><span class=\"line\">        nums[lo] = nums[j];</span><br><span class=\"line\">        nums[j] = exch;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> j;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>实现快速排序。</li>\n</ol>\n"},{"title":"leetcode [#147]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/13/leetcode-147/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Sort a linked list using insertion sort.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for singly-linked list.</span><br><span class=\"line\"> * public class ListNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     ListNode next;</span><br><span class=\"line\"> *     ListNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ListNode <span class=\"title\">insertionSortList</span><span class=\"params\">(ListNode head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">        <span class=\"comment\">//新建一个节点，指向头结点</span></span><br><span class=\"line\">        ListNode root = <span class=\"keyword\">new</span> ListNode(<span class=\"number\">0</span>);</span><br><span class=\"line\">        root.next = head;</span><br><span class=\"line\">        ListNode p = head;</span><br><span class=\"line\">        ListNode q;</span><br><span class=\"line\">        ListNode r;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (p != <span class=\"keyword\">null</span> &amp;&amp; p.next != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//如果顺序升序，则不作处理，P指针后移</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (p.val &lt;= p.next.val) &#123;</span><br><span class=\"line\">                p = p.next;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">//否则断开当前节点后其后节点的连接，为p.next找到合适的位置并插入（方法是从头结点开始比大小）</span></span><br><span class=\"line\">                q = p.next;</span><br><span class=\"line\">                p.next = q.next;</span><br><span class=\"line\"></span><br><span class=\"line\">                r = root;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (r.next.val &lt;= q.val) &#123;</span><br><span class=\"line\">                    r = r.next;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                q.next = r.next;</span><br><span class=\"line\">                r.next = q;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> root.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li><p>数组的插入排序是很简单的，只需要两个循环进行遍历即可，常见的做法如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Insertion</span></span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">sort</span><span class=\"params\">(a)</span></span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">int</span> N = a.length;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i&lt; N; i++)&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = i; j &gt; <span class=\"number\">0</span> &amp;&amp; a[j] &lt; a[j-<span class=\"number\">1</span>]; j--)&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">int</span> temp = a[j];</span><br><span class=\"line\">\t\t\t\ta[j] = a[j-<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t\ta[j-<span class=\"number\">1</span>] = temp;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>而对于链表排序，由于链表不支持随机访问，因此这种“遍历”必须每次都从头结点开始，而不能逐一递减向前找合适的位置插入。</p>\n</li>\n<li><p>思路是：当发现两个大小关系异常的节点—前大A后小B，首先断开两个节点的链接，将前一个节点A指向后一个节点B之后的节点。然后从链表的头结点开始到较大节点A结束这段范围内（必然在这段范围），逐一和较小节点B进行比较，当发现某节点C的下一节点已经大于较小节点B，则将B插入到C后面即可。</p>\n</li>\n</ol>\n"},{"title":"leetcode [#350]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/12/leetcode-350/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given two arrays, write a function to compute their intersection.</p>\n<p><strong>Example</strong>:<br>Given nums1 = [1, 2, 2, 1], nums2 = [2, 2], return [2, 2].</p>\n<p><strong>Note</strong>:</p>\n<ul>\n<li>Each element in the result should appear as many times as it shows in both arrays.</li>\n<li>The result can be in any order.</li>\n</ul>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span>[] intersect(<span class=\"keyword\">int</span>[] nums1, <span class=\"keyword\">int</span>[] nums2) &#123;</span><br><span class=\"line\">        Arrays.sort(nums1);</span><br><span class=\"line\">        Arrays.sort(nums2);</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;Integer&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> a = nums1.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> b = nums2.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i=<span class=\"number\">0</span>,j=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(i&lt;a &amp;&amp; j&lt;b)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums1[i] == nums2[j])&#123;</span><br><span class=\"line\">                list.add(nums1[i]);</span><br><span class=\"line\">                i++;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums1[i] &lt; nums2[j])&#123;</span><br><span class=\"line\">                i++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] sect = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[list.size()];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>;k &lt; list.size(); k++)&#123;</span><br><span class=\"line\">            sect[k] = list.get(k);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sect;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用Java的ArrayList，可能存储重复的对象。可通过get()方法获取元素。</li>\n<li>将两个数组排序后，通过一遍对两个数组的比较，就可以获取所有相同的元素。这种方法的复杂度是由Arrays.sort()方法决定的，该方法的实现采用三向快速排序或者归并排序，保证了复杂度在o(nlogn)，相比于通过两层for循环嵌套进行暴力筛选要好很多。</li>\n</ol>\n"},{"title":"leetcode [#349]","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/12/leetcode-349/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given two arrays, write a function to compute their intersection.</p>\n<p><strong>Example</strong>:<br>Given nums1 = [1, 2, 2, 1], nums2 = [2, 2], return [2].</p>\n<p><strong>Note</strong>:</p>\n<ul>\n<li>Each element in the result must be unique.</li>\n<li>The result can be in any order.</li>\n</ul>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span>[] intersection(<span class=\"keyword\">int</span>[] nums1, <span class=\"keyword\">int</span>[] nums2) &#123;</span><br><span class=\"line\">        Arrays.sort(nums1);</span><br><span class=\"line\">        Arrays.sort(nums2);</span><br><span class=\"line\">        HashSet&lt;Integer&gt; set = <span class=\"keyword\">new</span> HashSet&lt;Integer&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> a = nums1.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> b = nums2.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i=<span class=\"number\">0</span>,j=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(i&lt;a &amp;&amp; j&lt;b)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums1[i] == nums2[j])&#123;</span><br><span class=\"line\">                set.add(nums1[i]);</span><br><span class=\"line\">                i++;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums1[i] &lt; nums2[j])&#123;</span><br><span class=\"line\">                i++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] sect = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[set.size()];</span><br><span class=\"line\">        Iterator ir = set.iterator();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; ir.hasNext(); k++)&#123;</span><br><span class=\"line\">            sect[k] = (<span class=\"keyword\">int</span>) ir.next();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sect;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>使用Java的HashSet，HashSet是通过HashMap实现的，是存在于java.util包中的类。该容器中只能存储不重复的对象。不能通过get()方法获取元素，可通过实现Iterable接口迭代获取所有元素。</li>\n<li>将两个数组排序后，通过一遍对两个数组的比较，就可以获取所有相同的元素（并且重复的只存储了一次）。这种方法的复杂度是由Arrays.sort()方法决定的，该方法的实现采用三向快速排序或者归并排序，保证了复杂度在o(nlogn)，相比于通过两层for循环嵌套进行暴力筛选要好很多。</li>\n</ol>\n"},{"title":"使用JavaScript实现非法输入字符实时过滤","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/11/invalid-char-filter/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　表单提交是一项常见操作，对于输入内容的合法性必须在前后端都做验证才能保证可靠性。表单验证有很重要的意义，除了防止注入攻击之类的安全问题外，有时如果不能正确的进行验证，可能会使合法的页面渲染受到影响。比如在实际开发中遇到的一种问题，jsp页面使用JSTL库自定义标签<c>渲染后台传来的数据时，需要将这组数据作为参数传入相应点击事件的回调函数，如果参数中一旦也有双引号”，就会导致解析错误—onclick属性值未能正常闭合。如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/invalid-char-filter-1.png\" alt=\"\"></c></p>\n<hr>\n<h2 id=\"解决\"><a href=\"#解决\" class=\"headerlink\" title=\"解决\"></a>解决</h2><p>　　一般前端表单验证有以下几种方式：</p>\n<ul>\n<li>html5自带表单验证，如<code>maxLength</code>、<code>min</code>、<code>max</code>等</li>\n<li>jQuery第三方验证库：jquery.validate.js</li>\n<li>自定义正则表达式进行验证</li>\n</ul>\n<p>　　一般的交互提示形式有以下几种：</p>\n<ul>\n<li>随着输入结束表单元素（如输入框）失去焦点，旁边提示tip</li>\n<li>点击确定提交表单时，弹出模态框提示有误</li>\n<li>实时监测输入内容，对于非法输入直接过滤（即无法向输入框中输入这些非法字符）</li>\n</ul>\n<p><strong>本文采用： 自定义正则表达式 + 实时监测输入内容，对于非法输入直接过滤</strong></p>\n<p>html文件：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/jquery-1.12.4.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"test.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>非法字符过滤<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>请勿输入非法字符：~！!@#$^￥%…&amp;*()—+&#123;&#125;“”《》?？<span class=\"tag\">&lt;&gt;</span>'\"<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">\"ind_name\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"请输入指标名称\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>js文件：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Created by gaochang on 2016/10/11.</span><br><span class=\"line\"> */</span></span><br><span class=\"line\">$(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    $(<span class=\"string\">\"#ind_name\"</span>).on(<span class=\"string\">\"input propertychange\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> reg = <span class=\"regexp\">/\\~|\\！|\\!|\\@|\\#|\\$|\\^|\\￥|\\%|\\…|\\&amp;|\\*|\\(|\\)|\\—|\\+|\\&#123;|\\&#125;|\\“|\\”|\\《|\\》|\\?|\\？|\\&lt;|\\&gt;|\\'|\\\"/g</span>;</span><br><span class=\"line\">        $(<span class=\"string\">\"#ind_name\"</span>).val($(<span class=\"keyword\">this</span>).val().replace(reg, <span class=\"string\">\"\"</span>));</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>　　以上js代码中,使用了监听输入框值变化的标准方法oninput。oninput事件在IE9以下版本不支持，需要使用IE特有的onpropertychange事件替代。由于使用了jQuery，因此在输入框上直接绑定这两个事件即可。</p>\n"},{"title":"使用React实现简单的音乐播放器","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/10/react-music-player/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用React实现简单的画廊应用(慕课网学习总结)","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/09/react-picture-gallery/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用WebStorm构建基于webpack的React开发环境","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/08/webstorm-webpack-react-dev-env/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用数组和链表实现背包、队列、栈3种集合类数据结构","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/05/bag-queue-stack/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用WebStorm创建webpack工作流的前端项目","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/03/webpack-demos/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　webpack是一款极为灵活的前端模块打包构建工具。其诞生和流行主要是由于以下这几个发展趋势：</p>\n<ul>\n<li>为了完成更加复杂的交互逻辑，一个网页中使用的js代码数量越来越多；</li>\n<li>即便有了更多代码，却要求使用中有更少的整页面重新加载；</li>\n<li>现代浏览器提供了更多的API接口。</li>\n</ul>\n<p>　　基于这样的情况，大量代码就需要能够被良好地管理起来，像webpack这样的模块系统就为我们将代码切分为若干模块提供了很好的选择。本篇在webstorm编辑器中构建了一个最简单的使用webpack管理的前端项目，算是对webpack使用的入门探究。</p>\n<hr>\n<h2 id=\"JS模块化编程相关背景\"><a href=\"#JS模块化编程相关背景\" class=\"headerlink\" title=\"JS模块化编程相关背景\"></a>JS模块化编程相关背景</h2><p>　　在前端开发中有很多定义模块依赖的方法：</p>\n<ul>\n<li>在html页面中使用<code>&lt;script&gt;</code>标签手动引入（这并没有使用模块管理系统）<br>　　在这种方式下，各模块是将接口暴露给了全局对象，比如window。常见问题：</li>\n</ul>\n<ol>\n<li>全局对象中的命名变量冲突</li>\n<li>各js文件加载顺序十分重要，一旦A依赖B而A又在B之前引入，则会报错</li>\n<li>需要开发者自己来维护和解决依赖的问题</li>\n<li>在大型项目中可能需要引入数十个js文件，代码冗长，难于管理</li>\n</ol>\n<ul>\n<li>编写符合CommonJS规范的代码<br>　　这种规范使用同步的<code>require</code>方法加载依赖，并返回一个暴露出的接口，一个模块可以通过给<code>export</code>对象指定属性的方式来指定输出：<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">\"module\"</span>);</span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">\"../file.js\"</span>);</span><br><span class=\"line\">exports.doStuff = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = someValue;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>　　这种方式主要用在服务端，比如Node.js。</p>\n<ul>\n<li><p>编写符合AMD规范的代码<br>　　这种规范使用异步的<code>require</code>方法加载依赖，主要适用于客户端，因为在客户端如果同步加载的话会阻塞页面渲染等其他内容的进行，造成假死。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">\"module\"</span>, <span class=\"string\">\"../file\"</span>], <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">module, file</span>) </span>&#123; <span class=\"comment\">/* ... */</span> &#125;);</span><br><span class=\"line\">define(<span class=\"string\">\"mymodule\"</span>, [<span class=\"string\">\"dep1\"</span>, <span class=\"string\">\"dep2\"</span>], <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">d1, d2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> someExportedValue;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>使用ES6标准原生模块<br>　　ECMAScript 2015 (6th Edition)给javascript语言增加了新的内容-import关键字，从而构成了另一个模块系统</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">\"jquery\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">doStuff</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span> <span class=\"string\">\"localModule\"</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h2 id=\"什么是webpack？\"><a href=\"#什么是webpack？\" class=\"headerlink\" title=\"什么是webpack？\"></a>什么是webpack？</h2><p>一句话来概括：webpack能够将相互依赖的模块进行打包，并生成代表着这些模块的静态文件。<br>官网上给出的示意图如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack.png\" alt=\"\"></p>\n<p>　　市面上已经存在的模块管理和打包工具并不适合大型的项目，尤其单页面Web应用程序。最紧迫的原因是如何在一个大规模的代码库中，维护各种模块资源的分割和存放，维护它们之间的依赖关系，并且无缝的将它们整合到一起生成适合浏览器端请求加载的静态资源。这些已有的模块化工具并不能很好的完成如下的目标：</p>\n<ul>\n<li>将依赖树拆分成按需加载的块</li>\n<li>初始化加载的耗时尽量少</li>\n<li>各种静态资源都可以视作模块</li>\n<li>将第三方库整合成模块的能力</li>\n<li>可以自定义打包逻辑的能力</li>\n<li>适合大项目，无论是单页还是多页的Web应用</li>\n</ul>\n<p>webpack有以下明显特点：</p>\n<ol>\n<li>代码拆分<br>　　Webpack 有两种组织模块依赖的方式，同步和异步。异步依赖作为分割点，形成一个新的块。在优化了依赖树后，每一个异步区块都作为一个文件被打包。</li>\n<li>Loader<br>　　Webpack 本身只能处理原生的 JavaScript 模块，但是 loader 转换器可以将各种类型的资源转换成 JavaScript 模块。这样，任何资源都可以成为 Webpack 可以处理的模块。</li>\n<li>智能解析<br>　　Webpack 有一个智能解析器，几乎可以处理任何第三方库，无论它们的模块形式是 CommonJS、 AMD 还是普通的 JS 文件。甚至在加载依赖的时候，允许使用动态表达式 require(“./templates/“ + name + “.jade”)。</li>\n<li>插件系统<br>　　Webpack 还有一个功能丰富的插件系统。大多数内容功能都是基于这个插件系统运行的，还可以开发和使用开源的 Webpack 插件，来满足各式各样的需求。</li>\n<li>快速运行<br>　　Webpack 使用异步 I/O 和多级缓存提高运行效率，这使得 Webpack 能够以令人难以置信的速度快速增量编译。</li>\n</ol>\n<hr>\n<h2 id=\"webpack的安装\"><a href=\"#webpack的安装\" class=\"headerlink\" title=\"webpack的安装\"></a>webpack的安装</h2><p>1.安装Node.js<br>　　关于Node.js的安装有很多参考，在之前的文章<a href=\"http://localhost:4000/2016/03/16/2016-03-16-my-first-blog/#安装Node-js\" target=\"_blank\" rel=\"external\">【首篇】记录本博客www.gcidea.info的搭建过程</a>也有提及。</p>\n<p>2.安装webpack<br>2.1 打开webstorm，创建一个新文件夹webpack-usage作为根目录，后续所有操作都在该项目中完成：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-2.png\" alt=\"\"></p>\n<p>2.2 Node.js安装完成后，会同时安装npm这个Node.js的包管理工具。我们使用这个工具全局安装webpack。打开Terminal窗口输入如下命令：<br><code>$ npm install webpack -g</code><br>可以看到安装过程正在进行：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-3.png\" alt=\"\"></p>\n<p>完成后，显示信息如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-4.png\" alt=\"\"></p>\n<p>3.在项目中添加webpack<br>　　根据最佳实践，最好也在具体的项目中添加webpack。这样的话你可以任意指定在该项目中使用的webpack版本，而不至于局限于使用全局的唯一版本。<br>3.1 为此，通过命令在项目根目录下创建package.json文件，将项目通过npm管理起来：<br><code>npm init</code><br>这个过程中需要填写一些信息，最终会写入package.json：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-5.png\" alt=\"\"></p>\n<p>之后，项目根目录下多了一个文件，正是package.json：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-6.png\" alt=\"\"></p>\n<p>3.2 此时，再通过如下命令安装webpack，其中<code>--save-dev</code>表示会将webpack添加到package.json的devDependencies中：<br><code>npm install webpack --save-dev</code></p>\n<p>并且，该命令会自动检查安装webpack所需的全部依赖，执行该命令后，项目有3处变化：控制台打印出依赖结构树；根目录下生成node_modules文件夹用于存放所有依赖包；package.json中多出一个devDependencies属性。如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-7.png\" alt=\"\"></p>\n<p>4.安装webpack-dev-server<br>　　这是一个Node.js Express server，可以帮我们在本地建立一个服务器。此处仅安装，具体使用在下文描述。<br><code>npm install webpack-dev-server --save-dev</code></p>\n<p>可以预想，现在package.json文件的依赖项已经变为：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"devDependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"webpack\"</span>: <span class=\"string\">\"^1.13.2\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"webpack-dev-server\"</span>: <span class=\"string\">\"^1.16.2\"</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"webpack的使用\"><a href=\"#webpack的使用\" class=\"headerlink\" title=\"webpack的使用\"></a>webpack的使用</h2><h3 id=\"简单示例\"><a href=\"#简单示例\" class=\"headerlink\" title=\"简单示例\"></a>简单示例</h3><p>1.新建cats.js文件<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cats = [<span class=\"string\">'dave'</span>, <span class=\"string\">'henry'</span>, <span class=\"string\">'martha'</span>];</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = cats;</span><br></pre></td></tr></table></figure></p>\n<p>2.新建app.js文件<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cats = <span class=\"built_in\">require</span>(<span class=\"string\">'./cats.js'</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(cats);</span><br></pre></td></tr></table></figure></p>\n<p>3.使用webpack命令进行打包<br><code>webpack ./app.js app.bundle.js</code><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-8.png\" alt=\"\"></p>\n<p>结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-9.png\" alt=\"\"></p>\n<p>可以发现webpack已经帮我们将两个文件合并在一起并加入很多其他内容，这个过程在官方上详细描述如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-10.png\" alt=\"\"></p>\n<p>现在，假如我们要将项目部署上线，那么只需要打包后的静态文件即可，实验如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-11.png\" alt=\"\"></p>\n<p>可以看出，在node环境下执行打包文件，可以正常输出源文件的执行结果。</p>\n<hr>\n<h3 id=\"规范使用\"><a href=\"#规范使用\" class=\"headerlink\" title=\"规范使用\"></a>规范使用</h3><hr>\n<h4 id=\"项目结构\"><a href=\"#项目结构\" class=\"headerlink\" title=\"项目结构\"></a>项目结构</h4><p>　　现在我们已经具备基本的webpack环境且大致了解了webpack的打包使用。为了规范使用，删除app.bundle.js,app.js,cat.js,重新规定项目目录结构如下：</p>\n<ul>\n<li>src：存放源码</li>\n<li>build: 打包后静态文件目录</li>\n<li>node_modules: node模块依赖目录</li>\n<li>webpack.config.js：webpack配置目录–使用命令行携带参数的方式不便于扩展，统一用此文件管理</li>\n<li>index.html: 项目入口页面</li>\n</ul>\n<p>修改后的项目结构如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-12.png\" alt=\"\"></p>\n<hr>\n<h4 id=\"文件配置\"><a href=\"#文件配置\" class=\"headerlink\" title=\"文件配置\"></a>文件配置</h4><p><strong>配置webpack.config.js</strong><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: <span class=\"string\">'./src/app.js'</span>,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: <span class=\"string\">'./build'</span>,</span><br><span class=\"line\">        filename: <span class=\"string\">'app.bundle.js'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p> 　　以上简单的配置表示指定webpack打包入口为./src/app.js文件，打包结果为app.bundle.js，在./build目录下。</p>\n<p> 　　该文件还有很多配置项，详见：<a href=\"http://webpack.github.io/docs/configuration.html\" target=\"_blank\" rel=\"external\">http://webpack.github.io/docs/configuration.html</a></p>\n<p> 现在，只需要简单的命令<code>webpack</code>而不需要参数，就可以执行打包。</p>\n<hr>\n<h4 id=\"使用loaders\"><a href=\"#使用loaders\" class=\"headerlink\" title=\"使用loaders\"></a>使用loaders</h4><p> 　　webpack只能对原生javascript文件打包，但是通过各种强大的loaders，我们可以处理各种类型的文件。Loader 可以理解为是模块和资源的转换器，它本身是一个函数，接受源文件作为参数，返回转换的结果。这样，我们就可以通过 require 来加载任何类型的模块或文件，比如 CoffeeScript、 JSX、 LESS 或图片。<br> 　　loaders具备以下特性：</p>\n<ul>\n<li>Loader 可以通过管道方式链式调用，每个 loader 可以把资源转换成任意格式并传递给下一个<br>loader ，但是最后一个 loader 必须返回 JavaScript。</li>\n<li>Loader 可以同步或异步执行。</li>\n<li>Loader 运行在 node.js 环境中，所以可以做任何可能的事情。</li>\n<li>Loader 可以接受参数，以此来传递配置项给 loader。</li>\n<li>Loader 可以通过文件扩展名（或正则表达式）绑定给不同类型的文件。</li>\n<li>Loader 可以通过 npm 发布和安装。</li>\n</ul>\n<p>　　为了使浏览器能够解析，使用ES6语法编写的代码需要使用babel进行转码，为此我们安装babel-loader。<br>1.安装Babel 和 presets<br><code>npm install --save-dev babel-core babel-preset-es2015</code><br>2.安装babel-loader<br><code>npm install --save-dev babel-loader</code><br>3.在根目录创建Babel配置文件—.babelrc<br>内容为： <code>{ &quot;presets&quot;: [ &quot;es2015&quot; ] }</code><br>4.修改webpack.config.js如下：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: <span class=\"string\">'./src/app.js'</span>,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: <span class=\"string\">'./build'</span>,</span><br><span class=\"line\">        filename: <span class=\"string\">'app.bundle.js'</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">        loaders: [&#123;</span><br><span class=\"line\">            test: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">            exclude: <span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">            loader: <span class=\"string\">'babel-loader'</span></span><br><span class=\"line\">        &#125;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h4 id=\"安装其他可能需要的库\"><a href=\"#安装其他可能需要的库\" class=\"headerlink\" title=\"安装其他可能需要的库\"></a>安装其他可能需要的库</h4><p> <code>npm install --save jquery babel-polyfill</code></p>\n<blockquote>\n<p><code>--save</code>而非<code>--save-dev</code>表示库将会在运行环境使用<br><code>--save-dev</code>的内容将会放在package.json 的devDependencies<br>而<code>--save</code>会放在dependencies里面<br>产品模式用dependencies，开发模式用devDependencies<br>因此将会实际运行在用户端浏览器环境中的库就要采用<code>--save</code>安装<br>通过使用babel-polyfill可以让老版本浏览器能够使用ES6新提供的API</p>\n</blockquote>\n<hr>\n<h4 id=\"修改app-js文件（ES6语法-jquery库）\"><a href=\"#修改app-js文件（ES6语法-jquery库）\" class=\"headerlink\" title=\"修改app.js文件（ES6语法+jquery库）\"></a>修改app.js文件（ES6语法+jquery库）</h4> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'babel-polyfill'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> cats <span class=\"keyword\">from</span> <span class=\"string\">'./cats'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> $ <span class=\"keyword\">from</span> <span class=\"string\">'jquery'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">'&lt;h1&gt;Cats&lt;/h1&gt;'</span>).appendTo(<span class=\"string\">'body'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> ul = $(<span class=\"string\">'&lt;ul&gt;&lt;/ul&gt;'</span>).appendTo(<span class=\"string\">'body'</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> cat <span class=\"keyword\">of</span> cats) &#123;</span><br><span class=\"line\">    $(<span class=\"string\">'&lt;li&gt;&lt;/li&gt;'</span>).text(cat).appendTo(ul);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>将以上代码写入后，编辑器会报错：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-13.png\" alt=\"\"></p>\n<p>原因是编辑器未能识别ES6语法，在webstorm的settings中做如下配置即可：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-14.png\" alt=\"\"></p>\n</blockquote>\n<hr>\n<h4 id=\"编辑index-html文件\"><a href=\"#编辑index-html文件\" class=\"headerlink\" title=\"编辑index.html文件\"></a>编辑index.html文件</h4> <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"build/app.bundle.js\"</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"重新打包\"><a href=\"#重新打包\" class=\"headerlink\" title=\"重新打包\"></a>重新打包</h4><p> <code>webpack</code></p>\n<hr>\n<h4 id=\"访问index-html\"><a href=\"#访问index-html\" class=\"headerlink\" title=\"访问index.html\"></a>访问index.html</h4><p>可以看到正确结果<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-15.png\" alt=\"\"></p>\n<hr>\n<h4 id=\"使用plugins\"><a href=\"#使用plugins\" class=\"headerlink\" title=\"使用plugins\"></a>使用plugins</h4><p>　　在打包的工作流中可能还会有一些其他的操作，会使用到不同的插件plugins，比较典型的就是uglify plugin这个压缩工具。为此，在webpack.config.js中增加配置项plugins：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: <span class=\"string\">'./src/app.js'</span>,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: <span class=\"string\">'./build'</span>,</span><br><span class=\"line\">        filename: <span class=\"string\">'app.bundle.js'</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">        loaders: [&#123;</span><br><span class=\"line\">            test: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">            exclude: <span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">            loader: <span class=\"string\">'babel-loader'</span></span><br><span class=\"line\">        &#125;]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">        <span class=\"keyword\">new</span> webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class=\"line\">            compress: &#123;</span><br><span class=\"line\">                warnings: <span class=\"literal\">false</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            output: &#123;</span><br><span class=\"line\">                comments: <span class=\"literal\">false</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>在执行命令<code>webpack</code>重新打包之前，我们先看看app.bundle.js的文件大小,为523KB：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-16.png\" alt=\"\"></p>\n<p>现在执行命令<code>webpack</code>重新打包，再看app.bundle.js的文件大小,为171KB：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-17.png\" alt=\"\"></p>\n<p>可以看到，压缩工具去掉了无用的空字符等：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-18.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"webpack中的重要工具：webpack-dev-server\"><a href=\"#webpack中的重要工具：webpack-dev-server\" class=\"headerlink\" title=\"webpack中的重要工具：webpack-dev-server\"></a>webpack中的重要工具：webpack-dev-server</h2><p>　　webpack-dev-server本质上是一个小型的Node.js的Express服务器，使用webpack-dev-middleware作为中间件来支持webpack打包。</p>\n<h3 id=\"安装webpack-dev-server\"><a href=\"#安装webpack-dev-server\" class=\"headerlink\" title=\"安装webpack-dev-server\"></a>安装webpack-dev-server</h3><p><code>npm install webpack-dev-server</code><br>package.json变为如下形式：<br><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"webpack-usage\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"version\"</span>: <span class=\"string\">\"1.0.0\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"webpack-usage-demo\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"main\"</span>: <span class=\"string\">\"index.js\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"test\"</span>: <span class=\"string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"author\"</span>: <span class=\"string\">\"gaochang\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"license\"</span>: <span class=\"string\">\"ISC\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"devDependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"babel-core\"</span>: <span class=\"string\">\"^6.17.0\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"babel-loader\"</span>: <span class=\"string\">\"^6.2.5\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"babel-preset-es2015\"</span>: <span class=\"string\">\"^6.16.0\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"webpack\"</span>: <span class=\"string\">\"^1.13.2\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"webpack-dev-server\"</span>: <span class=\"string\">\"^1.16.2\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"dependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"babel-polyfill\"</span>: <span class=\"string\">\"^6.16.0\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"jquery\"</span>: <span class=\"string\">\"^3.1.1\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"启动webpack-dev-server\"><a href=\"#启动webpack-dev-server\" class=\"headerlink\" title=\"启动webpack-dev-server\"></a>启动webpack-dev-server</h3><p>　　安装完成后，在不指定任何参数的情况下，可以直接通过命令<code>webpack-dev-server</code>在本地8080端口运行一个服务器，访问<code>http://localhost:8080</code>可以看到效果：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-19.png\" alt=\"\"></p>\n<p>访问<code>http://localhost:8080/webpack-dev-server/</code> 可以显示webpack服务器状态条<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-20.png\" alt=\"\"></p>\n<h3 id=\"指定content-base\"><a href=\"#指定content-base\" class=\"headerlink\" title=\"指定content base\"></a>指定content base</h3><p>webpack-dev-server默认监控的是当前目录的文件，除非声明一个特殊的基本路径：<br><code>webpack-dev-server --content-base build/</code><br>这样的话，webpack就会只监控build文件夹下的静态文件。当你的文件在任何时候发生变化时，都会触发重新编译打包。验证如下：<br>1.使用上述命令启动server：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-21.png\" alt=\"\"></p>\n<p>控制台会显示打包过程日志，并最终提示打包完成已经可用：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-22.png\" alt=\"\"></p>\n<p>2.此时，访问<code>http://localhost:8080/webpack-dev-server/</code>可看到：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-23.png\" alt=\"\"></p>\n<p>即显示了build目录下的文件列表，此时只有app.bundle.js，点开内容如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-24.png\" alt=\"\"></p>\n<p>红色框中是我们app.js中的部分源码。</p>\n<p>3.现在修改上述部分源码，观察控制台日志和<code>http://localhost:8080/webpack-dev-server/</code>目录下文件变化。<br>修改<code>&lt;h1&gt;</code>内容后，发现控制台日志在之前“bundle is now VALID”的基础上，自动开始重新编译，进入“bundle is now INVALID”的状态：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-25.png\" alt=\"\"></p>\n<p>同时，看到页面状态条变为：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-26.png\" alt=\"\"></p>\n<p>等待重编译完成后，发现页面文件内容确实变为我们修改后的内容：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-27.png\" alt=\"\"></p>\n<p>但是，<strong>值得注意的是，这个修改的内容是保存在内存中的</strong>，并没有写入我们在webpack.config.js的output中指定的文件：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-28.png\" alt=\"\"></p>\n<p>发现文件还是修改之前的内容。也就是说，当相同URL下已经有一个打包的文件时，默认情况下内存中的文件享有优先权。<strong>而如果想要让build目录下的输出文件的内容也跟随发生变化，则要使用<code>webpack</code>命令重新打包</strong>。</p>\n<hr>\n<p>除了以上分析，还有一点要注意，通过给webpack.config.js的output指定publicPath，可以定制浏览器中的项目访问路径。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">output: &#123;</span><br><span class=\"line\">    path: <span class=\"string\">'./build'</span>,</span><br><span class=\"line\">    publicPath: <span class=\"string\">\"/assets/\"</span>,</span><br><span class=\"line\">    filename: <span class=\"string\">'app.bundle.js'</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>重新打包，可以在如下路径访问相应文件：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-29.png\" alt=\"\"></p>\n<p>由于之前content-base指定了监控build目录，我们<strong>在该目录下</strong>创建一个index.html文件，用来加载并使用我们打包好的js文件，而原先在项目根目录webpack-usage下创建的index.html文件就不起作用了：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>在build目录下创建的index.html文件<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"assets/app.bundle.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>访问<code>http://localhost:8080/</code>：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-30.png\" alt=\"\"></p>\n<p>访问<code>http://localhost:8080/webpack-dev-server</code>:<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-31.png\" alt=\"\"></p>\n<p>其中，第一个是打包文件app.bundle.js本身：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-32.png\" alt=\"\"><br>注意路径为<code>http://localhost:8080/assets/app.bundle.js</code>，符合publicPath的配置。</p>\n<p>第二个是根据打包文件生成的html文件，注意路径为<code>http://localhost:8080/assets/app.bundle</code>，符合publicPath的配置<br>点击“app.bundle”:<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-33.png\" alt=\"\"></p>\n<p>点击“webpack-dev-server”:<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-34.png\" alt=\"\"><br>（<font color=\"red\">该html文件仅针对app.bundle.js，和直接访问<code>http://localhost:8080/</code>对应的index.html并不相同，以上两图中没有“在build目录下创建的index.html文件”这句话就说明了这一点。</font>）</p>\n<blockquote>\n<p>关于js文件引入的路径，经测试发现以下几种情况，应该与webpack的文件查找算法有关，具体待进一步探究：</p>\n<p>1.<code>src=&quot;assets/app.bundle.js&quot;</code> 由于publicPath指定了”/assets/“，因此这种方式肯定能找到app.bundle.js文件；</p>\n<p>2.<code>src=&quot;app.bundle.js&quot;</code> 默认在build目录下找该文件，能找到</p>\n<p>3.<code>src=&quot;/app.bundle.js&quot;</code> 默认在build目录下找该文件，能找到</p>\n<p>4.<code>src=&quot;./app.bundle.js&quot;</code> 默认在build目录下找该文件，能找到</p>\n<p>5.<code>src=&quot;../app.bundle.js&quot;</code> 默认在build目录下找该文件，能找到</p>\n</blockquote>\n<hr>\n<h3 id=\"自动刷新\"><a href=\"#自动刷新\" class=\"headerlink\" title=\"自动刷新\"></a>自动刷新</h3><p>　　webpack-dev-server支持两种自动刷新页面的方式。并且两种方式都支持模块热替换。</p>\n<h4 id=\"iframe模式\"><a href=\"#iframe模式\" class=\"headerlink\" title=\"iframe模式\"></a>iframe模式</h4><p>　　在这种方式下，页面实际上是被嵌入了一个iframe，使用这种方式不需要额外配置，只要js文件以改变，就会自动”recompiling”。直接访问<code>http://«host»:«port»/webpack-dev-server/«path»</code>，在我们的配置中就是访问<code>http://localhost:8080/webpack-dev-server/index.html</code>。该方式的特点是：</p>\n<ul>\n<li>无需改变配置</li>\n<li>编译信息通过页面顶部信息条体现</li>\n<li>浏览器地址栏不会体现出地址的变化</li>\n</ul>\n<h4 id=\"inline模式\"><a href=\"#inline模式\" class=\"headerlink\" title=\"inline模式\"></a>inline模式</h4><p>　　在这种方式下，我们需要额外的配置，使用以下两种方式之一：</p>\n<ul>\n<li>在启动命令上加参数”–inline”:<br><code>webpack-dev-server --content-base build/ --inline</code></li>\n<li>在webpack.config.js加上<code>devServer: { inline: true }</code></li>\n</ul>\n<p>　　使用这种方式不需要给URL加上/webpack-dev-server/，直接访问<code>http://«host»:«port»/«path»</code>，在我们的配置中就是访问<code>http://localhost:8080/index.html</code></p>\n<p>该方式的特点是：</p>\n<ul>\n<li>需要改变配置</li>\n<li>编译信息通过浏览器的console体现：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-35.png\" alt=\"\"></li>\n<li>浏览器地址栏会体现出地址的变化</li>\n</ul>\n<hr>\n<h2 id=\"模块热替换-Hot-Module-Replacement-的应用\"><a href=\"#模块热替换-Hot-Module-Replacement-的应用\" class=\"headerlink\" title=\"模块热替换 Hot Module Replacement 的应用\"></a>模块热替换 Hot Module Replacement 的应用</h2><p>　　在webpack-dev-server中使用模块热替换 Hot Module Replacement最简单的办法就是在inline模式中使用。我们只需要在参数中加上”–hot”即可。<br><code>webpack-dev-server --content-base build/ --inline --hot</code></p>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-36.png\" alt=\"\"></p>\n<p>这样，就进入了监听状态，当文件发生修改，看到console打出如下日志：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webpack-37.png\" alt=\"\"></p>\n<p>发现提示错误，热替换失败，整个页面进行了重载：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[HMR] Cannot apply update. Need to do a full reload!</span><br><span class=\"line\">[HMR] Error: Aborted because 77 is not accepted</span><br><span class=\"line\">    at l (http://localhost:8080/assets/app.bundle.js:1:4169)</span><br><span class=\"line\">    at f (http://localhost:8080/assets/app.bundle.js:1:3117)</span><br><span class=\"line\">    at u (http://localhost:8080/assets/app.bundle.js:1:3017)</span><br><span class=\"line\">    at webpackHotUpdate (http://localhost:8080/assets/app.bundle.js:1:5790)</span><br><span class=\"line\">    at http://localhost:8080/assets/0.ae586ae503d4fe64ca9a.hot-update.js:1:1</span><br></pre></td></tr></table></figure></p>\n<p>查阅了很多资料，如<a href=\"https://github.com/webpack/webpack-dev-server/issues/395\" target=\"_blank\" rel=\"external\">https://github.com/webpack/webpack-dev-server/issues/395</a>，但并没有找到准确原因，暂时搁置。</p>\n"},{"title":"JavaScript的闭包案例3---关于闭包的深入理解","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/02/js-closure-3/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　本篇在之前两篇关于闭包的文章<a href=\"http://gcidea.info/2016/04/19/JavaScript-closure/\" target=\"_blank\" rel=\"external\">JavaScript的闭包案例—1</a>、<a href=\"http://gcidea.info/2016/04/26/js-closure-2/\" target=\"_blank\" rel=\"external\">JavaScript的闭包案例—2</a>的基础上，更加深入的理解闭包的本质问题—作用域链；并简要对比在ES6中关于该问题的规避方法。</p>\n<hr>\n<h2 id=\"描述\"><a href=\"#描述\" class=\"headerlink\" title=\"描述\"></a>描述</h2>"},{"title":"JavaScript中创建对象的7种模式和实现继承的6种方式","url":"http://www.gcidea.info/welcome-to-this-page/2016/10/01/js-7-create-object-solutions-6-inherit-solutions/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　JavaScript是一种面向对象（OO）的语言，但由于ECMAScript没有类的概念（ES6引入关键字class），所以在js中创建对象的方法也与其他基于类的语言有所不同。本篇总结在JavaScript中创建对象的7种方法；并在此基础上，总结实现继承的6种方式。</p>\n<hr>\n<h2 id=\"JavaScript中对象的基本概念\"><a href=\"#JavaScript中对象的基本概念\" class=\"headerlink\" title=\"JavaScript中对象的基本概念\"></a>JavaScript中对象的基本概念</h2><h3 id=\"创建对象的2种基本方法\"><a href=\"#创建对象的2种基本方法\" class=\"headerlink\" title=\"创建对象的2种基本方法\"></a>创建对象的2种基本方法</h3><hr>\n<h4 id=\"创建一个Object实例\"><a href=\"#创建一个Object实例\" class=\"headerlink\" title=\"创建一个Object实例\"></a>创建一个Object实例</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> person = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</span><br><span class=\"line\">person.name = <span class=\"string\">\"Bob\"</span>;</span><br><span class=\"line\">person.age = <span class=\"number\">24</span>;</span><br><span class=\"line\">person.greet = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\talert(<span class=\"keyword\">this</span>.name);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span><br><span class=\"line\">　　通过上述方法，创建了一个对象，并为其添加了3个属性，属性值有字符串，数字，函数。</span><br><span class=\"line\">#### 对象字面量</span><br><span class=\"line\">`</span><span class=\"string\">``</span> javascript</span><br><span class=\"line\"><span class=\"keyword\">var</span> person = &#123;</span><br><span class=\"line\">\tname: <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">\tage: <span class=\"number\">24</span>,</span><br><span class=\"line\">\tgreet: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\talert(<span class=\"keyword\">this</span>.name);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>　　 创建的对象与上述相同，只不过使用<code>{}</code>的字面量方式创建。</p>\n<h3 id=\"属性与特性\"><a href=\"#属性与特性\" class=\"headerlink\" title=\"属性与特性\"></a>属性与特性</h3><p>　　关于属性和特性的细节，可以参考<a href=\"http://gcidea.info/2016/07/10/js-attribute-property/\" target=\"_blank\" rel=\"external\">JavaScript中attribute(特性)和property(属性)的对比分析</a>。对象就是由众多的属性(property)构成的，而每个属性(property)又具有多个特性(attribute)。这些特性(attribute)是为了实现JavaScript引擎使用的，在JavaScript语言使用中不能直接访问它们。为了表示是内部值，将各个特性(attribute)放在两对方括号<code>[[]]</code>中表示。</p>\n<h4 id=\"数据属性的特性\"><a href=\"#数据属性的特性\" class=\"headerlink\" title=\"数据属性的特性\"></a>数据属性的特性</h4><p>1.<code>[[Configurable]]</code></p>\n<ul>\n<li>名称：可配置性。</li>\n<li>默认值：true</li>\n<li>含义：能否通过delete删除属性并重新定义；能否修改属性的这几个特性；能否把数据属性修改为访问器属性。</li>\n</ul>\n<p>2.<code>[[Enumerable]]</code></p>\n<ul>\n<li>名称：可枚举性。</li>\n<li>默认值：true</li>\n<li>含义：能否通过通过for-in循环返回当前属性。</li>\n</ul>\n<p>3.<code>[[Writable]]</code></p>\n<ul>\n<li>名称：可写性。</li>\n<li>默认值：true</li>\n<li>含义：能否修改当前属性的值。</li>\n</ul>\n<p>4.<code>[[Value]]</code></p>\n<ul>\n<li>名称：值。</li>\n<li>默认值：undefined</li>\n<li>含义：读属性值，从这个位置读；写入属性时，保存在这个位置。</li>\n</ul>\n<h4 id=\"访问器属性的特性\"><a href=\"#访问器属性的特性\" class=\"headerlink\" title=\"访问器属性的特性\"></a>访问器属性的特性</h4><p>1.<code>[[Configurable]]</code></p>\n<ul>\n<li>名称：可配置性。</li>\n<li>默认值：true</li>\n<li>含义：能否通过delete删除属性并重新定义；能否修改属性的这几个特性；能否把访问器属性修改为数据属性。</li>\n</ul>\n<p>2.<code>[[Enumerable]]</code></p>\n<ul>\n<li>名称：可枚举性。</li>\n<li>默认值：true</li>\n<li>含义：能否通过通过for-in循环返回当前属性。</li>\n</ul>\n<p>3.<code>[[Get]]</code></p>\n<ul>\n<li>名称：值。</li>\n<li>默认值：undefined</li>\n<li>含义：读属性值时调用该函数。</li>\n</ul>\n<p>4.<code>[[Set]]</code></p>\n<ul>\n<li>名称：值。</li>\n<li>默认值：undefined</li>\n<li>含义：写属性值时调用该函数。</li>\n</ul>\n<h3 id=\"ES5新增的关于Object的几个实用方法\"><a href=\"#ES5新增的关于Object的几个实用方法\" class=\"headerlink\" title=\"ES5新增的关于Object的几个实用方法\"></a>ES5新增的关于Object的几个实用方法</h3><p>1.<code>Object.defineProperty()</code><br>使用示例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> person = &#123;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(person, <span class=\"string\">\"name\"</span>,&#123;</span><br><span class=\"line\">\tconfigurable: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\tvalue: <span class=\"string\">\"Bob\"</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>2.<code>Object.defineProperties()</code><br>使用示例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> book = &#123;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperties(book, &#123;</span><br><span class=\"line\">\t_year: &#123;</span><br><span class=\"line\">\t\twritable: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\tvalue: <span class=\"number\">2016</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tedition: &#123;</span><br><span class=\"line\">\t\twritable: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\tvalue: <span class=\"number\">1</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>3.<code>Object.getOwnPropertyDescriptor()</code><br>使用示例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> book = &#123;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperties(book, &#123;</span><br><span class=\"line\">\t_year: &#123;</span><br><span class=\"line\">\t\twritable: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\tvalue: <span class=\"number\">2016</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tedition: &#123;</span><br><span class=\"line\">\t\twritable: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\tvalue: <span class=\"number\">1</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> desc = <span class=\"built_in\">Object</span>.getOwnPropertyDescriptor(book, <span class=\"string\">\"_year\"</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(desc.value);  <span class=\"comment\">//2016</span></span><br></pre></td></tr></table></figure></p>\n<p>4.<code>Object.getOwnPropertyNames()</code><br>5.<code>Object.isPrototypeOf()</code><br>6.<code>Object.create()</code><br>7.<code>Object.keys()</code><br>8.<code>XXX.getPrototypeOf()</code><br>9.<code>XXX.hasOwnProperty()</code></p>\n<hr>\n<h2 id=\"创建对象的7种模式\"><a href=\"#创建对象的7种模式\" class=\"headerlink\" title=\"创建对象的7种模式\"></a>创建对象的7种模式</h2><h3 id=\"工厂模式\"><a href=\"#工厂模式\" class=\"headerlink\" title=\"工厂模式\"></a>工厂模式</h3><p>示例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createPerson</span>(<span class=\"params\">name, age, job</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> o = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</span><br><span class=\"line\">\to.name = name;</span><br><span class=\"line\">\to.age = age;</span><br><span class=\"line\">\to.job = job;</span><br><span class=\"line\">\to.sayName = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\talert(<span class=\"keyword\">this</span>.name);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> o;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> person1 = createPerson(<span class=\"string\">\"A\"</span>, <span class=\"number\">25</span>, <span class=\"string\">\"teacher\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> person2 = createPerson(<span class=\"string\">\"B\"</span>, <span class=\"number\">26</span>, <span class=\"string\">\"engineer\"</span>);</span><br></pre></td></tr></table></figure></p>\n<p>说明：<br>1.函数createPerson()就是一个工厂，该工厂内部封装了生成对象的细节（新建对象实例并初始化等）</p>\n<p>2.正如名字表示的，通过该函数可以批量创建多个同类型对象，而不必书写大量重复代码</p>\n<p>3.工厂模式缺点：未解决对象识别问题—无法知道对象的类型</p>\n<h3 id=\"构造函数模式\"><a href=\"#构造函数模式\" class=\"headerlink\" title=\"构造函数模式\"></a>构造函数模式</h3><p>示例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\">name, age, job</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.job = job;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.sayName = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\talert(<span class=\"keyword\">this</span>.name);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> Person(<span class=\"string\">\"A\"</span>, <span class=\"number\">25</span>, <span class=\"string\">\"teacher\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> person2 = <span class=\"keyword\">new</span> Person(<span class=\"string\">\"B\"</span>, <span class=\"number\">26</span>, <span class=\"string\">\"engineer\"</span>);</span><br></pre></td></tr></table></figure></p>\n<p>说明：<br>1.函数Person()未显示创建对象，且无返回值</p>\n<p>2.使用<code>new</code>关键字调用构造函数</p>\n<p>3.约定构造函数首字母大写</p>\n<p>4.关于对象类型：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert(person1.constructor == Person); <span class=\"comment\">//true</span></span><br><span class=\"line\">alert(person2.constructor == Person); <span class=\"comment\">//true</span></span><br><span class=\"line\"></span><br><span class=\"line\">alert(person1 <span class=\"keyword\">instanceof</span> Person); <span class=\"comment\">//true</span></span><br><span class=\"line\">alert(person2 <span class=\"keyword\">instanceof</span> Person); <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure></p>\n<p>5.如果构造函数不像<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> Person(<span class=\"string\">\"A\"</span>, <span class=\"number\">25</span>, <span class=\"string\">\"teacher\"</span>);</span><br></pre></td></tr></table></figure></p>\n<p>这样通过new关键字来调用，而是直接<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person(<span class=\"string\">\"A\"</span>, <span class=\"number\">25</span>, <span class=\"string\">\"teacher\"</span>);</span><br></pre></td></tr></table></figure></p>\n<p>也是可以使用的，只不过生成的对象会直接添加到宿主对象上，在浏览器中就是<code>window</code>对象上。</p>\n<p>6.构造函数模式缺点：<br><strong>由于将函数绑定到了特定的对象实例上面，每个方法都要在每个实例上重新创建一遍，浪费空间且并没有什么用处。</strong><br>以下可以证明这一点：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert(person1.sayName == person2.sayName); <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure></p>\n<p>为此，我们可以让构造函数创建的对象中的方法共享函数，也就是在方法属性处不显式声明函数，而只是写明一个函数引用，将这个函数移至构造函数外部。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\">name, age, job</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.job = job;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.sayName = sayName;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sayName</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\talert(<span class=\"keyword\">this</span>.name);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> Person(<span class=\"string\">\"A\"</span>, <span class=\"number\">25</span>, <span class=\"string\">\"teacher\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> person2 = <span class=\"keyword\">new</span> Person(<span class=\"string\">\"B\"</span>, <span class=\"number\">26</span>, <span class=\"string\">\"engineer\"</span>);</span><br></pre></td></tr></table></figure></p>\n<p>可是这种方法又会有新的缺点：</p>\n<ul>\n<li>身在全局作用于中的函数sayName()却只能用于让构造函数调用，让全局作用域名不副实</li>\n<li>如果构造函数有很多方法属性，那么就要在全局作用于中写很多函数，代码结构松散，毫无封装性可言</li>\n</ul>\n<p>在这种情况下，考虑使用原型模式来解决。</p>\n<h3 id=\"原型模式\"><a href=\"#原型模式\" class=\"headerlink\" title=\"原型模式\"></a>原型模式</h3><h3 id=\"组合使用构造函数模式和原型模式\"><a href=\"#组合使用构造函数模式和原型模式\" class=\"headerlink\" title=\"组合使用构造函数模式和原型模式\"></a>组合使用构造函数模式和原型模式</h3><h3 id=\"动态原型模式\"><a href=\"#动态原型模式\" class=\"headerlink\" title=\"动态原型模式\"></a>动态原型模式</h3><h3 id=\"寄生构造函数模式\"><a href=\"#寄生构造函数模式\" class=\"headerlink\" title=\"寄生构造函数模式\"></a>寄生构造函数模式</h3><h3 id=\"稳妥构造函数模式\"><a href=\"#稳妥构造函数模式\" class=\"headerlink\" title=\"稳妥构造函数模式\"></a>稳妥构造函数模式</h3><hr>\n<h2 id=\"实现继承的6种方式\"><a href=\"#实现继承的6种方式\" class=\"headerlink\" title=\"实现继承的6种方式\"></a>实现继承的6种方式</h2><h3 id=\"原型链\"><a href=\"#原型链\" class=\"headerlink\" title=\"原型链\"></a>原型链</h3><h3 id=\"借用构造函数\"><a href=\"#借用构造函数\" class=\"headerlink\" title=\"借用构造函数\"></a>借用构造函数</h3><h3 id=\"组合继承\"><a href=\"#组合继承\" class=\"headerlink\" title=\"组合继承\"></a>组合继承</h3><h3 id=\"原型式继承\"><a href=\"#原型式继承\" class=\"headerlink\" title=\"原型式继承\"></a>原型式继承</h3><h3 id=\"寄生式继承\"><a href=\"#寄生式继承\" class=\"headerlink\" title=\"寄生式继承\"></a>寄生式继承</h3><h3 id=\"寄生组合式继承\"><a href=\"#寄生组合式继承\" class=\"headerlink\" title=\"寄生组合式继承\"></a>寄生组合式继承</h3>"},{"title":"【探究】当页面关闭时，不同浏览器对尚未完成的异步请求如何处理？","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/29/ajax-status-when-browser-window-close/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用Javascript实现随机漂浮的3D标签云效果","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/24/js-3d-random-tags/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"鼠标滚轮事件的浏览器兼容性处理","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/21/mouse-wheel-event-compatibility/","content":""},{"title":"document.ready与window.onload的区别","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/20/document-ready-window-onload/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"CSS预处理---Less使用案例","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/18/less-example/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"CSS3媒体查询@media功能使用总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/17/css-at-media/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"CSS中a:link、a:visited、a:hover、a:active的使用总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/17/css-a-link-visitd-hover-active/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"浏览器兼容性hack写法总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/15/browser-hack/","content":""},{"title":"常见浏览器内核总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/14/browser-kernel/","content":""},{"title":"使用原生js实现元素拖拽功能","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/12/js-draggable/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"jQuery中$.click()与$.on('click',function(){})的区别","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/11/jQuery-click-onclick/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用WebStorm构建Javascript调试运行环境","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/10/webstorm-js-dev-env/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用IntelliJ IDEA构建并运行Java Web的maven项目","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/09/idea-java-web-maven-project/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　相比于eclipse，IntelliJ IDEA的功能更加丰富，稳定。本文对使用IntelliJ IDEA构建运行一个基于maven管理的Java Web项目的过程进行记录。</p>\n<h2 id=\"项目代码导出\"><a href=\"#项目代码导出\" class=\"headerlink\" title=\"项目代码导出\"></a>项目代码导出</h2><ol>\n<li><p>菜单栏选择VCS -&gt; Checkout from Version Control -&gt; Subversion<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-1.png\" alt=\"\"></p>\n</li>\n<li><p>新建关联的SVN仓库，一般是填写内网部署的代码管理服务器地址<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-2.png\" alt=\"\"></p>\n</li>\n<li><p>根据实际情况，填写访问授权信息<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-3.png\" alt=\"\"></p>\n</li>\n<li><p>浏览文件结构，选择要导出的项目源码目录<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-4.png\" alt=\"\"></p>\n</li>\n<li><p>可以看到IDEA在执行checkout任务<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-5.png\" alt=\"\"></p>\n</li>\n</ol>\n<hr>\n<h2 id=\"框架配置文件检测\"><a href=\"#框架配置文件检测\" class=\"headerlink\" title=\"框架配置文件检测\"></a>框架配置文件检测</h2><ol>\n<li>导出完成后，IDEA会自动对整个项目目录进行indexing，这个过程中会检查到一些配置文件，选择确定即可<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-6.png\" alt=\"\"></li>\n</ol>\n<hr>\n<h2 id=\"将项目添加为maven-project\"><a href=\"#将项目添加为maven-project\" class=\"headerlink\" title=\"将项目添加为maven project\"></a>将项目添加为maven project</h2><ol>\n<li><p>在项目根pom.xml文件上右键选择 Add as Maven Project，将项目添加为maven项目<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-7.png\" alt=\"\"></p>\n</li>\n<li><p>可以看到 Add as Maven Project 后，IDEA开始根据pom文件配置下载依赖的plugins<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-8.png\" alt=\"\"></p>\n</li>\n</ol>\n<hr>\n<h2 id=\"项目结构project-structure配置\"><a href=\"#项目结构project-structure配置\" class=\"headerlink\" title=\"项目结构project structure配置\"></a>项目结构project structure配置</h2><ol>\n<li><p>添加为maven项目后，就可以开始配置项目结构相关的一些内容。首先在 Project 一项中，选择项目SDK，这里是jdk 1.8.0_9<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-9.png\" alt=\"\"></p>\n</li>\n<li><p>同时下方Project language level要选择对应的SDK Default(8- Lambdas)<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-10.png\" alt=\"\"></p>\n</li>\n<li><p>最基本的配置完成后，先尝试一下构建项目：Build Project，发现报错如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-11.png\" alt=\"\"></p>\n</li>\n</ol>\n<blockquote>\n<p>原因是本项目中并不是所有的依赖都是根据pom.xml文件进行配置的，有一部分依赖包就放在了项目本身中，具体是src-&gt;main-&gt;webapp-&gt;WEB-INF-&gt;lib。</p>\n</blockquote>\n<ol>\n<li><p>因此，继续配置project structure的Libraries这一项，新建project library<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-12.png\" alt=\"\"></p>\n</li>\n<li><p>将项目本身中存在的jar包目录添加进来<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-13.png\" alt=\"\"></p>\n</li>\n</ol>\n<p>现在，再次Build Project，就没有报错了。</p>\n<hr>\n<h2 id=\"本地tomcat服务器配置\"><a href=\"#本地tomcat服务器配置\" class=\"headerlink\" title=\"本地tomcat服务器配置\"></a>本地tomcat服务器配置</h2><p>1.点击右上角Edit Configurations<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-14.png\" alt=\"\"></p>\n<p>2.新增tomcat server -&gt; Local<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-15.png\" alt=\"\"></p>\n<p>3.在本页面具体配置如下红框中的项<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-16.png\" alt=\"\"></p>\n<blockquote>\n<p>具体分别是：<br>Name：本服务器的名称，仅用作标识<br>Application server：tomcat可执行目录文件<br>JRE：对应1.8JDK默认即可<br>HTTP port：服务运行所在端口<br>JMX port：通过jdk的jconsole来监测tomcat运行情况</p>\n</blockquote>\n<p>4.在Deployment选项卡下添加项目的artifact<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-17.png\" alt=\"\"></p>\n<p>5.选择war exploded包，这样才能在开发中使用热更新功能<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-18.png\" alt=\"\"></p>\n<p>6.至于Application context，则是项目运行后紧跟在端口号后的根路由<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-19.png\" alt=\"\"></p>\n<p>7.在如上选择war exploded包后，回到Server选项卡中配置如下两项，这就是热更新功能，在前端开发中十分方便，可以避免仅前端功能修改就要重新make整个项目并重启<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-20.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"项目启动\"><a href=\"#项目启动\" class=\"headerlink\" title=\"项目启动\"></a>项目启动</h2><ol>\n<li>配置完成后，启动运行项目，可以在浏览器中看到项目运行正常<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/idea-maven-project-21.png\" alt=\"\"></li>\n</ol>\n"},{"title":"使用Javascript封装常用的时间格式化函数","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/05/js-date-format/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"zTree插件常用功能总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/04/zTree-plugin/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用Javascript封装获取页面事件对象的getEvent函数","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/03/js-getevent/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"CSS3的pointer-events属性及应用","url":"http://www.gcidea.info/welcome-to-this-page/2016/09/01/css3-pointer-events/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用jqGrid的localReader实现读取并渲染本地数据文件","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/29/jqgrid-localreader/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"JavaScript的window.location相关方法总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/28/js-window-location/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"浏览器文档模式总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/26/browser-doctype/","content":""},{"title":"浏览器滚动条宽度检测","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/25/browser-scrollbar-width/","content":""},{"title":"jQuery中$.when()方法和deferred对象相关总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/23/jQuery-when-deferred/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"在页面引入js文件和css文件的相对路径的区别","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/23/js-css-relative-path/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用JavaScript实现三级联动和实时搜索","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/21/js-three-level-linkage-and-dynamic-search/","content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2>"},{"title":"使用JavaScript实现页面元素磁力吸附效果","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/20/js-magnetic/","content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2>"},{"title":"AngularJs的指令定义对象Directive Definition Object","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/18/angular-directive-definition-object/","content":""},{"title":"AngularJs中组件---component的相关总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/17/angular-component/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　组件component是AngularJs中一个非常重要的概念，一个项目的前端代码结构可以完全以组件component为单位进行实现，也就是说项目的不同页面（比如列表页、详情页、编辑页）或者通用功能（比如表格渲染组件、分页组件）都可以设计为一个独立的component，再通过路由配置关联起来，实现功能需求。本篇以AngularJs官方文档为根据，对组件相关内容进行总结。</p>\n<hr>\n<h2 id=\"综述\"><a href=\"#综述\" class=\"headerlink\" title=\"综述\"></a>综述</h2><p>　　在Angular中，component是一种特殊的指令（directive），相比于directive，它的配置要更简单，这很适合于基于组件的应用程序结构，也使得使用类似于Web Components或者Angular 2风格的应用程序结构来编写代码要更容易。</p>\n<p><strong>组件component的优点</strong></p>\n<ul>\n<li>比原生指令（directive）配置更加简单</li>\n<li>提供了更加健全的默认设置和最佳实践</li>\n<li>可以优化基于component的应用结构</li>\n<li>编写component这种directive使得升级到Angular 2更加容易</li>\n</ul>\n<p><strong>什么时候不要用component</strong></p>\n<ul>\n<li>对那些依赖于DOM元素操作和绑定监听事件的指令不要使用，因为在component中是不能直接编译链接函数的。</li>\n<li>当需要定义配置一些更高级的directive选项时不要使用，选项比如：priority, terminal, multi-element。</li>\n<li>当你想通过一个属性或者CSS类来触发一个指令，而不是通过一个元素来触发时，不要使用。</li>\n</ul>\n<hr>\n<h2 id=\"创建并配置component组件\"><a href=\"#创建并配置component组件\" class=\"headerlink\" title=\"创建并配置component组件\"></a>创建并配置component组件</h2><p>　　要想注册一个component组件，可以使用Angular模型module上的<code>.component()</code>方法。（模型module是通过调用<code>angular.module()</code>来返回的。）该方法接收两个参数：</p>\n<ul>\n<li>组件名称（字符串）</li>\n<li>组件配置对象（注意，不同于<code>.directive()</code>方法，该方法不需要使用工厂函数）</li>\n</ul>\n<p><strong>示例</strong></p>\n<ol>\n<li><p>创建heroDetail.js文件,定义一个组件component</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HeroDetailController</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//do something</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">angular.module(<span class=\"string\">'heroApp'</span>).component(<span class=\"string\">'heroDetail'</span>, &#123;</span><br><span class=\"line\">  templateUrl: <span class=\"string\">'heroDetail.html'</span>,</span><br><span class=\"line\">  controller: HeroDetailController,</span><br><span class=\"line\">  bindings: &#123;</span><br><span class=\"line\">    hero: <span class=\"string\">'='</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建heroDetail.html文件,定义组件的DOM结构</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>Name: &#123;&#123;$ctrl.hero.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建index.js文件，增加控制器，为model变量初始化</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">angular.module(<span class=\"string\">'heroApp'</span>, []).controller(<span class=\"string\">'MainCtrl'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MainCtrl</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.hero = &#123;</span><br><span class=\"line\">    name: <span class=\"string\">'Spawn'</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建index.html文件，定义文档结构，引入定义好的组件heroDetail(驼峰写法要转换成短横线”-“相连)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-controller</span>=<span class=\"string\">\"MainCtrl as ctrl\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>Hero<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">hero-detail</span> <span class=\"attr\">hero</span>=<span class=\"string\">\"ctrl.hero\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">hero-detail</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>结果如下图：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/angular-component.png\" alt=\"\"></p>\n<p>另外，也可以使用<code>$compileProvider</code>在module的配置阶段引入组件。</p>\n<p><strong>附：directive与component的比较</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>directive</th>\n<th>component</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>bindings</td>\n<td>No</td>\n<td>Yes(绑定到controller)</td>\n</tr>\n<tr>\n<td>bindToController</td>\n<td>Yes(默认：false)</td>\n<td>No(使用bindings来替代)</td>\n</tr>\n<tr>\n<td>compile function</td>\n<td>Yes</td>\n<td>No</td>\n</tr>\n<tr>\n<td>controller</td>\n<td>Yes</td>\n<td>Yes(默认：function(){})</td>\n</tr>\n<tr>\n<td>controllerAs</td>\n<td>Yes(默认：false)</td>\n<td>Yes(默认：$ctrl)</td>\n</tr>\n<tr>\n<td>link functions</td>\n<td>Yes</td>\n<td>No</td>\n</tr>\n<tr>\n<td>multiElement</td>\n<td>Yes</td>\n<td>No</td>\n</tr>\n<tr>\n<td>priority</td>\n<td>Yes</td>\n<td>No</td>\n</tr>\n<tr>\n<td>require</td>\n<td>Yes</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>restrict</td>\n<td>Yes</td>\n<td>No(仅限于元素elements)</td>\n</tr>\n<tr>\n<td>scope</td>\n<td>Yes(默认：false)</td>\n<td>No(scope总是独立的)</td>\n</tr>\n<tr>\n<td>template</td>\n<td>Yes</td>\n<td>Yes(可注入)</td>\n</tr>\n<tr>\n<td>templateNamespace</td>\n<td>Yes</td>\n<td>No</td>\n</tr>\n<tr>\n<td>templateUrl</td>\n<td>Yes</td>\n<td>Yes(可注入)</td>\n</tr>\n<tr>\n<td>terminal</td>\n<td>Yes</td>\n<td>No</td>\n</tr>\n<tr>\n<td>transclude</td>\n<td>Yes(默认：false)</td>\n<td>Yes(默认：false)</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2 id=\"基于component组件的应用程序结构\"><a href=\"#基于component组件的应用程序结构\" class=\"headerlink\" title=\"基于component组件的应用程序结构\"></a>基于component组件的应用程序结构</h2><p>　　如上所述，component使得按组件结构来组织应用程序变得更加容易。基于component组件的应用程序结构主要有以下几个特性：</p>\n<ul>\n<li><strong>component只控制它自己的视图和数据</strong><br>　　组件从不应修改超出它们作用域scope的任何数据或者DOM元素。一般来讲，在Angular中，通过作用域继承（inheritance）和监视（watches），我们能够修改程序中的任何数据。这是有实用性的，但是也可能导致一些问题-尤其当不明确到底程序中的哪一部分对数据修改负责时。这也就是为什么component这种directive采用了独立隔离作用域，这样对所有scope的操作就不可能发生了。</li>\n<li><strong>component具有定义完备的公用API-Inputs 和 Outputs</strong><br>　　然而，独立作用域也有捉襟见肘的时候，因为Angular采用了“双向绑定”。假设你给组件传入了这样一个对象：<code>bindings: {item: &#39;=&#39;}</code>，然后修改其中一个属性，你会发现这个变化也会反映在父级组件中。但是对于组件来说，为了更容易的判定什么数据发生变化，何时变化，只应该由拥有该数据的组件来对其进行修改。因此，component需要遵循一些简单的约定：</li>\n</ul>\n<ol>\n<li><p>输入Inputs应该使用<code>&lt;</code>和<code>@</code>绑定。<br>　　　　<code>&lt;</code>符号表明“单向绑定”，是从1.5版本开始可用的。它和<code>=</code>的区别在于：组件作用域中的相关属性没有被监视（watched），这意味着如果你给属性赋了一个新值，父级作用域并不会因此而更新。但是要注意，父级和本级组件都是指向同一个对象，因此如果你在当前组件中修改了对象属性或者数组元素，父级组件还是能感受到这个变化。综上，一般性的规律是在组件作用域中永远不要修改对象或者数组属性。<br>　　　　<code>@</code>绑定可以用于当输入是字符串，尤其是绑定的值不会发生改变时。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bindings: &#123;</span><br><span class=\"line\">  hero: <span class=\"string\">'&lt;'</span>,</span><br><span class=\"line\">  comment: <span class=\"string\">'@'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>输出Outputs应该使用<code>&amp;</code>来绑定。这说的输出是作为组件事件的回调函数。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bindings: &#123;</span><br><span class=\"line\">  onDelete: <span class=\"string\">'&amp;'</span>,</span><br><span class=\"line\">  onUpdate: <span class=\"string\">'&amp;'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>相比于直接操作输入数据，组件应该将变化的数据交付给正确的输出事件来处理。比如一次删除操作，组件不会直接删掉<code>hero</code>本身，而是通过正确的事件将数据传递给拥有该数据属性的组件。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- note that we use kebab-case for bindings in the template as usual --&gt;</span><br><span class=\"line\">&lt;editable-field on-update=&quot;$ctrl.update(&apos;location&apos;, value)&quot;&gt;&lt;/editable-field&gt;&lt;br&gt;</span><br><span class=\"line\">&lt;button ng-click=&quot;$ctrl.onDelete(&#123;hero: $ctrl.hero&#125;)&quot;&gt;Delete&lt;/button&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>通过这种方式，父级组件可以来决定如何处理（比如，是删除一个元素还是更新属性。）</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctrl.deleteHero(hero) &#123;</span><br><span class=\"line\">  $http.delete(...).then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> idx = ctrl.list.indexOf(hero);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (idx &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      ctrl.list.splice(idx, <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<ul>\n<li><strong>component具有定义完备的生命周期</strong><br>　　每一个组件都可以执行一套“声明周期钩子”，在生命周期的特定点，以下方法可以被调用：</li>\n</ul>\n<ol>\n<li><code>$onInit()</code><br>　　满足以下条件时会在controller上调用该方法：<br>　　　a. 当一个元素上的全部controller都已经构建完成<br>　　　b. 它们的bindings已经初始化<br>　　　c. 在该元素上指令directives的pre &amp; post linking functions执行之前</li>\n</ol>\n<p>　　将初始化代码放在这个方法中是很合适的。</p>\n<ol>\n<li><code>$onChanges(changesObj)</code><br>　　在任何时刻，只要单向绑定的数据发生更新，就会调用该方法。<code>changesObj</code>是一个哈希表，它的键是发生变化的绑定属性的属性名称，它的值是一个对象，形式为：<code>{ currentValue, previousValue, isFirstChange()}</code>。比如当需要复制一个绑定的值以防外部值发生突变的时候，就可以触发该方法。</li>\n<li><code>$doCheck()</code><br>　　该方法提供了一个检测并处理变化的接口。当检测到变化想做出相应处理时，任何的处理函数都必须从这个钩子调用。但是，当<code>$onChanges</code>已经调用时，这个钩子是不起作用的。举例来说，当你想进行一次“js对象深度相等比较”（这个概念应该参考js的深拷贝和浅拷贝），或者要检测一个Date对象这类操作时，它们的变化不会被Angular的变化检测器检测到，因此不会触发<code>$onChanges</code>，这时候就可以使用<code>$doCheck()</code>。这个钩子的调用没有参数，如果检测到了变化，必须手动保存旧值来和当前值比较。</li>\n<li><code>$onDestroy()</code><br>　　当一个controller的作用域已经销毁，会调用该函数。使用该函数可以释放外部资源，watches监听函数和其他事件处理函数。</li>\n<li><code>$postLink()</code><br>　　当控制器对应的元素及其子元素已经”link”完成（关于”link”，要单独分析<code>$compile</code>的相关内容），会调用该函数。和directive中的post-link function类似，这个钩子可以用来设置DOM元素事件处理函数，或者进行直接的DOM操作。注意一个例外，当前的controller对应的组件可能有子组件，那些包含有<code>templateUrl</code>的子元素在调用该函数的时候并没有”link”完成，因为它们要等待templateUrl指定的模板template异步加载完成，因此在完成之前它自己的编译和链接就会被挂起。这个指令可以看做是和Angular 2中的<code>ngAfterViewInit</code>和<code>ngAfterContentInit</code>作用类似。</li>\n</ol>\n<ul>\n<li><strong>一个应用程序就是一棵组件树</strong><br>　　理论上最佳的状态是，整个应用应该由不同层级的component构成一棵树，能够处理定义完备的输入输出，并且具有最少的双向数据绑定。这样，就能够更加轻松地预测数据何时变化以及组件的状态是什么。</li>\n</ul>\n<hr>\n<h2 id=\"使用component组件作为路由模板\"><a href=\"#使用component组件作为路由模板\" class=\"headerlink\" title=\"使用component组件作为路由模板\"></a>使用component组件作为路由模板</h2><hr>\n<h2 id=\"内部component组件间的通信\"><a href=\"#内部component组件间的通信\" class=\"headerlink\" title=\"内部component组件间的通信\"></a>内部component组件间的通信</h2><hr>\n<h2 id=\"对作为controller控制器的组件component进行单元测试\"><a href=\"#对作为controller控制器的组件component进行单元测试\" class=\"headerlink\" title=\"对作为controller控制器的组件component进行单元测试\"></a>对作为controller控制器的组件component进行单元测试</h2><hr>\n<h2 id=\"使用案例\"><a href=\"#使用案例\" class=\"headerlink\" title=\"使用案例\"></a>使用案例</h2><p>　　具体案例，详细参见这一篇<a href=\"http://gcidea.info/2016/08/07/angular-table-plugin/\" target=\"_blank\" rel=\"external\">使用AngularJs封装表格内容渲染（含分页）插件</a>。整个表格插件就是一个大的component，实现过程中用到了上述很多特性。</p>\n"},{"title":"使用Node.js实现基于TCP协议的简单聊天室程序","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/16/nodejs-chatting-room/","content":""},{"title":"AngularJs中$q服务(service)的使用","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/15/angular-$q-service/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　$q服务的实现与ES6(ES2015)中的promise十分相似，这种方式改变了传统长期使用的JavaScript异步编程方式-处理回调函数。试想一下，如果有这样的业务逻辑：我们需要根据某个异步ajax请求的结果是否符合要求，再发起一个异步请求，在回调函数中对响应数据进行请求后再发起异步请求… …当出现这样的异步嵌套逻辑，代码结构就会变得很差。promise正是改变了这种情况，以一种流式的方式对异步请求进行声明和处理，表现出顺序的编码结构。本篇对$q服务的常用内容进行总结，而对于promise的学习，推荐<a href=\"http://es6.ruanyifeng.com/#docs/promise\" target=\"_blank\" rel=\"external\">阮一峰的ES6标准入门</a>。</p>\n<hr>\n<h2 id=\"综述\"><a href=\"#综述\" class=\"headerlink\" title=\"综述\"></a>综述</h2><p>　　$q是AngularJs中的一个服务，可以用来异步执行函数，并在异步请求执行完成时使用返回的结果。$q是对<a href=\"https://github.com/kriskowal/q\" target=\"_blank\" rel=\"external\">Kris Kowal提出的Kris Kowal’s Q中的promises/deferred对象</a>的一种实现。$q有两种使用风格，一种和Kris Kowal’s Q或者jQuery中的defer实现类似，另一种实现与ES6(ES2015)中的promise十分相似。</p>\n<hr>\n<h2 id=\"q构造函数\"><a href=\"#q构造函数\" class=\"headerlink\" title=\"$q构造函数\"></a>$q构造函数</h2><p>　　上面提到的ES6流式风格的promise对象本质上就是把$q用作构造函数，并且这个构造函数的第一个参数是一个函数-resolver，构造函数返回一个promise对象。这个结果和原生的ES6的promise对象是十分类似的。<br>　　要注意的是，虽然能够按照构造函数的形式来使用$q，但是并不是ES6的promise对象的所有方法在这里都得到了支持。<br>　　根据AngularJs的官方文档，$q构造函数的典型使用如下：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// for the purpose of this example let's assume that variables `$q` and `okToGreet`</span></span><br><span class=\"line\"><span class=\"comment\">// are available in the current lexical scope (they could have been injected or passed in).</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">asyncGreet</span>(<span class=\"params\">name</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// perform some asynchronous operation, resolve or reject the promise when appropriate.</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> $q(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (okToGreet(name)) &#123;</span><br><span class=\"line\">        resolve(<span class=\"string\">'Hello, '</span> + name + <span class=\"string\">'!'</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        reject(<span class=\"string\">'Greeting '</span> + name + <span class=\"string\">' is not allowed.'</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> promise = asyncGreet(<span class=\"string\">'Robin Hood'</span>);</span><br><span class=\"line\">promise.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">greeting</span>) </span>&#123;</span><br><span class=\"line\">  alert(<span class=\"string\">'Success: '</span> + greeting);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">reason</span>) </span>&#123;</span><br><span class=\"line\">  alert(<span class=\"string\">'Failed: '</span> + reason);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>上面这种写法，执行asyncGreet(‘Robin Hood’)返回了一个$q构造函数，该函数执行后要么调用resolve，要么调用reject，返回一个promise对象。之后再调用这个对象上的then()方法，具体下面有解释。</p>\n<hr>\n<h2 id=\"Deferred-API\"><a href=\"#Deferred-API\" class=\"headerlink\" title=\"Deferred API\"></a>Deferred API</h2><p>　　一个新的deferred实例—延迟对象实例，是通过调用$q.defer()创建的。<br>　　创建deferred对象的目的是：</p>\n<ol>\n<li>暴露出一个与之相关的promise对象</li>\n<li>提供标识任务状态以及是否成功完成的API接口</li>\n</ol>\n<p>对应上述1，$q.defer()创建的延迟对象实例有以下属性：</p>\n<ul>\n<li><code>promise</code></li>\n</ul>\n<p>可通过下面方法调用：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> deferred = $q.defer();</span><br><span class=\"line\"><span class=\"keyword\">var</span> promise = deferred.promise;</span><br></pre></td></tr></table></figure></p>\n<p>对应上述2，$q.defer()创建的延迟对象实例有以下方法：</p>\n<ul>\n<li><code>resolve(value)</code><br>　　表明成功解决了派生的promise对象，此时value值将会作为参数值传递给对应promise对象的then()方法的第一个参数，而这个第一个参数是一个函数，即successCallback成功回调函数。也就是value值传递给successCallback函数。<br>　　而如果这个value值是通过”$q.reject()”创建的rejection(实际上也是一个promise对象，详见下文)，那么表明deferred的promise对象未被成功处理。</li>\n<li><code>reject(reason)</code><br>　　表明未能成功解决派生的promise对象，这和下文要提到的通过”$q.reject()”创建的rejection来处理promise是一样的。</li>\n<li><code>notify(value)</code><br>　　根据promise的执行状态来提供更新情况。在promise对象被resolve或者被reject前，这个方法可能会被调用多次。</li>\n</ul>\n<hr>\n<h2 id=\"Promise-API\"><a href=\"#Promise-API\" class=\"headerlink\" title=\"Promise API\"></a>Promise API</h2><p><font color=\"red\">当一个deferred实例被成功创建时，随之而来的也成功创建了一个promise实例，并且可以通过调用<code>deferred.promise</code>来获取到这个promise实例。</font><br>　　这个promise对象的目的是允许在延迟执行任务deferred执行完成时获取对其执行结果的访问权限。<br>Promise API提供如下３个方法：</p>\n<ul>\n<li><code>then(successCallback, [errorCallback], [notifyCallback])</code><br>　　无论是promise已经被resolve或者reject，还是promise将要被resolve或者reject，只要结果一旦可用，then()方法就会异步调用成功回调函数或者失败回调函数中的一个。回调函数有一个参数：成功执行的结果或者拒绝执行的原因。另外，在promise被resolve或者reject之前，notifyCallback可能不会被调用，也可能调用多次用以表明执行进度。<br>　　这个方法会通过successCallback或者errorCallback的返回值来返回一个新的被resolve或者被reject的promise对象(不能通过notifyCallback方法)</li>\n<li><code>catch(errorCallback)</code><br>　　是promise.then(null, errorCallback)的简写形式。</li>\n<li><code>finally(callback, notifyCallback)</code><br>　　此方法允许观察处理一个promise对象是完成还是拒绝。但这样做不用修改最后的value值。 这可以用来做一些释放资源或者清理无用对象的工作,不管promise 被拒绝还是解决。</li>\n</ul>\n<hr>\n<h2 id=\"链式promises\"><a href=\"#链式promises\" class=\"headerlink\" title=\"链式promises\"></a>链式promises</h2><p>　　由于调用promise对象的then()方法会返回一个新派生出的promise对象，因此很容易创建一个链式的promise调用。如下所示：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">promiseB = promiseA.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">result</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//一旦promiseA调用完成，就会执行promiseB，并且promiseB的值是promiseA返回的结果值加1。</span></span><br></pre></td></tr></table></figure></p>\n<p>我们可以创建任意长度的链式调用。并且由于一个promise对象的执行可能要受另一个promise对象的影响，这使得在链上任意一点暂停或者推迟promise的执行成为可能。这一点很有用，比如http响应拦截器，具体参考<a href=\"http://gcidea.info/2016/08/15/angular-error-interceptor/\" target=\"_blank\" rel=\"external\">AngularJs中使用拦截器interceptor对全局HTTP错误进行统一处理</a>。</p>\n<hr>\n<h2 id=\"Kris-Kowal’s-Q和-q的区别\"><a href=\"#Kris-Kowal’s-Q和-q的区别\" class=\"headerlink\" title=\"Kris Kowal’s Q和$q的区别\"></a>Kris Kowal’s Q和$q的区别</h2><p>主要有两点不同：</p>\n<ol>\n<li>$q是与<a href=\"https://docs.angularjs.org/api/ng/type/$rootScope.Scope\" target=\"_blank\" rel=\"external\">$rootScope.Scope</a>结合在一起的，AngularJs中的作用域模型观察机制意味着可以更加快速地将resolution或者rejection传入模型，同时避免浏览器的重新渲染，而这往往会造成界面UI的闪烁，体验不好。</li>\n<li>Q比$q有更多特性，但代价是体积上更大。$q是轻量级的，即便简单，但也包含了常见异步任务所需要的全部重要功能。</li>\n</ol>\n<hr>\n<h2 id=\"使用格式\"><a href=\"#使用格式\" class=\"headerlink\" title=\"使用格式\"></a>使用格式</h2><p><code>$q(resolver);</code></p>\n<ul>\n<li><p>参数<br>值：resolver（类型：function(function, function)）<br>解释：参数是一个函数，这个函数是用来处理或者拒绝新创建的promise对象的。它有两个参数，分别是一个函数，第一个函数是用来执行处理promise对象，第二个用来拒绝promise对象。</p>\n</li>\n<li><p>返回值<br>新创建的promise对象。</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"提供的方法\"><a href=\"#提供的方法\" class=\"headerlink\" title=\"提供的方法\"></a>提供的方法</h2><ul>\n<li><p>defer();<br><strong>解释</strong><br>创建一个延迟对象deferred，它代表着一个在将来完成的任务。<br><strong>参数</strong><br>无。<br><strong>返回值</strong><br>一个新的deferred实例。</p>\n</li>\n<li><p>reject(reason);<br><strong>解释</strong><br>　　创建一个promise对象，这个对象的处理状态是被拒绝，参数reson表明具体原因。这个API应该用来在链式promise中向前传递rejection。如果是在处理链式调用中的最后一个promise对象，就不用担心这个了。<br>　　当把deferreds/promises和有类似行为的try/catch/throw作比较时，应该这样想：把<code>reject</code>类比为JavaScript中的<code>throw</code>关键字。这就意味着，如果你通过promise的errorCallback捕获到了一个错误，并且你想将这个错误从当前promise对象向派生出的promise对象继续传播时，你就必须将这个错误重新抛出，而方法就是，使用该API，通过<code>reject(reason);</code>返回一个rejection。示例如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">promiseB = promiseA.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">result</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// success: do something and resolve promiseB</span></span><br><span class=\"line\">  <span class=\"comment\">//          with the old or a new result</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">reason</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// error: handle the error if possible and</span></span><br><span class=\"line\">  <span class=\"comment\">//        resolve promiseB with newPromiseOrValue,</span></span><br><span class=\"line\">  <span class=\"comment\">//        otherwise forward the rejection to promiseB</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (canHandle(reason)) &#123;</span><br><span class=\"line\">   <span class=\"comment\">// handle the error and recover</span></span><br><span class=\"line\">   <span class=\"keyword\">return</span> newPromiseOrValue;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> $q.reject(reason);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><strong>参数</strong><br><code>reson</code>(类型任意)。可以是代表着异常原因的常量、消息、对象等。<br><strong>返回值</strong><br>promise对象。并且这个对象已经被处理为rejected，参数就是reson。</p>\n<ul>\n<li>when(value, [successCallback], [errorCallback], [progressCallback]);<br><strong>解释</strong><br>该方法会将一个普通任意值或者第三方的promise对象统一包装成$q的promise对象，第一个参数若不是promise对象则直接运行successCallback，若为promise那么返回的promise其实就是对这个promise类型的参数的一个包装，被传入的这个promise对应的defer发送的消息，会被我们when函数返回的promise对象所接收到。示例如下：</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> promise = $q.when(<span class=\"string\">\"a value\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">val</span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"built_in\">console</span>.log(<span class=\"string\">\"a value---resolve,this is \"</span> + val);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"built_in\">console</span>.log(<span class=\"string\">\"a value---reject\"</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> defer1 = $q.defer();</span><br><span class=\"line\"><span class=\"keyword\">var</span> promise1 = defer1.promise;</span><br><span class=\"line\"><span class=\"keyword\">var</span> promise2 = $q.when(promise1, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">val</span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"built_in\">console</span>.log(<span class=\"string\">\"a (3rd party) then-able promise,this is \"</span> + val);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"built_in\">console</span>.log(<span class=\"string\">\"a (3rd party) then-able promise---reject\"</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">defer1.reject(<span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//运行结果：</span></span><br><span class=\"line\"><span class=\"comment\">//a value---resolve,this is a value</span></span><br><span class=\"line\"><span class=\"comment\">//a (3rd party) then-able promise---reject</span></span><br></pre></td></tr></table></figure>\n<p><strong>参数</strong><br><code>value</code>：任意值或者promise对象<br><code>successCallback</code>：可选，成功回调函数<br><code>errorCallback</code>：可选，错误回调函数<br><code>progressCallback</code>：可选，执行过程通知回调函数<br><strong>返回值</strong><br>传入值包装后的promise对象。</p>\n<ul>\n<li><p>resolve(value, [successCallback], [errorCallback], [progressCallback]);<br>这是when()方法的一个别名，是为了保持和ES6的命名一致性。</p>\n</li>\n<li><p>all(promises);<br><strong>解释</strong><br>这个方法用来将多个promise对象绑定到一个promise对象上，当且仅当输入的所有promise对象执行完成，这个对象才会被执行。<br><strong>参数</strong><br><code>promises</code>：一个promise的数组或者hash表。<br><strong>返回值</strong><br>一个promise对象，这个对象传入的参数值是一个数组或者hash表，其中的每一个值和传入的promise数组一一对应相关，是相应promise执行的返回值。如果传入的promise数组中有任意一个得到了reject的结果，那么返回的这个promise也会因为相同的值而被reject。</p>\n</li>\n<li><p>race(promises);<br><strong>解释</strong><br>这个方法会传入promise数组或者对象，一旦传入的对象中有一个执行得到reject或者resolve的结果，那么就会返回，并且返回的promise的执行结果是一致的。<br><strong>参数</strong><br><code>promises</code>：一个promise的数组或者promise对象。<br><strong>返回值</strong><br>一旦传入的对象中有一个执行得到reject或者resolve的结果，那么就会返回，并且返回的promise的执行结果是一致的。</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"使用案例一\"><a href=\"#使用案例一\" class=\"headerlink\" title=\"使用案例一\"></a>使用案例一</h2><p>　　$q提供了很多方法和使用形式，但在实际中还没有用到太复杂的。下面这段代码是对$q的一个简单使用：列表的更新方法<code>ctrl.update</code>是一个异步操作，不知道确切在哪个时间点返回，那么这正符合$q的使用场景。<br>1.其中更新方法<code>ctrl.update</code>的实现如下：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">reqInfo,toTable</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'taskName'</span>:$scope.taskName,</span><br><span class=\"line\">        <span class=\"string\">'createUser'</span>:$scope.createUser,</span><br><span class=\"line\">        <span class=\"string\">'taskStatus'</span>:$scope.taskStatus</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    params = angular.extend(params,reqInfo);</span><br><span class=\"line\">    $http.get(<span class=\"string\">\"/rest/idap/taskList/index\"</span>,&#123;params:params&#125;).success(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">result</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(result.success)&#123;</span><br><span class=\"line\">            toTable(result.data);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>我们不需要管其中具体的业务逻辑，比如请求的参数、路由之类的。我们只需要知道，$http.get发起了一个异步请求，当成功执行时，我们会将返回的数据result.data传递给作为参数的函数toTable，由这个函数来将数据渲染到表格中。</p>\n<p>2.接下来就是核心：$q如何使用。执行$q(function(resolve, reject) {})这部分后会返回一个新创建的promise对象，我们在function(resolve, reject) {}中发起数据查询请求：pageInfo只是一个配置表格分页信息的普通对象，不需多管。resolve是当promise对象成功执行时候用来进行处理的函数。我们就把这个函数传递给toTable方法，用来当查询成功时对表格进行数据渲染。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$q(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(!ctrl.removeLoadingBox)&#123;</span><br><span class=\"line\">\t\tloadingDialogId = Box.startLoading(<span class=\"string\">\"查询中...\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tctrl.update(&#123;reqInfo:pageInfo,toTable:resolve&#125;);</span><br><span class=\"line\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">msg</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(!ctrl.removeLoadingBox)&#123;</span><br><span class=\"line\">\t\tsetTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">id</span>)</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\t\t\tBox.stopLoading(id);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;(loadingDialogId),<span class=\"number\">100</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(angular.isObject(msg)) &#123;</span><br><span class=\"line\">\t\tctrl.config = msg;</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\tBox.error(msg);  </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>3.既然执行$q后返回promise对象，我们由上述promise API可知，通过then()方法的第一个参数可以指定promise成功执行后的回调函数，我们就在这里来具体指定我们在2中说的resolve到底是怎么处理的，是怎样一个函数：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">msg</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(!ctrl.removeLoadingBox)&#123;</span><br><span class=\"line\">\t\tsetTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">id</span>)</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\t\t\tBox.stopLoading(id);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;(loadingDialogId),<span class=\"number\">100</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(angular.isObject(msg)) &#123;</span><br><span class=\"line\">\t\tctrl.config = msg;</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\tBox.error(msg);  </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>当promise成功执行，由1知道，传递给toTable()函数的参数是result.data，也就是说resolve()方法拿到的是result.data，也就是说successCallback-成功回调函数拿到的是result.data，那么上面的<code>msg</code>就是result.data，我们现在就可以拿着这个数据进行渲染了。这里我们只要把它赋值给ctrl.config即可（而config具体如何实现已经不是这里需要考虑的问题，总之它做的事情就是配置并渲染表格）。</p>\n<hr>\n<h2 id=\"使用案例二\"><a href=\"#使用案例二\" class=\"headerlink\" title=\"使用案例二\"></a>使用案例二</h2><p>　　另一个案例就是使用$q异步服务对全局HTTP请求错误的进行拦截处理，具体内容参考这一篇<a href=\"http://gcidea.info/2016/08/15/angular-error-interceptor/\" target=\"_blank\" rel=\"external\">AngularJs中使用拦截器interceptor对全局HTTP错误进行统一处理</a>。</p>\n"},{"title":"AngularJs中使用拦截器interceptor对全局HTTP错误进行统一处理","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/15/angular-error-interceptor/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　在web开发的各种业务场景中，http请求无疑是家常便饭，任何前后端交互数据都需要通过http请求进行传输。同时我们知道，HTTP响应有很多状态码，对应着很多种不同的服务处理结果。在这种情况下，如果项目中每一处http请求中我们都要对各种响应结果做以判断的话，那么整个工程中就会出现大量重复代码，这样做会带来不少问题，比如：重复劳动，代码结构不清晰、核心逻辑不明确，一旦对错误处理的需求变更就要对每一处进行修改、费时费力且容易遗漏。<br>　　针对这样的情况，在以AngularJs为前端框架的项目中，我们可以使用拦截器interceptor对全局HTTP错误进行统一处理。</p>\n<hr>\n<h2 id=\"相关背景知识\"><a href=\"#相关背景知识\" class=\"headerlink\" title=\"相关背景知识\"></a>相关背景知识</h2><h3 id=\"AngularJs的拦截器interceptor\"><a href=\"#AngularJs的拦截器interceptor\" class=\"headerlink\" title=\"AngularJs的拦截器interceptor\"></a>AngularJs的拦截器interceptor</h3><ul>\n<li><strong>功能</strong>：任何时候如果我们想要为请求添加全局功能，例如身份验证、错误处理等，在请求发送给服务器之前或者从服务器返回时可以对其进行拦截。</li>\n<li><strong>本质</strong>：$http服务的基础中间件，用来向应用的业务流程中注入新的逻辑。</li>\n<li><strong>核心</strong>：服务工厂factory。通过向$httpProvider.interceptors数组中添加服务工厂，在$httpProvider中进行注册。</li>\n</ul>\n<blockquote>\n<p>服务工厂factory()</p>\n<p>服务提供了一种能在应用的整个生命周期内保持数据的方法，它能够在控制器之间进行通<br>信，并且能保证数据的一致性。服务是一个单例对象，在每个应用中只会被实例化一次（被$injector实例化），并且是延迟加载的（需要时才会被创建）。服务提供了把与特定功能相关联的方法集中在一起的接口。</p>\n<p>服务的工厂函数用来生成一个单例的对象或函数，这个对象或函数就是服务，它会存在于应<br>用的整个生命周期内。当我们的AngularJS应用加载服务时，这个函数会被执行并返回一个单例<br>的服务对象。服务的工厂函数既可以是一个函数也可以是一个数组，比如：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 用方括号声明工厂</span></span><br><span class=\"line\">angular.module(<span class=\"string\">'myApp.services'</span>, [])</span><br><span class=\"line\">.factory(<span class=\"string\">'githubService'</span>, [<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$http</span>) </span>&#123; &#125;]);</span><br></pre></td></tr></table></figure></p>\n<p>顺便提一下，控制器controller的声明也是这样，可以是函数或数组，比如：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">controller: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;;</span><br></pre></td></tr></table></figure></p>\n<p>或<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">controller: [<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;&#125;]</span><br></pre></td></tr></table></figure></p>\n<p>在AngularJS应用中，factory()方法是用来注册服务的最常规方式。。factory()函数可以接受两个参数。<br><code>name</code>：（字符串），需要注册的服务名。<br><code>getFn</code>:（函数），这个函数会在AngularJS创建服务实例时被调用。</p>\n</blockquote>\n<ul>\n<li><strong>种类</strong><br>一共有四种拦截器，两种成功拦截器，两种失败拦截器。<br><code>request</code><pre><code>AngularJS通过$http设置对象来对请求拦截器进行调用。它可以对设置对象进行修改，或者创建\n</code></pre>一个新的设置对象，它需要返回一个更新过的设置对象，或者一个可以返回新的设置对象的promise。<br><code>response</code><pre><code>AngularJS通过$http设置对象来对响应拦截器进行调用。它可以对响应进行修改，或者创建\n</code></pre>一个新的响应，它需要返回一个更新过的响应，或者一个可以返回新响应的promise。<br><code>requestError</code><pre><code>AngularJS会在上一个请求拦截器抛出错误，或者promise被reject时调用此拦截器。\n</code></pre><code>responseError</code><pre><code>AngularJS会在上一个响应拦截器抛出错误，或者promise被reject时调用此拦截器。\n</code></pre></li>\n</ul>\n<h3 id=\"AngularJs的-httpProvider\"><a href=\"#AngularJs的-httpProvider\" class=\"headerlink\" title=\"AngularJs的$httpProvider\"></a>AngularJs的$httpProvider</h3><p>　　$httpProvider是用来修改AngularJs中$http服务的默认行为的。它有两个属性：defaults和interceptors。<br>　　其中，defaults是一个包含了全局$http服务请求的参数值的对象，主要有这几个属性：<br><code>defaults.cache</code><br><code>defaults.xsrfCookieName</code><br><code>defaults.xsrfHeaderName</code><br><code>defaults.headers</code><br><code>defaults.paramSerializer</code><br>　　而interceptors则是一个数组，是一个服务工厂的数组。它包含了所有的同步/异步$http中对请求进行预处理或者对响应进行后处理的服务工厂。</p>\n<h3 id=\"AngularJs模块加载前的配置config\"><a href=\"#AngularJs模块加载前的配置config\" class=\"headerlink\" title=\"AngularJs模块加载前的配置config()\"></a>AngularJs模块加载前的配置config()</h3><p>　　在模块的加载阶段，AngularJS会在提供者注册和配置的过程中对模块进行配置。在整个AngularJS的工作流中，这个阶段是唯一能够在应用启动前进行修改的部分。<br>　　config()函数接受一个参数：configFunction（函数）：AngularJS在模块加载时会执行这个函数。如：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">angular.module(<span class=\"string\">'myApp'</span>, [])</span><br><span class=\"line\">.config(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$routeProvider</span>) </span>&#123;</span><br><span class=\"line\">\t$routeProvider.when(<span class=\"string\">'/'</span>, &#123;</span><br><span class=\"line\">\t\tcontroller: <span class=\"string\">'WelcomeController'</span>,</span><br><span class=\"line\">\t\ttemplate: <span class=\"string\">'views/welcome.html'</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"AngularJs的-q服务\"><a href=\"#AngularJs的-q服务\" class=\"headerlink\" title=\"AngularJs的$q服务\"></a>AngularJs的$q服务</h3><p>　　$q是AngularJs中的一个服务，可以用来异步执行函数，并在异步请求执行完成时使用返回的结果。$q的使用和ES6(ES2015)中的promise很类似。关于promise的学习，推荐<a href=\"http://es6.ruanyifeng.com/#docs/promise\" target=\"_blank\" rel=\"external\">阮一峰的ES6标准入门</a>。关于$q服务的详细信息，参考这一篇<a href=\"http://gcidea.info/2016/08/15/angular-$q-service/\" target=\"_blank\" rel=\"external\">AngularJs中$q服务(service)的使用</a>，这里不过多介绍。<br>　　在拦截到HTTP后，我们需要使用$q服务通过返回一个rejection来阻止下一步的默认行为。</p>\n<h3 id=\"AngularJs的-on服务\"><a href=\"#AngularJs的-on服务\" class=\"headerlink\" title=\"AngularJs的$on服务\"></a>AngularJs的$on服务</h3><p>　　$on用于监听事件变化，比如状态改变事件：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$scope.$on(<span class=\"string\">'$stateChangeStart'</span>,</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">evt, toState, roParams, fromState, fromParams</span>) </span>&#123;</span><br><span class=\"line\"><span class=\"comment\">// 可以阻止这一状态完成</span></span><br><span class=\"line\">evt.preventDefault();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>我们可以通过如上方法自定义监听事件，第一个字符串参数是事件名称，第二个是监听事件发生时的回调函数。我们使用这种监听，当拦截到http错误时，向下broadcast广播这个事件，从而触发一些其他事件（比如使用弹窗提醒错误信息）。关于$broadcast和$emit，参考这一篇<a href=\"http://gcidea.info/2016/08/08/angular-emit-broadcast/\" target=\"_blank\" rel=\"external\">AngularJs的$emit和$broadcast事件分析</a>。</p>\n<h3 id=\"AngularJs的运行块run-方法\"><a href=\"#AngularJs的运行块run-方法\" class=\"headerlink\" title=\"AngularJs的运行块run()方法\"></a>AngularJs的运行块run()方法</h3><p>　　它是所有AngularJS应用中第一个被执行的方法。运行块是AngularJS中与平时所说“main()方法”最接近的概念。运行块通常用来注册全局的事件监听器。例如，我们会在.run()块中设置路由事件的监听器以及过滤未经授权的请求。假设我们需要在每次路由发生变化时，都执行一个函数来验证用户的权限，放置这个功能唯一合理的地方就是run方法。<br>　　在拦截HTTP请求的过程中，我们在整个应用的module上注册一个这样的运行块，通过拦截，将错误信息保存到$rootScope，并由Box组件负责展示。</p>\n<hr>\n<h2 id=\"HTTP错误拦截器的实现\"><a href=\"#HTTP错误拦截器的实现\" class=\"headerlink\" title=\"HTTP错误拦截器的实现\"></a>HTTP错误拦截器的实现</h2><h3 id=\"创建错误拦截服务工厂\"><a href=\"#创建错误拦截服务工厂\" class=\"headerlink\" title=\"创建错误拦截服务工厂\"></a>创建错误拦截服务工厂</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">angular.module(<span class=\"string\">'portalApp'</span>).factory(<span class=\"string\">'errorInterceptor'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$q,$rootScope</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// optional method</span></span><br><span class=\"line\">\t\t<span class=\"string\">'request'</span> : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">config</span>) </span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> config;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// optional method</span></span><br><span class=\"line\">\t\t<span class=\"string\">'response'</span> : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>) </span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!response.data)</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> response;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(response.data.success==<span class=\"literal\">undefined</span>)</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> response;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(response.data.success==<span class=\"literal\">false</span>)&#123;</span><br><span class=\"line\">\t\t\t\t$rootScope.$broadcast(<span class=\"string\">\"warn\"</span>,&#123;</span><br><span class=\"line\">\t\t\t\t\ttype:<span class=\"string\">'error'</span>,</span><br><span class=\"line\">\t\t\t\t\tdesc:response.data.desc</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t&#125;\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> response;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// optional method</span></span><br><span class=\"line\">\t\t<span class=\"string\">'responseError'</span> : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">rejection</span>) </span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// do something on error</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (rejection.status == <span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\t\t$rootScope.$broadcast(<span class=\"string\">\"warn\"</span>,&#123;</span><br><span class=\"line\">\t\t\t\t\ttype:<span class=\"string\">'error'</span>,</span><br><span class=\"line\">\t\t\t\t\tdesc:<span class=\"string\">'连接服务器失败'</span></span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> $q.reject(rejection);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (rejection.status == <span class=\"number\">500</span>) &#123;</span><br><span class=\"line\">\t\t\t\t$rootScope.$broadcast(<span class=\"string\">\"warn\"</span>,&#123;</span><br><span class=\"line\">\t\t\t\t\ttype:<span class=\"string\">'error'</span>,</span><br><span class=\"line\">\t\t\t\t\tdesc:<span class=\"string\">'服务器内部错误'</span></span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> $q.reject(rejection);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (rejection.status == <span class=\"number\">404</span>) &#123;</span><br><span class=\"line\">\t\t\t\t$rootScope.$broadcast(<span class=\"string\">\"warn\"</span>,&#123;</span><br><span class=\"line\">\t\t\t\t\ttype:<span class=\"string\">'error'</span>,</span><br><span class=\"line\">\t\t\t\t\tdesc:<span class=\"string\">'请求的页面不存在'</span></span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> $q.reject(rejection);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (rejection.status == <span class=\"number\">401</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">window</span>.location=<span class=\"string\">\"/login.html\"</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (rejection.status == <span class=\"number\">403</span>) &#123;</span><br><span class=\"line\">\t\t\t\t$rootScope.$broadcast(<span class=\"string\">\"warn\"</span>,&#123;</span><br><span class=\"line\">\t\t\t\t\ttype:<span class=\"string\">'error'</span>,</span><br><span class=\"line\">\t\t\t\t\tdesc:<span class=\"string\">'对不起，您没有访问权限'</span></span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> $q.reject(rejection);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t$rootScope.$broadcast(<span class=\"string\">\"warn\"</span>,&#123;</span><br><span class=\"line\">\t\t\t\ttype:<span class=\"string\">'error'</span>,</span><br><span class=\"line\">\t\t\t\tdesc:<span class=\"string\">'服务器发生未知错误（status'</span>+rejection.status+<span class=\"string\">'）'</span></span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> $q.reject(rejection);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"向-httpProvider配置错误拦截器\"><a href=\"#向-httpProvider配置错误拦截器\" class=\"headerlink\" title=\"向$httpProvider配置错误拦截器\"></a>向$httpProvider配置错误拦截器</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">angular.module(<span class=\"string\">'portalApp'</span>).config([ <span class=\"string\">'$httpProvider'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$httpProvider</span>) </span>&#123;</span><br><span class=\"line\">\t$httpProvider.interceptors.push(<span class=\"string\">'errorInterceptor'</span>);</span><br><span class=\"line\">&#125;]);</span><br></pre></td></tr></table></figure>\n<h3 id=\"注册运行块run，监听错误结果进行回调处理\"><a href=\"#注册运行块run，监听错误结果进行回调处理\" class=\"headerlink\" title=\"注册运行块run，监听错误结果进行回调处理\"></a>注册运行块run，监听错误结果进行回调处理</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">angular.module(<span class=\"string\">'portalApp'</span>, [ <span class=\"string\">'ngComponentRouter'</span>, ...及其他依赖注入模块])</span><br><span class=\"line\">\t\t.controller(</span><br><span class=\"line\">\t\t\t<span class=\"string\">'mainCtrl'</span>,[...此处省略...]</span><br><span class=\"line\">\t\t).run(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$rootScope,ngDialog,Box</span>)</span>&#123;</span><br><span class=\"line\">\t\t\t$rootScope.$on(<span class=\"string\">'warn'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event, warnMsg</span>)</span>&#123;</span><br><span class=\"line\">\t\t\t\tsetTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t\t\t\tBox.error(warnMsg.desc);</span><br><span class=\"line\">\t\t\t\t&#125;, <span class=\"number\">500</span>);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t\t&#125;);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参考：《AngularJs权威教程》、AngularJs官方文档</p>\n</blockquote>\n"},{"title":"CSS的颜色空间-Color Name、HEX、RGB、RGBA、HSL、HSLA","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/14/css3-rgb-rgba-hsl-hsla/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　通过CSS指定元素颜色是经常遇到的操作。在CSS中有多种表示颜色的方式。其中，RGBA、HSL、HSLA这三个是CSS3中新增的颜色表示方法。CSS提供了很多和color相关的属性，常用的主要有<code>color</code>、<code>background-color</code>、<code>border-color</code>、<code>text-decoration-color</code>等。<strong>下面的说明，均以对<code>background-color</code>的赋值为例</strong>。</p>\n<hr>\n<h2 id=\"Color-Name\"><a href=\"#Color-Name\" class=\"headerlink\" title=\"Color Name\"></a>Color Name</h2><h3 id=\"格式\"><a href=\"#格式\" class=\"headerlink\" title=\"格式\"></a>格式</h3><p><code>background-color: Color Name</code></p>\n<h3 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>直接指定颜色英文名称。在webstorm中，我们只需要输入red/green/blue/yellow这样常见的颜色单词，IDE会提示我们相关颜色，可以通过预览进行选择，如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/webstorm-color-tip1.png\" alt=\"\"></p>\n<h3 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h3><p>指定一组div元素的背景色：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-id\">#i1</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: red;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#i2</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: blue;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#i3</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: yellow;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#i4</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: green;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#i5</span> &#123;</span><br><span class=\"line\">             <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">             <span class=\"attribute\">background-color</span>: gray;</span><br><span class=\"line\">             <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">             <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">             <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">            <span class=\"attribute\">margin-left</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"color-preview\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"i1\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"i2\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"i3\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"i4\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"i5\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-color-1.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"HEX\"><a href=\"#HEX\" class=\"headerlink\" title=\"HEX\"></a>HEX</h2><h3 id=\"格式-1\"><a href=\"#格式-1\" class=\"headerlink\" title=\"格式\"></a>格式</h3><p><code>background-color: #RRGGBB 或 #RGB</code></p>\n<h3 id=\"说明-1\"><a href=\"#说明-1\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>可以用如上的十六进制法表示颜色，其中RR、GG、BB或者R、G、B分别代表红(R)、绿(G)、蓝(B)三个颜色通道的变化用它们相互之间的叠加来得到各式各样的颜色。6位或者3位，每一位是一个十六进制数字（其中字母大小写均可），取值范围0~F。表示时必须是两位数，对于只有一位的，应在前面补零。如果每个参数各自在两位上的数字都相同，那么本单位也可缩写为 #RGB 的方式。例如：#FF8800 可以缩写为 #F80。注意此色彩模式与RGB色彩模式不同。</p>\n<h3 id=\"案例-1\"><a href=\"#案例-1\" class=\"headerlink\" title=\"案例\"></a>案例</h3><p>将上述代码中background-color分别替换为：”#0A8”、”#4a226d”、”#ee5f5b”、”#2b542c”、”#4f74cd”，结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-color-2.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"RGB\"><a href=\"#RGB\" class=\"headerlink\" title=\"RGB\"></a>RGB</h2><h3 id=\"格式-2\"><a href=\"#格式-2\" class=\"headerlink\" title=\"格式\"></a>格式</h3><p><code>background-color: rgb(R,G,B)</code></p>\n<h3 id=\"说明-2\"><a href=\"#说明-2\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>R：<br>红色值。正整数 | 百分数<br>G：<br>绿色值。正整数 | 百分数<br>B：<br>蓝色值。正整数 | 百分数</p>\n<p>以上三个参数，正整数值的取值范围为：0 - 255。百分数值的取值范围为：0.0% - 100.0%。超出范围的数值将被截至其最接近的取值极限。如：rgb(300,0,0)会被解析为rgb(255,0,0)正整数值255对应百分比数值100%，如：rgb(255,255,255) = rgb(100%,100%,100%) = #FFFFFF = #FFF。此RGB色彩模式与#RRGGBB/#RGB(HEX)不同。</p>\n<h3 id=\"案例-2\"><a href=\"#案例-2\" class=\"headerlink\" title=\"案例\"></a>案例</h3><p>将上述代码中background-color分别替换为：”rgb(255,255,0)”、”rgb(0,0,255)”、”rgb(0,255,0)”、”rgb(255,0,0)”、”rgb(0,0,0)”，结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-color-3.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"RGBA\"><a href=\"#RGBA\" class=\"headerlink\" title=\"RGBA\"></a>RGBA</h2><h3 id=\"格式-3\"><a href=\"#格式-3\" class=\"headerlink\" title=\"格式\"></a>格式</h3><p><code>background-color: rgb(R,G,B,A)</code></p>\n<h3 id=\"说明-3\"><a href=\"#说明-3\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>R：<br>红色值。正整数 | 百分数<br>G：<br>绿色值。正整数 | 百分数<br>B：<br>蓝色值。正整数 | 百分数<br>A：<br>Alpha透明度。取值0~1之间。</p>\n<p>此色彩模式与RGB相同，只是在RGB模式上新增了Alpha透明度。0是完全透明，1是完全不透明。</p>\n<h3 id=\"案例-3\"><a href=\"#案例-3\" class=\"headerlink\" title=\"案例\"></a>案例</h3><p>将上述代码中background-color分别替换为：”rgba(0,255,0,0.1)”、”rgba(0,255,0,0.3)”、”rgba(0,255,0,0.5)”、”rgba(0,255,0,0.7)”、”rgba(0,255,0,1)”，结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-color-4.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"HSL\"><a href=\"#HSL\" class=\"headerlink\" title=\"HSL\"></a>HSL</h2><h3 id=\"格式-4\"><a href=\"#格式-4\" class=\"headerlink\" title=\"格式\"></a>格式</h3><p><code>background-color: HSL(H,S,L)</code></p>\n<h3 id=\"说明-4\"><a href=\"#说明-4\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>H：<br>Hue(色调)。0(或360)表示红色，120表示绿色，240表示蓝色，也可取其他数值来指定颜色。取值为：0 - 360<br>S：<br>Saturation(饱和度)。取值为：0.0% - 100.0%。饱和度可定义为彩度除以明度，与彩度同样表征彩色偏离同亮度灰色的程度。饱和度是指色彩的鲜艳程度，也称色彩的纯度。饱和度取决于该色中含色成分和消色成分（灰色）的比例。含色成分越大，饱和度越大；消色成分越大，饱和度越小。纯的颜色都是高度饱和的，如鲜红，鲜绿。混杂上白色，灰色或其他色调的颜色，是不饱和的颜色，如绛紫，粉红，黄褐等。<br>L：<br>Lightness(亮度)。取值为：0.0% - 100.0%。在白色背景下，当亮度达到100.0%，表现出的效果就是完全看不到。</p>\n<p>从网上找了一张HSL的色轮图如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css3-hsl.png\" alt=\"\"></p>\n<h3 id=\"案例-4\"><a href=\"#案例-4\" class=\"headerlink\" title=\"案例\"></a>案例</h3><p>将上述代码中background-color分别替换为：”HSL(0,40.0%,50.0%)”、”HSL(0,70.0%,50.0%)”、”HSL(0,100.0%,50.0%)”、”HSL(0,100.0%,70.0%)”、”HSL(0,100.0%,90.0%)”。前三个侧重比较在相同的亮度下，饱和度对颜色表现的影响；后三个侧重比较在相同的饱和度下，亮度对颜色表现的影响。结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-color-5.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"HSLA\"><a href=\"#HSLA\" class=\"headerlink\" title=\"HSLA\"></a>HSLA</h2><h3 id=\"格式-5\"><a href=\"#格式-5\" class=\"headerlink\" title=\"格式\"></a>格式</h3><p><code>background-color: HSLA(H,S,L,A)</code></p>\n<h3 id=\"说明-5\"><a href=\"#说明-5\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>H：<br>Hue(色调)。0(或360)表示红色，120表示绿色，240表示蓝色，也可取其他数值来指定颜色。取值为：0 - 360<br>S：<br>Saturation(饱和度)。取值为：0.0% - 100.0%<br>L：<br>Lightness(亮度)。取值为：0.0% - 100.0%<br>A：<br>Alpha透明度。取值0~1之间。HSLA与HSL在颜色表现方式上相同，不同就在于多了这个透明度参数，0是完全透明，1是完全不透明。</p>\n<h3 id=\"案例-5\"><a href=\"#案例-5\" class=\"headerlink\" title=\"案例\"></a>案例</h3><p>将上述代码中background-color分别替换为：”HSLA(220,100.0%,50.0%,0.1)”、”HSLA(220,100.0%,50.0%,0.3)”、”HSLA(220,100.0%,50.0%,0.5)”、<br>“HSLA(220,100.0%,50.0%,0.7)”、”HSLA(220,100.0%,50.0%,1)”，结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-color-6.png\" alt=\"\"></p>\n"},{"title":"正则表达式中的“分组”、“捕获”、“断言”、“注释”","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/14/regular-expression-group-capture-assertion-comment/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><hr>\n<h2 id=\"分组\"><a href=\"#分组\" class=\"headerlink\" title=\"分组\"></a>分组</h2><hr>\n<h2 id=\"捕获\"><a href=\"#捕获\" class=\"headerlink\" title=\"捕获\"></a>捕获</h2><hr>\n<h2 id=\"断言\"><a href=\"#断言\" class=\"headerlink\" title=\"断言\"></a>断言</h2><hr>\n<h2 id=\"注释\"><a href=\"#注释\" class=\"headerlink\" title=\"注释\"></a>注释</h2><hr>\n<h2 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h2>"},{"title":"老生常谈-HTTP中GET方法和POST方法的区别总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/13/http-get-post/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"CSS3中的transition，transform，translate和animation","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/11/css3-transition-transform-translate-animation/","content":""},{"title":"HTML5客户端存储-localStorage和sessionStorage的对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/11/html5-localstorage-sessionstorage/","content":""},{"title":"jQuery中.attr()方法和.prop()方法的对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/10/jQuery-prop-attr/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"jQuery中几个常用的工具函数","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/10/jQuery-tool-function/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"Node.js的package.json文件","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/09/nodejs-package-json/","content":""},{"title":"AngularJs的$emit和$broadcast事件分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/08/angular-emit-broadcast/","content":""},{"title":"使用AngularJs封装表格内容渲染（含分页）插件","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/07/angular-table-plugin/","content":""},{"title":"Bootstrap等前端框架栅格系统的原理","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/06/bootstrap-grid-principle/","content":""},{"title":"使用JavaScript实现短信重发倒计时","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/05/js-countdown/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"使用JavaScript实现金额格式化转换","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/05/js-amount-format/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"可视化HTML5页面拖拽构建工具的设计与开发","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/04/html5-draggable/","content":""},{"title":"常见编码格式分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/03/charset-encoding/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><h2 id=\"ASCII编码\"><a href=\"#ASCII编码\" class=\"headerlink\" title=\"ASCII编码\"></a>ASCII编码</h2><h3 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h3><p>　　ASCII，美国信息交换标准代码（American Standard Code for Information Interchange）</p>\n<h3 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h3><h3 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h3><hr>\n<h2 id=\"非ASCII编码\"><a href=\"#非ASCII编码\" class=\"headerlink\" title=\"非ASCII编码\"></a>非ASCII编码</h2><h3 id=\"原理-1\"><a href=\"#原理-1\" class=\"headerlink\" title=\"原理\"></a>原理</h3><h3 id=\"示例-1\"><a href=\"#示例-1\" class=\"headerlink\" title=\"示例\"></a>示例</h3><hr>\n<h2 id=\"Unicode编码\"><a href=\"#Unicode编码\" class=\"headerlink\" title=\"Unicode编码\"></a>Unicode编码</h2><h3 id=\"原理-2\"><a href=\"#原理-2\" class=\"headerlink\" title=\"原理\"></a>原理</h3><h3 id=\"示例-2\"><a href=\"#示例-2\" class=\"headerlink\" title=\"示例\"></a>示例</h3><h3 id=\"问题-1\"><a href=\"#问题-1\" class=\"headerlink\" title=\"问题\"></a>问题</h3><hr>\n<h2 id=\"UTF-8编码\"><a href=\"#UTF-8编码\" class=\"headerlink\" title=\"UTF-8编码\"></a>UTF-8编码</h2><h3 id=\"原理-3\"><a href=\"#原理-3\" class=\"headerlink\" title=\"原理\"></a>原理</h3><h3 id=\"示例-3\"><a href=\"#示例-3\" class=\"headerlink\" title=\"示例\"></a>示例</h3><h3 id=\"UTF-8和Unicode编码的关系\"><a href=\"#UTF-8和Unicode编码的关系\" class=\"headerlink\" title=\"UTF-8和Unicode编码的关系\"></a>UTF-8和Unicode编码的关系</h3><h3 id=\"Unicode与UTF-8之间的转换\"><a href=\"#Unicode与UTF-8之间的转换\" class=\"headerlink\" title=\"Unicode与UTF-8之间的转换\"></a>Unicode与UTF-8之间的转换</h3>"},{"title":"常见数据格式的正则表达式验证","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/03/js-common-dataformat-regexp/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　正则表达式是一种强大的工具，可以在很多场景下对我们需要的内容进行快速匹配过滤。比如，在前端提交表单时，就可以通过编写合理的正则表达式对用户输入进行首次过滤（当然服务端程序在接收到数据后一样要进行严格的数据检查，保证程序正常运行，防止通过postman等工具绕过前端验证进行恶意攻击。）</p>\n<h2 id=\"正则表达式的学习\"><a href=\"#正则表达式的学习\" class=\"headerlink\" title=\"正则表达式的学习\"></a>正则表达式的学习</h2><p>　　网上有很多系统学习正则表达式的资源，掌握基本的语法和相关机制是实现常见数据格式验证的基础。快速了解正则表达式的内容，推荐<a href=\"http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001434499503920bb7b42ff6627420da2ceae4babf6c4f2000\" target=\"_blank\" rel=\"external\">廖雪峰JavaScript教程中的正则RegExp部分</a>。<br>　　需要单独说明的是，以下提到的各种数据格式的验证，都采用JavaScript中的如下写法：<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/正则表达式/</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> strToTest = <span class=\"string\">\"待测试内容\"</span>;</span><br><span class=\"line\">reg.test(strToTest); <span class=\"comment\">//返回true或者false表明正则验证通过或失败</span></span><br><span class=\"line\">strToTest.match(reg); <span class=\"comment\">//以数组形式返回匹配正确的部分，若没有返回null</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"验证输入是否为空\"><a href=\"#验证输入是否为空\" class=\"headerlink\" title=\"验证输入是否为空\"></a>验证输入是否为空</h2><h3 id=\"表达式\"><a href=\"#表达式\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释\"><a href=\"#解释\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p><code>^</code>匹配开始，<code>$</code>匹配结束，上述表达式的意思是匹配的字符串开始结束之间没有内容。test()方法返回true则表示输入内容为空（输入空格等并不为空）。</p>\n<h2 id=\"验证输入是否为英文字母-大小写-数字\"><a href=\"#验证输入是否为英文字母-大小写-数字\" class=\"headerlink\" title=\"验证输入是否为英文字母(大小写)+数字\"></a>验证输入是否为英文字母(大小写)+数字</h2><h3 id=\"表达式-1\"><a href=\"#表达式-1\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^[a-zA-Z0-9]+$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-1\"><a href=\"#解释-1\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>分别列出小写a-z，大写A-Z，数字0-9即可。</p>\n<h2 id=\"验证输入是否为英文字母-大小写-数字-下划线\"><a href=\"#验证输入是否为英文字母-大小写-数字-下划线\" class=\"headerlink\" title=\"验证输入是否为英文字母(大小写)+数字+下划线\"></a>验证输入是否为英文字母(大小写)+数字+下划线</h2><h3 id=\"表达式-2\"><a href=\"#表达式-2\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\w+$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-2\"><a href=\"#解释-2\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>正则表达式中\\w就表示匹配一个数字或者字母，也包含了下划线。</p>\n<h2 id=\"验证输入是否为汉字\"><a href=\"#验证输入是否为汉字\" class=\"headerlink\" title=\"验证输入是否为汉字\"></a>验证输入是否为汉字</h2><h3 id=\"表达式-3\"><a href=\"#表达式-3\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^[\\u4e00-\\u9fa5]&#123;0,&#125;$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-3\"><a href=\"#解释-3\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p><code>\\u4e00</code>是汉字“一”，<code>\\u9fa5</code>是汉字“龥”，该范围包含了汉字的Unicode编码。</p>\n<h2 id=\"验证输入是否为整数\"><a href=\"#验证输入是否为整数\" class=\"headerlink\" title=\"验证输入是否为整数\"></a>验证输入是否为整数</h2><h3 id=\"表达式-4\"><a href=\"#表达式-4\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\-?[1-9]\\d*$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-4\"><a href=\"#解释-4\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>这个表达式可以用来匹配除0以外的任意正负整数。</li>\n<li>开始是一个负号“-”，用来匹配负数的负号，?表示非贪婪匹配模式（也就是说匹配尽量少的内容，一旦匹配上就不再考虑后面的字符串）。并且?表示匹配其前面的内容0次或者1次，这样就包括了正数和负数都可以。注意这里的<code>-</code>号后面不能接<code>*</code>或者<code>+</code>，必须只能至多有一个。</li>\n<li>[1-9]则表示匹配一个1-9的数字，作为整个这个整数的开头。注意这里必须将第一位这样处理，因为不能为0，无法和后面的\\d*合并。</li>\n<li>\\d*则表示后续接的0个或多个数字，和前面的部分共同构成整数。</li>\n</ol>\n<h2 id=\"验证输入是否为正整数\"><a href=\"#验证输入是否为正整数\" class=\"headerlink\" title=\"验证输入是否为正整数\"></a>验证输入是否为正整数</h2><h3 id=\"表达式-5\"><a href=\"#表达式-5\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\+?[1-9]\\d*$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-5\"><a href=\"#解释-5\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>开始可以有一个正号（最多一个），当然也可以没有。并且由于<code>+</code>在正则表达式中有特殊含义，因此必须转义。</li>\n<li>[1-9]则表示匹配一个1-9的数字，作为整个这个整数的开头。注意这里必须将第一位这样处理，因为不能为0，无法和后面的\\d*合并。</li>\n<li>\\d*则表示后续接的0个或多个数字，和前面的部分共同构成整数。</li>\n</ol>\n<h2 id=\"验证输入是否为负整数\"><a href=\"#验证输入是否为负整数\" class=\"headerlink\" title=\"验证输入是否为负整数\"></a>验证输入是否为负整数</h2><h3 id=\"表达式-6\"><a href=\"#表达式-6\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\-[1-9]\\d*$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-6\"><a href=\"#解释-6\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>一开始必须有一个负号，并且由于<code>-</code>在正则表达式中有特殊含义，因此转义。</li>\n<li>[1-9]则表示匹配一个1-9的数字，作为整个这个整数的开头。注意这里必须将第一位这样处理，因为不能为0，无法和后面的\\d*合并。</li>\n<li>\\d*则表示后续接的0个或多个数字，和前面的部分共同构成整数。</li>\n</ol>\n<h2 id=\"验证输入是否为非负整数（正整数-0）\"><a href=\"#验证输入是否为非负整数（正整数-0）\" class=\"headerlink\" title=\"验证输入是否为非负整数（正整数 + 0）\"></a>验证输入是否为非负整数（正整数 + 0）</h2><h3 id=\"表达式-7\"><a href=\"#表达式-7\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^((\\+?[1-9]\\d*)|(0))$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-7\"><a href=\"#解释-7\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>正数前面可能会有正号，<code>\\+?</code>限制有0个或者1个正号。</li>\n<li>随后是一位1-9的数字<code>[1-9]</code>，再随后是任意多位0-9的数字<code>\\d*</code>，排除掉“+02”这样无意义的写法。</li>\n<li>对于0，直接匹配(0)。</li>\n<li>上述情况，居其一，用或<code>|</code>区分，整体上必须还用括号()包起来，否则无法正确过滤”-0”这种情况。</li>\n</ol>\n<h2 id=\"验证输入是否为非正整数（负整数-0）\"><a href=\"#验证输入是否为非正整数（负整数-0）\" class=\"headerlink\" title=\"验证输入是否为非正整数（负整数 + 0）\"></a>验证输入是否为非正整数（负整数 + 0）</h2><h3 id=\"表达式-8\"><a href=\"#表达式-8\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^((\\-[1-9]\\d*)|(0))$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-8\"><a href=\"#解释-8\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>对于0，直接匹配(0)。</li>\n<li>对于小于零的负整数，开头是负号<code>-</code>，随后是一位1-9的数字<code>[1-9]</code>，再随后是任意多位0-9的数字<code>\\d*</code>。</li>\n<li>上述两种情况，居其一，用或<code>|</code>区分，整体上必须还用括号()包起来，否则无法正确过滤”-0”这种情况。</li>\n</ol>\n<h2 id=\"验证输入是否为n位的数字\"><a href=\"#验证输入是否为n位的数字\" class=\"headerlink\" title=\"验证输入是否为n位的数字\"></a>验证输入是否为n位的数字</h2><h3 id=\"表达式-9\"><a href=\"#表达式-9\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\d&#123;n&#125;$/</span>; <span class=\"comment\">//具体使用时n取某个特定数字</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-9\"><a href=\"#解释-9\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>{n}表示\\d数字的个数。</p>\n<h2 id=\"验证输入是否为至少n位的数字\"><a href=\"#验证输入是否为至少n位的数字\" class=\"headerlink\" title=\"验证输入是否为至少n位的数字\"></a>验证输入是否为至少n位的数字</h2><h3 id=\"表达式-10\"><a href=\"#表达式-10\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\d&#123;n,&#125;$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-10\"><a href=\"#解释-10\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>{n,}表示\\d数字的个数范围。</p>\n<h2 id=\"验证输入是否为m-n位的数字\"><a href=\"#验证输入是否为m-n位的数字\" class=\"headerlink\" title=\"验证输入是否为m~n位的数字\"></a>验证输入是否为m~n位的数字</h2><h3 id=\"表达式-11\"><a href=\"#表达式-11\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\d&#123;m,n&#125;$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-11\"><a href=\"#解释-11\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>{n,m}表示\\d数字的个数范围。</p>\n<h2 id=\"验证输入是否为浮点数\"><a href=\"#验证输入是否为浮点数\" class=\"headerlink\" title=\"验证输入是否为浮点数\"></a>验证输入是否为浮点数</h2><h3 id=\"表达式-12\"><a href=\"#表达式-12\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(\\-?\\d+)(\\.\\d+)?$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-12\"><a href=\"#解释-12\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>开始是一个负号“-”，用来匹配负数的负号，?表示非贪婪匹配模式（也就是说匹配尽量少的内容，一旦匹配上就不再考虑后面的字符串）。并且?表示匹配其前面的内容0次或者1次，这样就包括了正数和负数都可以。注意这里的<code>-</code>号后面不能接<code>*</code>或者<code>+</code>，必须只能至多有一个。</li>\n<li>随后<code>\\d+</code>表示1位或者多位数字，代表该浮点数的整数部分。</li>\n<li><code>\\.</code>转义表示小数点。</li>\n<li><code>\\d+</code>表示1位或者多位数字，代表该浮点数的小数部分。</li>\n</ol>\n<h2 id=\"验证输入是否为正浮点数\"><a href=\"#验证输入是否为正浮点数\" class=\"headerlink\" title=\"验证输入是否为正浮点数\"></a>验证输入是否为正浮点数</h2><h3 id=\"表达式-13\"><a href=\"#表达式-13\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-13\"><a href=\"#解释-13\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>开始一位1-9的数字<code>[1-9]</code>，再随后是任意多位0-9的数字<code>\\d*</code>，表示正浮点数整数部分（且是大于等于1的浮点数）。</li>\n<li><code>\\.</code>转义表示小数点。</li>\n<li><code>\\d*</code>表示0位或者多位数字，代表该浮点数的小数部分。</li>\n<li>再考虑0-1之间的浮点数，<code>\\d*[1-9]\\d*</code>的写法是为了防止0.000这种情况。</li>\n</ol>\n<h2 id=\"验证输入是否为负浮点数\"><a href=\"#验证输入是否为负浮点数\" class=\"headerlink\" title=\"验证输入是否为负浮点数\"></a>验证输入是否为负浮点数</h2><h3 id=\"表达式-14\"><a href=\"#表达式-14\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*)$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-14\"><a href=\"#解释-14\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>开头匹配负号’-‘</li>\n<li>考虑小于等于-1的浮点数，一位1-9的数字<code>[1-9]</code>，再随后是任意多位0-9的数字<code>\\d*</code>，表示负浮点数整数部分。</li>\n<li><code>\\.</code>转义表示小数点。</li>\n<li><code>\\d*</code>表示0位或者多位数字，代表该浮点数的小数部分。</li>\n<li>再考虑-1~0之间的浮点数，<code>0</code>直接匹配0。</li>\n<li><code>\\.</code>转义表示小数点。</li>\n<li><code>\\d*[1-9]\\d*</code>的写法是为了防止0.000这种情况。</li>\n</ol>\n<h2 id=\"验证输入是否为非负浮点数\"><a href=\"#验证输入是否为非负浮点数\" class=\"headerlink\" title=\"验证输入是否为非负浮点数\"></a>验证输入是否为非负浮点数</h2><h3 id=\"表达式-15\"><a href=\"#表达式-15\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-15\"><a href=\"#解释-15\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>前半部分<code>[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*</code>与正浮点数一样，不再赘述。</li>\n<li><code>0?</code>表示0个或1个‘0’，这是允许的，针对的是“.666”这种写法的浮点数。</li>\n<li>最后一部分直接匹配“0”，也是可以的。</li>\n</ol>\n<h2 id=\"验证输入是否为非正浮点数\"><a href=\"#验证输入是否为非正浮点数\" class=\"headerlink\" title=\"验证输入是否为非正浮点数\"></a>验证输入是否为非正浮点数</h2><h3 id=\"表达式-16\"><a href=\"#表达式-16\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(\\-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*))|0?\\.0+|0$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-16\"><a href=\"#解释-16\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>前半部分<code>\\-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*)</code>与负浮点数一样，不再赘述。</li>\n<li><code>0?</code>表示0个或1个‘0’，这是允许的，针对的是“.666”这种写法的浮点数。</li>\n<li>最后一部分直接匹配“0”，也是可以的。</li>\n</ol>\n<h2 id=\"验证输入是否为有两位小数的正实数\"><a href=\"#验证输入是否为有两位小数的正实数\" class=\"headerlink\" title=\"验证输入是否为有两位小数的正实数\"></a>验证输入是否为有两位小数的正实数</h2><h3 id=\"表达式-17\"><a href=\"#表达式-17\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^([1-9]\\d*(\\.[0-9]&#123;2&#125;)?)|(0\\.[1-9][0-9])|(0\\.[0-9][1-9])$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-17\"><a href=\"#解释-17\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>([1-9]\\d*(.[0-9]{2})?)匹配大于等于1的两位小数实数</li>\n<li>(0.[1-9][0-9])匹配0.10~0.99的两位小数实数</li>\n<li>(0.[0-9][1-9])匹配0.01~0.99（但不含0.10 0.20 0.30 … 0.90这些数）</li>\n<li>2,3中的处理是为了排除0.00这个数（非正）</li>\n</ol>\n<h2 id=\"验证输入是否为有1-3位小数的正数或负数\"><a href=\"#验证输入是否为有1-3位小数的正数或负数\" class=\"headerlink\" title=\"验证输入是否为有1~3位小数的正数或负数\"></a>验证输入是否为有1~3位小数的正数或负数</h2><h3 id=\"表达式-18\"><a href=\"#表达式-18\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(\\-)?\\d+(\\.\\d&#123;1,2&#125;)?$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-18\"><a href=\"#解释-18\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>(-)?匹配0或1个负号</li>\n<li>\\d+表示该数的整数部分</li>\n<li>(.\\d{1,3})?匹配小数点和1~3位小数</li>\n</ol>\n<h2 id=\"验证输入是否为email地址\"><a href=\"#验证输入是否为email地址\" class=\"headerlink\" title=\"验证输入是否为email地址\"></a>验证输入是否为email地址</h2><h3 id=\"表达式-19\"><a href=\"#表达式-19\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-19\"><a href=\"#解释-19\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li><code>\\w+</code>表明必须以字母数字下划线开头。</li>\n<li>随后可接任意个([-+.]\\w+)的组合。组合的内容是：一个’-‘或’+’或’.’加上至少一个字母数字下划线。</li>\n<li><code>@</code>直接匹配地址符@。</li>\n<li>@后面必须接至少一个字母数字下划线。</li>\n<li>随后可接任意个([-.]\\w+)的组合。组合的内容是：一个’-‘或’.’加上至少一个字母数字下划线。</li>\n<li>随后单独匹配一个<code>\\.</code>，表明@后面至少是二级域名。</li>\n<li>随后仍可接任意个([-.]\\w+)的组合。注意必须以字母数字下划线结尾。</li>\n</ol>\n<h2 id=\"验证输入是否为中国邮政编码\"><a href=\"#验证输入是否为中国邮政编码\" class=\"headerlink\" title=\"验证输入是否为中国邮政编码\"></a>验证输入是否为中国邮政编码</h2><h3 id=\"表达式-20\"><a href=\"#表达式-20\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\d&#123;6&#125;$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-20\"><a href=\"#解释-20\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>邮编为6位数字。另外有些地方关于邮编的正则验证是<code>[1-9]\\d{5}(?!\\d)</code>。我认为有两个问题：</p>\n<ol>\n<li>邮编第一位可以为零，比如027200：内蒙古自治区 锡林郭勒盟 正蓝旗</li>\n<li>最后加一个零宽负向先行断言<code>(?!\\d)</code>是没有必要的，想限制第六位后面没有数字，直接$即可。</li>\n</ol>\n<h2 id=\"验证输入是否为URL\"><a href=\"#验证输入是否为URL\" class=\"headerlink\" title=\"验证输入是否为URL\"></a>验证输入是否为URL</h2><h3 id=\"表达式-21\"><a href=\"#表达式-21\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-21\"><a href=\"#解释-21\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>URL的灵活性很强，因此不好找到一种能包罗万象的匹配方式，上述提供的只能说可以应对大部分，但使用时要注意，如果加上了这个限制反而导致用户本来正确合理的输入无法通过验证进而提交表单，那么不如不用。</p>\n<h2 id=\"验证输入是否为身份证号码\"><a href=\"#验证输入是否为身份证号码\" class=\"headerlink\" title=\"验证输入是否为身份证号码\"></a>验证输入是否为身份证号码</h2><h3 id=\"表达式-22\"><a href=\"#表达式-22\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(\\d&#123;15&#125;$|^\\d&#123;18&#125;$|^\\d&#123;17&#125;(x|X))$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-22\"><a href=\"#解释-22\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>早期身份证号码为15位，均为数字；后来增加为18位编码，最后一位是校验位，可能出现“10”，对应地采用罗马字母X表示。</li>\n<li>分别验证了15位数字、18位数字、17位数字+字母x/X三种情况。要注意的是每种情况必须都写结束符$，否则只要大于等于15位都会匹配成功。</li>\n<li>以上正则验证只能说是对数字位数和是否有字母做出了限定，但并不能详细校验是否符合规则-比如地区编号，性别等，这些超出了正则的验证范围（或者说正则解决起来反而会变得麻烦），这时候，想进一步验证输入，要采取更详细的办法，详见<a href=\"http://mp.weixin.qq.com/s?__biz=MzAwMzMxOTUxOA==&amp;mid=402994766&amp;idx=1&amp;sn=fbf98b406af41e2415b5d5e263682dd4&amp;scene=0#rd\" target=\"_blank\" rel=\"external\">JavaScript 18位身份证验证及身份证号码规则</a>。</li>\n</ol>\n<h2 id=\"验证输入是否为一年的12个月\"><a href=\"#验证输入是否为一年的12个月\" class=\"headerlink\" title=\"验证输入是否为一年的12个月\"></a>验证输入是否为一年的12个月</h2><h3 id=\"表达式-23\"><a href=\"#表达式-23\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(0?[1-9]|1[0-2])$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-23\"><a href=\"#解释-23\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li><code>0?</code>这种写法保证了比如9、09都可以被接受，而不是非得两位。</li>\n<li>10，11，12月单独处理。</li>\n</ol>\n<h2 id=\"验证输入是否为一月的31天\"><a href=\"#验证输入是否为一月的31天\" class=\"headerlink\" title=\"验证输入是否为一月的31天\"></a>验证输入是否为一月的31天</h2><h3 id=\"表达式-24\"><a href=\"#表达式-24\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(0?[1-9]|(1|2)[0-9]|3[0-1])$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-24\"><a href=\"#解释-24\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p><code>0?</code>这种写法保证了比如9、09都可以被接受，而不是非得两位。</p>\n<h2 id=\"验证输入是否为YYYY-MM-DD格式的日期\"><a href=\"#验证输入是否为YYYY-MM-DD格式的日期\" class=\"headerlink\" title=\"验证输入是否为YYYY-MM-DD格式的日期\"></a>验证输入是否为YYYY-MM-DD格式的日期</h2><h3 id=\"表达式-25\"><a href=\"#表达式-25\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-25\"><a href=\"#解释-25\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li><p>考虑了平年闰年。</p>\n</li>\n<li><p><code>(?:(?!0000)[0-9]{4}</code>匹配年份。<br>2.1 <code>?:</code>表明这是非捕获分组，后面括号匹配到的内容不会被存入内存中，这样是为了提高匹配效率和性能（后面大量出现<code>?:</code>，都是这个作用）。<br>2.2 <code>?!</code>表明这是零宽负向先行断言，表明在此位置后面的不是“0000”才会匹配，结合<code>[0-9]{4}</code>来看，这是为了去掉年份为“0000”的。</p>\n</li>\n<li><p>后面分多种情况匹配了月和日：<br>　3.1 “(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)”<br>　　3.1.1 “?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])”<br>　　　　3.1.1.1 “?:(?:0[1-9]|1[0-2])”<br>　　　　　　匹配01-09月，以及10-12月。<br>　　　　3.1.1.2 “(?:0[1-9]|1[0-9]|2[0-8])”<br>　　　　　　匹配01-09日，10-19日，20-28日。这些是任何一年的任何一个月都会有的日期。<br>　　3.1.2 “(?:0[13-9]|1[0-2])-(?:29|30)”<br>　　　　3.1.2.1 “(?:0[13-9]|1[0-2])”<br>　　　　　　匹配01月、03-09月，以及10-12月。也就是除去02月，考虑到02月只有28/29天。<br>　　　　3.1.2.2 “(?:29|30)”<br>　　　　　　当月份匹配01月、03-09月，以及10-12月时，对应的日就可以有29、30日。<br>　　3.1.3 “(?:0[13578]|1[02])-31)”<br>　　　　3.1.3.1 “(?:0[13578]|1[02])”<br>　　　　　　匹配01,03,05,07,08,10,12月，这些月份会有31号。<br>　　　　3.1.3.2 “-31”<br>　　　　　　匹配31日。<br>　3.2 “(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29”<br>　　3.2.1 “(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)”<br>　　　　3.2.1.1 “(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])”<br>　　　　　　从3.2开始是匹配一些特殊的年份-闰年。即年份“能被400整除”或者“能被4整除且不能被100整除”的。先考虑“能被4整除且不能被100整除”：前两位0-9皆可。后两位只要不是“00”，就能保证不被100整除，因此只需要考虑后两位被4整除的情况，也就是考虑01-99之中能被4整除的有哪些，即(?:0[48]|[2468][048]|[13579][26])。<br>　　　　3.2.1.2 “(?:0[48]|[2468][048]|[13579][26])00”<br>　　　　　　再考虑“能被400整除”的，后两位肯定是00，考虑前两位。只要前两位能被4整除即可，也即(?:0[48]|[2468][048]|[13579][26])。<br>　　3.2.2 “-02-29”<br>　　　　处理完年份后，即得到所有的闰年后，月日就是固定的02-29。</p>\n</li>\n</ol>\n<h2 id=\"验证输入是否为YYYY-MM-DD-hh-mm-ss格式的日期\"><a href=\"#验证输入是否为YYYY-MM-DD-hh-mm-ss格式的日期\" class=\"headerlink\" title=\"验证输入是否为YYYY-MM-DD hh:mm:ss格式的日期\"></a>验证输入是否为YYYY-MM-DD hh:mm:ss格式的日期</h2><h3 id=\"表达式-26\"><a href=\"#表达式-26\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29) (([0-1][0-9])|(2[0-3]))\\:[0-5][0-9]\\:[0-5][0-9]$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-26\"><a href=\"#解释-26\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>YYYY-MM-DD部分与上面相同，不再赘述。</li>\n<li><code>(([0-1][0-9])|(2[0-3]))</code>整体是一个分组，要加括号，匹配时：00-23</li>\n<li><code>[0-5][0-9]</code>，匹配分：00-59</li>\n<li><code>[0-5][0-9]</code>，匹配秒：00-59</li>\n</ol>\n<h2 id=\"验证输入是否为hh-mm-ss格式的时间\"><a href=\"#验证输入是否为hh-mm-ss格式的时间\" class=\"headerlink\" title=\"验证输入是否为hh:mm:ss格式的时间\"></a>验证输入是否为hh:mm:ss格式的时间</h2><h3 id=\"表达式-27\"><a href=\"#表达式-27\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(([0-1][0-9])|(2[0-3]))\\:[0-5][0-9]\\:[0-5][0-9]$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-27\"><a href=\"#解释-27\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>与上面的hh:mm:ss相同，不再赘述。</p>\n<h2 id=\"验证输入是否为手机号码\"><a href=\"#验证输入是否为手机号码\" class=\"headerlink\" title=\"验证输入是否为手机号码\"></a>验证输入是否为手机号码</h2><h3 id=\"表达式-28\"><a href=\"#表达式-28\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^1[3|4|5|7|8]\\d&#123;9&#125;$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-28\"><a href=\"#解释-28\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>号段分布<br>中国移动号段：<br>134 135 136 137 138 139 147 150 151 152 157 158 159 178 182 183 184 187 188<br>中国联通号段：<br>130 131 132 145 155 156 171 175 176 185 186<br>中国电信号段：<br>133 149 153 173 177 180 181 189<br>虚拟运营商:<br>170</li>\n<li>第一位匹配1即可。</li>\n<li>第二位从上面的分布看有3,4,5,7,8。</li>\n<li>后面的9位可以是任意9位数字。</li>\n<li>该正则基于以上号段，号段可能会更新，因此相应正则表达式也需要调整。</li>\n</ol>\n<h2 id=\"验证输入是否为中国座机号码\"><a href=\"#验证输入是否为中国座机号码\" class=\"headerlink\" title=\"验证输入是否为中国座机号码\"></a>验证输入是否为中国座机号码</h2><h3 id=\"表达式-29\"><a href=\"#表达式-29\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\d&#123;3&#125;-\\d&#123;8&#125;|\\d&#123;4&#125;-\\d&#123;7&#125;$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-29\"><a href=\"#解释-29\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li>考虑区号3位，电话号8位的情况，格式示例010-62281100</li>\n<li>考虑区号4位，电话号7位的情况，格式示例0532-1111111</li>\n<li>考虑区号4位，电话号8位的情况，格式示例0571-88856088</li>\n</ol>\n<h2 id=\"验证输入是否为IPV4地址\"><a href=\"#验证输入是否为IPV4地址\" class=\"headerlink\" title=\"验证输入是否为IPV4地址\"></a>验证输入是否为IPV4地址</h2><h3 id=\"表达式-30\"><a href=\"#表达式-30\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-30\"><a href=\"#解释-30\" class=\"headerlink\" title=\"解释\"></a>解释</h3><ol>\n<li><code>\\b</code>代表着单词的开头或结尾，也就是单词的分界处。此处使用的意思是IP地址前后要是“分开的”，没有和其他任何内容连在一起</li>\n<li>“(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}”<br>IPV4格式为“xxx.xxx.xxx.xxx”,这部分匹配前三个，还带上了点号”.”。一共考虑了这几种情况：<br>　2.1 <code>[01]?[0-9][0-9]?</code>: 可能只有一位，如0.0.0.0；可能两位：如10.3.8.211；可能三位，如121.43.160.59<br>　2.2 <code>2[0-4][0-9]</code>: 考虑200~249的情况<br>　2.3 <code>25[0-5]</code>: 考虑250-255的情况</li>\n</ol>\n<h2 id=\"验证输入是否为IPV6地址\"><a href=\"#验证输入是否为IPV6地址\" class=\"headerlink\" title=\"验证输入是否为IPV6地址\"></a>验证输入是否为IPV6地址</h2><h3 id=\"表达式-31\"><a href=\"#表达式-31\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(([0-9a-fA-F]&#123;1,4&#125;:)&#123;7&#125;[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,7&#125;:|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,6&#125;:[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,5&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,2&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,3&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,3&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,2&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,5&#125;|[0-9a-fA-F]&#123;1,4&#125;:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,6&#125;)|:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,7&#125;|:)|fe80:(:[0-9a-fA-F]&#123;0,4&#125;)&#123;0,4&#125;%[0-9a-zA-Z]&#123;1,&#125;|::(ffff(:0&#123;1,4&#125;)&#123;0,1&#125;:)&#123;0,1&#125;((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;:((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9]))$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-31\"><a href=\"#解释-31\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"验证输入是否为密码要求的格式\"><a href=\"#验证输入是否为密码要求的格式\" class=\"headerlink\" title=\"验证输入是否为密码要求的格式\"></a>验证输入是否为密码要求的格式</h2><h3 id=\"表达式-32\"><a href=\"#表达式-32\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^[a-zA-Z]\\w&#123;5,19&#125;$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-32\"><a href=\"#解释-32\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>密码格式要求不是固定的，上述只是其中一种：以字母开头，只能包含大小写字母、数字、下划线。长度在6~20位。</p>\n<h2 id=\"验证输入密码安全强度\"><a href=\"#验证输入密码安全强度\" class=\"headerlink\" title=\"验证输入密码安全强度\"></a>验证输入密码安全强度</h2><h3 id=\"表达式-33\"><a href=\"#表达式-33\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).&#123;15,20&#125;$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-33\"><a href=\"#解释-33\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>1.”.”在正则中表示“元字符”，它可以匹配除”\\n”以外的任何字符。<br>2.”?=pattern”是一个零宽正向先行断言，紧接该位置之后的字符序列能够匹配pattern。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。<br>3.”(?=.<em>\\d)(?=.</em>[a-z])(?=.*[A-Z])”这段表示在有任意个除”\\n”以外的任何字符的同时，密码中必须包括数字，大小写字母。<br>4.多长的密码算“高强度”，视需求而定，这里取15位以上为高强度。</p>\n<h2 id=\"验证输入是否为常见HTML标签\"><a href=\"#验证输入是否为常见HTML标签\" class=\"headerlink\" title=\"验证输入是否为常见HTML标签\"></a>验证输入是否为常见HTML标签</h2><h3 id=\"表达式-34\"><a href=\"#表达式-34\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-34\"><a href=\"#解释-34\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"匹配HTML文档中的注释\"><a href=\"#匹配HTML文档中的注释\" class=\"headerlink\" title=\"匹配HTML文档中的注释\"></a>匹配HTML文档中的注释</h2><h3 id=\"表达式-35\"><a href=\"#表达式-35\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-35\"><a href=\"#解释-35\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"匹配HTML文档中的超链接\"><a href=\"#匹配HTML文档中的超链接\" class=\"headerlink\" title=\"匹配HTML文档中的超链接\"></a>匹配HTML文档中的超链接</h2><h3 id=\"表达式-36\"><a href=\"#表达式-36\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-36\"><a href=\"#解释-36\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"匹配HTML文档中的图片\"><a href=\"#匹配HTML文档中的图片\" class=\"headerlink\" title=\"匹配HTML文档中的图片\"></a>匹配HTML文档中的图片</h2><h3 id=\"表达式-37\"><a href=\"#表达式-37\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-37\"><a href=\"#解释-37\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"匹配HTML文档中的URL\"><a href=\"#匹配HTML文档中的URL\" class=\"headerlink\" title=\"匹配HTML文档中的URL\"></a>匹配HTML文档中的URL</h2><h3 id=\"表达式-38\"><a href=\"#表达式-38\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-38\"><a href=\"#解释-38\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"匹配空白行\"><a href=\"#匹配空白行\" class=\"headerlink\" title=\"匹配空白行\"></a>匹配空白行</h2><h3 id=\"表达式-39\"><a href=\"#表达式-39\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-39\"><a href=\"#解释-39\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"匹配首尾空白字符\"><a href=\"#匹配首尾空白字符\" class=\"headerlink\" title=\"匹配首尾空白字符\"></a>匹配首尾空白字符</h2><h3 id=\"表达式-40\"><a href=\"#表达式-40\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^\\s*|\\s*$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-40\"><a href=\"#解释-40\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p><code>\\s</code>匹配任何空白字符，包括空格、制表符、换页符、回车符、换行符等等。等价于 [\\f\\n\\r\\t\\v]。</p>\n<h2 id=\"匹配双字节字符\"><a href=\"#匹配双字节字符\" class=\"headerlink\" title=\"匹配双字节字符\"></a>匹配双字节字符</h2><h3 id=\"表达式-41\"><a href=\"#表达式-41\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-41\"><a href=\"#解释-41\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"匹配中文标点符号\"><a href=\"#匹配中文标点符号\" class=\"headerlink\" title=\"匹配中文标点符号\"></a>匹配中文标点符号</h2><h3 id=\"表达式-42\"><a href=\"#表达式-42\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^[\\u3002|\\uff1f|\\uff01|\\uff0c|\\u3001|\\uff1b|\\uff1a|\\u201c|\\u201d|\\u2018|\\u2019|\\uff08|\\uff09|\\u300a|\\u300b|\\u3008|\\u3009|\\u3010|\\u3011|\\u300e|\\u300f|\\u300c|\\u300d|\\ufe43|\\ufe44|\\u3014|\\u3015|\\u2026|\\u2014|\\uff5e|\\ufe4f|\\uffe5]+$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-42\"><a href=\"#解释-42\" class=\"headerlink\" title=\"解释\"></a>解释</h3><p>上述表达式匹配了如下常见的中文标点符号：<br>。 ？ ！ ， 、 ； ： “ ” ‘ ‘ （ ） 《 》 〈 〉 【 】 『 』 「 」 ﹃ ﹄ 〔 〕 … — ～ ﹏ ￥</p>\n<h2 id=\"检查URL的前缀\"><a href=\"#检查URL的前缀\" class=\"headerlink\" title=\"检查URL的前缀\"></a>检查URL的前缀</h2><h3 id=\"表达式-43\"><a href=\"#表达式-43\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-43\"><a href=\"#解释-43\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"检查文件扩展名\"><a href=\"#检查文件扩展名\" class=\"headerlink\" title=\"检查文件扩展名\"></a>检查文件扩展名</h2><h3 id=\"表达式-44\"><a href=\"#表达式-44\" class=\"headerlink\" title=\"表达式\"></a>表达式</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"解释-44\"><a href=\"#解释-44\" class=\"headerlink\" title=\"解释\"></a>解释</h3><h2 id=\"金额格式相关\"><a href=\"#金额格式相关\" class=\"headerlink\" title=\"金额格式相关\"></a>金额格式相关</h2>"},{"title":"使用CSS3实现斑马线表格和hover效果","url":"http://www.gcidea.info/welcome-to-this-page/2016/08/02/js-table-even-odd-hover/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><hr>\n<h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><hr>\n<h2 id=\"HTML文档基本结构\"><a href=\"#HTML文档基本结构\" class=\"headerlink\" title=\"HTML文档基本结构\"></a>HTML文档基本结构</h2><hr>\n<h2 id=\"CSS样式控制\"><a href=\"#CSS样式控制\" class=\"headerlink\" title=\"CSS样式控制\"></a>CSS样式控制</h2><hr>\n<h2 id=\"JavaScript主要逻辑\"><a href=\"#JavaScript主要逻辑\" class=\"headerlink\" title=\"JavaScript主要逻辑\"></a>JavaScript主要逻辑</h2><hr>\n<h2 id=\"实际效果\"><a href=\"#实际效果\" class=\"headerlink\" title=\"实际效果\"></a>实际效果</h2>"},{"title":"使用JavaScript实现表格表头点击排序","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/30/js-table-sort/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><hr>\n<h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><hr>\n<h2 id=\"HTML文档基本结构\"><a href=\"#HTML文档基本结构\" class=\"headerlink\" title=\"HTML文档基本结构\"></a>HTML文档基本结构</h2><hr>\n<h2 id=\"CSS样式控制\"><a href=\"#CSS样式控制\" class=\"headerlink\" title=\"CSS样式控制\"></a>CSS样式控制</h2><hr>\n<h2 id=\"JavaScript主要逻辑\"><a href=\"#JavaScript主要逻辑\" class=\"headerlink\" title=\"JavaScript主要逻辑\"></a>JavaScript主要逻辑</h2><hr>\n<h2 id=\"实际效果\"><a href=\"#实际效果\" class=\"headerlink\" title=\"实际效果\"></a>实际效果</h2>"},{"title":"JavaScript异步编程案例","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/29/js-async-programming/","content":""},{"title":"URL编码探究","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/28/url-encoding/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><hr>\n<h2 id=\"RFC1738标准文档规定\"><a href=\"#RFC1738标准文档规定\" class=\"headerlink\" title=\"RFC1738标准文档规定\"></a>RFC1738标准文档规定</h2><hr>\n<h2 id=\"常见编码方式\"><a href=\"#常见编码方式\" class=\"headerlink\" title=\"常见编码方式\"></a>常见编码方式</h2><hr>\n<h2 id=\"不同场景下的URL编码方式\"><a href=\"#不同场景下的URL编码方式\" class=\"headerlink\" title=\"不同场景下的URL编码方式\"></a>不同场景下的URL编码方式</h2><h3 id=\"直接输入-URL的pathinfo中\"><a href=\"#直接输入-URL的pathinfo中\" class=\"headerlink\" title=\"直接输入-URL的pathinfo中\"></a>直接输入-URL的pathinfo中</h3><h3 id=\"直接输入-URL的queryString中\"><a href=\"#直接输入-URL的queryString中\" class=\"headerlink\" title=\"直接输入-URL的queryString中\"></a>直接输入-URL的queryString中</h3><h3 id=\"使用HTTP的GET或POST方法（提交表单）\"><a href=\"#使用HTTP的GET或POST方法（提交表单）\" class=\"headerlink\" title=\"使用HTTP的GET或POST方法（提交表单）\"></a>使用HTTP的GET或POST方法（提交表单）</h3><h3 id=\"使用JavaScript发起异步ajax请求\"><a href=\"#使用JavaScript发起异步ajax请求\" class=\"headerlink\" title=\"使用JavaScript发起异步ajax请求\"></a>使用JavaScript发起异步ajax请求</h3><hr>\n<h2 id=\"JavaScript中的相关编码函数\"><a href=\"#JavaScript中的相关编码函数\" class=\"headerlink\" title=\"JavaScript中的相关编码函数\"></a>JavaScript中的相关编码函数</h2><hr>\n<h2 id=\"常见的URL编码值\"><a href=\"#常见的URL编码值\" class=\"headerlink\" title=\"常见的URL编码值\"></a>常见的URL编码值</h2><blockquote>\n<p>参考<br><a href=\"http://www.ruanyifeng.com/blog/2010/02/url_encoding.html\" target=\"_blank\" rel=\"external\">关于URL编码 阮一峰</a><br><a href=\"http://kb.cnblogs.com/page/133765/\" target=\"_blank\" rel=\"external\">URL编码与解码</a><br><a href=\"http://blog.jobbole.com/42246/\" target=\"_blank\" rel=\"external\">Web开发者应知的URL编码知识</a><br><a href=\"http://www.cnblogs.com/haitao-fan/p/3399018.html\" target=\"_blank\" rel=\"external\">浏览器URL编码</a></p>\n</blockquote>\n"},{"title":"【转·译】编写不唐突的JavaScript(unobtrusive-javascript)的七条准则","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/27/seven-rules-of-unobtrusive-javascript/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　“unobtrusive javascript—不唐突的JavaScript”最早是从《JavaScript权威指南》中看到，13.2节最先出现了这个概念。我认为也可以描述成“优雅的JavaScript”，指的是那些拥有良好的编码规范，易于维护的JavaScript写法和注意事项。进而在网上看到了这篇“编写不唐突的JavaScript(unobtrusive-javascript)的七条准则”，做以记录和分享。</p>\n<hr>\n<h2 id=\"原文内容\"><a href=\"#原文内容\" class=\"headerlink\" title=\"原文内容\"></a>原文内容</h2><h3 id=\"不要做任何假设（JavaScript是一个不可靠的助手）\"><a href=\"#不要做任何假设（JavaScript是一个不可靠的助手）\" class=\"headerlink\" title=\"不要做任何假设（JavaScript是一个不可靠的助手）\"></a>不要做任何假设（JavaScript是一个不可靠的助手）</h3><ul>\n<li>不要假设JavaScript是可用的，你最好认为它很有可能是不可用的，而不是直接依赖于它。</li>\n<li>在你经过测试确认一些方法和属性可以使用之前，不要假设浏览器支持它们。</li>\n<li>不要假设HTML代码如你想象的那样正确，每次都要进行检查，并且当其不可用的时候就什么也不要做。</li>\n<li>让JavaScript的功能独立于输入设备。</li>\n<li>要记住其他的脚本可能会影响你的JavaScript的功能，所以要保证你的脚本的作用域尽可能地安全。</li>\n</ul>\n<p>在开始设计你的脚本之前，要考虑的第一件事情就是检查一下你要为其编写脚本的HTML代码，看看有什么东西可以帮助你达到目的。</p>\n<hr>\n<h3 id=\"找出钩子和节点关系（HTML是脚本的基石）\"><a href=\"#找出钩子和节点关系（HTML是脚本的基石）\" class=\"headerlink\" title=\"找出钩子和节点关系（HTML是脚本的基石）\"></a>找出钩子和节点关系（HTML是脚本的基石）</h3><p>　　在开始编写脚本之前，要先看一下你要为之编写JavaScript的HTML。如果HTML是未经组织的或者未知的，那么你几乎不可能有一个好的脚本编写方案——很可能就会出现下面的情况：要么是会用JavaScript创建太多标记，要么就是应用太依赖于JavaScript。<br>　　在HTML中有一些东西需要考虑，那就是钩子和节点关系。<br>(1) HTML 钩子<br>　　HTML最初的和最重要的钩子就是ID，而且ID可以通过最快的DOM方法——getElementById访问到。如果在一个有效的HTML文档中所有的ID都是独一无二的话（在IE中关于name和ID有一个bug，不过有些好的类库解决了这个问题），使用ID就是安全可靠的，并且易于测试，而且如果直接用name来作为对象进行操作，在FF下是无效的，会报此对象未定义的错误。<br>　　其他一些钩子就是是HTML元素和CSS类，HTML元素可以通过getElementsByTagName方法访问，而在多数浏览器中都还不能通过原生的DOM方法来访问CSS类。不过，有很多外部类库提供了可以访问CSS类名（类似于 getElementsByClassName） 的方法。</p>\n<p>(2) HTML 节点关系<br>　　关于HTML的另外比较有意思的一点就是标记之间的关系，思考下面的问题：</p>\n<ul>\n<li>要怎样才可以最容易地、通过最少的DOM遍历来到达目标节点？</li>\n<li>通过修改什么标记，可以尽可能多地访问到需要修改的子节点？</li>\n<li>一个给定的元素有什么属性或信息可以用来到达另外一个元素？</li>\n</ul>\n<p>遍历DOM很耗资源而且速度很慢，这就是为什么要尽量使用浏览器中已经在使用的技术来做这件事情。</p>\n<hr>\n<h3 id=\"把遍历交给专家来做-（CSS，更快地遍历DOM）\"><a href=\"#把遍历交给专家来做-（CSS，更快地遍历DOM）\" class=\"headerlink\" title=\"把遍历交给专家来做 （CSS，更快地遍历DOM）\"></a>把遍历交给专家来做 （CSS，更快地遍历DOM）</h3><p>　　有关DOM的脚本和使用方法或属性（getElementsByTagName, nextSibling, previousSibling,parentNode以及其它）来遍历DOM似乎迷惑了很多人，这点很有意思。而有趣的是，我们其实早已经通过另外一种技术—CSS—做了这些事情。<br>　　CSS是这样一种技术，它使用CSS选择器，通过遍历DOM来访问目标元素并改变它们的视觉属性。一段复杂的使用DOM的JavaScript可以用一个CSS选择器取代：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var n = document.getElementById('nav');  </span><br><span class=\"line\">if(n)&#123;  </span><br><span class=\"line\">    var as = n.getElementsByTagName('a');  </span><br><span class=\"line\">    if(as.length &gt; 0)&#123;  </span><br><span class=\"line\">        for(var i=0;as[i];i++)&#123;  </span><br><span class=\"line\">            as[i].style.color = '#369';  </span><br><span class=\"line\">            as[i].style.textDecoration = 'none';  </span><br><span class=\"line\">        &#125;  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"> </span><br><span class=\"line\">/* 下面的代码与上面功能一样 */ </span><br><span class=\"line\"> </span><br><span class=\"line\">#nav a&#123;  </span><br><span class=\"line\">    color:#369;  </span><br><span class=\"line\">    text-decoration:none;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>这是一个可以好好利用的很强大的技巧。你可以通过动态为DOM中高层的元素添加class或者更改元素ID来实现这一点。如果你使用DOM为文档的body添加了一个CSS类，那么设计师就很可以容易地定义文档的静态版本和动态版本。如下所示：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JavaScript:  </span><br><span class=\"line\"> </span><br><span class=\"line\">var dynamicClass = 'js';  </span><br><span class=\"line\">var b = document.body;  </span><br><span class=\"line\">b.className = b.className ? b.className + ' js' : 'js';  </span><br><span class=\"line\"> </span><br><span class=\"line\">CSS:  </span><br><span class=\"line\"> </span><br><span class=\"line\">/* 静态版本 */ </span><br><span class=\"line\"> </span><br><span class=\"line\">#nav &#123;  </span><br><span class=\"line\">...</span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"> </span><br><span class=\"line\">/* 动态版本 */ </span><br><span class=\"line\"> </span><br><span class=\"line\">body.js #nav &#123;  </span><br><span class=\"line\">...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h3 id=\"理解浏览器和用户（在既有的使用模式上创建你所需要的东西）\"><a href=\"#理解浏览器和用户（在既有的使用模式上创建你所需要的东西）\" class=\"headerlink\" title=\"理解浏览器和用户（在既有的使用模式上创建你所需要的东西）\"></a>理解浏览器和用户（在既有的使用模式上创建你所需要的东西）</h3><p>　　理解浏览器是如何工作的（尤其是浏览器是如何崩溃的）以及用户期望的是什么。不考虑浏览器你也可以很容易地使用JavaScript创建一个完全不同的界面。拖拽界面，折叠区域，滚动条和滑动块都可以使用JavaScript创建，但是这个问题并不是个简单的技术问题，你需要思考下面的问题：</p>\n<ul>\n<li>这个新界面可以独立于输入设备么？如果不能，那么可以依赖哪些东西？</li>\n<li>我创建的这个新界面是否遵循了浏览器或者其它富界面的准则（你可以通过鼠标在多级菜单中直接切换吗？还是需要使用tab键？）</li>\n<li>我需要提供什么功能但是这个功能是依赖于JavaScript的?</li>\n</ul>\n<p>　　最后一个问题其实不是问题，因为如果需要你就可以使用DOM来凭空创建HTML。关于这点的一个例子就是“打印”链接，由于浏览器没有提供一个非JavaScript的打印文档功能，所以你需要使用DOM来创建这类链接。同样地，一个实现了展开和收缩内容模块的、可以点击的标题栏也属于这种情况。标题栏不能被键盘激活，但是链接可以。所以为了创建一个可以点击的标题栏你需要使用JavaScript将链接加入进去，然后所有使用键盘的用户就可以收缩和展开内容模块了。解决这类问题的极好的资源就是设计模式库。至于要知道浏览器中的哪些东西是独立于输入设备的，那就要靠经验的积累了。首先你要理解的就是事件处理机制。</p>\n<hr>\n<h3 id=\"理解事件（事件处理会引起改变）\"><a href=\"#理解事件（事件处理会引起改变）\" class=\"headerlink\" title=\"理解事件（事件处理会引起改变）\"></a>理解事件（事件处理会引起改变）</h3><p>　　事件处理是走向不唐突的JavaScript的第二步。重点不是让所有的东西都变得可以拖拽、可以点击或者为它们添加内联处理，而是理解事件处理是一个可以完全分离出来的东西。我们已经将HTML，CSS和JavaScript分离开来，但是在事件处理的分离方面却没有走得很远。<br>　　事件处理器会监听发生在文档中元素上的变化，如果有事件发生，处理器就会找到一个很奇妙的对象（一般会是一个名为e的参数），这个对象会告诉元素发生了什么以及可以用它做什么。<br>　　对于大多数事件处理来说，真正有趣的是它不止发生在你想要访问的元素上，还会在DOM中较高层级的所有元素上发生（即事件冒泡，但是并不是所有的事件都是这样，focus和blur事件是例外）。举例来说，利用这个特性你可以为一个导航列表只添加一个事件处理器，并且使用事件处理器的方法来获取真正触发事件的元素。这种技术叫做事件委托，它有几点好处：</p>\n<ul>\n<li>你只需要检查一个元素是否存在，而不需要检查每个元素 </li>\n<li>你可以动态地添加或者删除子节点而并不需要删除相应的事件处理器 </li>\n<li>你可以在不同的元素上对相同的事件做出响应 </li>\n</ul>\n<p>　　需要记住的另一件事是，在事件向父元素传播的时候你可以停止它而且你可以覆写掉HTML元素（比如链接）的缺省行为。不过，有时候这并不是个好主意，因为浏览器赋予HTML元素那些行为是有原因的。举个例子，链接可能会指向页面内的某个目标，不去修改它们能确保用户可以将页面当前的脚本状态也加入书签。</p>\n<hr>\n<h3 id=\"为他人着想（命名空间，作用域和模式）\"><a href=\"#为他人着想（命名空间，作用域和模式）\" class=\"headerlink\" title=\"为他人着想（命名空间，作用域和模式）\"></a>为他人着想（命名空间，作用域和模式）</h3><p>　　你的代码几乎从来不会是文档中的唯一的脚本代码。所以保证你的代码里没有其它脚本可以覆盖的全局函数或者全局变量就显得尤为重要。有一些可用的模式可以来避免这个问题，最基础的一点就是要使用<code>var</code>关键字来初始化所有的变量。假设我们编写了下面的脚本：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nav = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'nav'</span>);  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    show();  </span><br><span class=\"line\">    <span class=\"keyword\">if</span>(nav.className === <span class=\"string\">'show'</span>)&#123;  </span><br><span class=\"line\">        reset();  </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\"><span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reset</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\"><span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>上面的代码中包含了一个叫做nav的全局变量和名字分别为 init,show 和 reset 的三个函数。这些函数都可以访问到nav这个变量并且可以通过函数名互相访问:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nav = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'nav'</span>);  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    show();  </span><br><span class=\"line\">    <span class=\"keyword\">if</span>(nav.className === <span class=\"string\">'show'</span>)&#123;  </span><br><span class=\"line\">    reset();  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> c = nav.className;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reset</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>你可以将代码封装到一个对象中来避免上面的那种全局式编码，这样就可以将函数变成对象中的方法，将全局变量变成对象中的属性。你需要使用“名字+冒号”的方式来定义方法和属性，并且需要在每个属性或方法后面加上逗号作为分割符。如下所示：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> myScript = &#123;  </span><br><span class=\"line\">    nav: <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'nav'</span>),  </span><br><span class=\"line\">    init: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;,  </span><br><span class=\"line\">    show: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;,  </span><br><span class=\"line\">    reset: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>所有的方法和属性都可以通过使用“类名+点操作符”的方式从外部和内部访问到。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> myScript = &#123;  </span><br><span class=\"line\">    nav: <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'nav'</span>),  </span><br><span class=\"line\">    init: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        myScript.show();  </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(myScript.nav.className === <span class=\"string\">'show'</span>)&#123;  </span><br><span class=\"line\">            myScript.reset();  </span><br><span class=\"line\">        &#125;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;,  </span><br><span class=\"line\">    show:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"keyword\">var</span> c = myScript.nav.className;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;,  </span><br><span class=\"line\">    reset:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>这种模式的缺点就是，你每次从一个方法中访问其它方法或属性都必须在前面加上对象的名字，而且对象中的所有东西都是可以从外部访问的。如果你只是想要部分代码可以被文档中的其他脚本访问，可以考虑下面的模块（module）模式：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> myScript = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">//这些都是私有方法和属性  </span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> nav = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'nav'</span>);  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reset</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//公有的方法和属性被使用对象语法包装在return 语句里面  </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        public:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        foo:<span class=\"string\">'bar'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;();</span><br></pre></td></tr></table></figure></p>\n<p>你可以使用和前面的代码同样的方式访问返回的公有的属性和方法，在本示例中可以这么访问：myScript.public() 和 myScript.foo 。但是这里还有一点让人觉得不舒服：当你想要从外部或者从内部的一个私有方法中访问公有方法的时候，还是要写一个冗长的名字（对象的名字可以非常长）。为了避免这一点，你需要将它们定义为私有的并且在return语句中只返回一个别名：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> myScript = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// 这些都是私有方法和属性  </span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> nav = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'nav'</span>);  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reset</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> foo = <span class=\"string\">'bar'</span>;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">public</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"comment\">//只返回指向那些你想要访问的私有方法和属性的指针 </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;  </span><br><span class=\"line\">        public:public,  </span><br><span class=\"line\">        foo:foo  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;();</span><br></pre></td></tr></table></figure></p>\n<p>这就保证了代码风格一致性，并且你可以使用短一点的别名来访问其中的方法或属性。 </p>\n<p>如果你不想对外部暴露任何的方法或属性，你可以将所有的代码封装到一个匿名方法中，并在它的定义结束后立刻执行它：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// these are all private methods and properties  </span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> nav = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'nav'</span>);  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">        show(); <span class=\"comment\">// 这里不需要类名前缀  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reset</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure></p>\n<p>对于那些只执行一次并且对其它函数没有依赖的代码模块来说，这种模式非常好。 </p>\n<p>通过遵循上面的那些规则，你的代码更好地为用户工作，也可以使你的代码在机器上更好地运行并与其他开发者的代码和睦相处。不过，还有一个群体需要考虑到。 </p>\n<hr>\n<h3 id=\"为接手的开发者考虑（使维护更加容易）\"><a href=\"#为接手的开发者考虑（使维护更加容易）\" class=\"headerlink\" title=\"为接手的开发者考虑（使维护更加容易）\"></a>为接手的开发者考虑（使维护更加容易）</h3><p>使你的脚本真正地unobtrusive的最后一步是在编写完代码之后仔细检查一遍，并且要照顾到一旦脚本上线之后要接手你的代码的开发者。考虑下面的问题： </p>\n<ul>\n<li>所有的变量和函数名字是否合理并且易于理解？ </li>\n<li>代码是否经过了合理的组织？从头到尾都很流畅吗？ </li>\n<li>所有的依赖都显而易见吗？ </li>\n<li>在那些可能引起混淆的地方都添加了注释吗？ </li>\n</ul>\n<p>最重要的一点是：要认识到文档中的HTML和CSS代码相对于JavaScript来说更有可能被改变（因为它们负责视觉效果）。所以不要在脚本代码中包含任何可以让终端用户看到的class和ID，而是要将它们分离出来放到一个保存配置信息的对象中:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">myscript = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> config = &#123;  </span><br><span class=\"line\">        navigationID:<span class=\"string\">'nav'</span>,  </span><br><span class=\"line\">        visibleClass:<span class=\"string\">'show'</span>  </span><br><span class=\"line\">    &#125;;  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> nav = <span class=\"built_in\">document</span>.getElementById(config.navigationID);  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        show();  </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nav.className === config.visibleClass)&#123;  </span><br><span class=\"line\">        reset();  </span><br><span class=\"line\">        &#125;;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"keyword\">var</span> c = nav.className;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reset</span>(<span class=\"params\"></span>)</span>&#123;  </span><br><span class=\"line\">        <span class=\"comment\">// do stuff  </span></span><br><span class=\"line\">    &#125;;  </span><br><span class=\"line\">&#125;();</span><br></pre></td></tr></table></figure></p>\n<p>这样维护者就知道去哪里修改这些属性，而不需要改动其他代码，这一点对于大量版本迭代维护十分重要。 </p>\n<hr>\n"},{"title":"Base64编码探究","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/26/base64/","content":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>　　Base64编码是网络传输中的一种常见编码方式。可用于传输任意的8bit(字节Byte)数据，经过编码后的数据不是直接可读的，但也由此保证了一定的安全性和很好的可移植性。这种编解码的算法十分简单，编码后的数据大小仅增加三分之一左右(原因后续讲到)，因而不会对传输造成过大压力。<br>　　我们需要明确的概念是，Base64编码<strong>本质上是将二进制数据编码为文本字符</strong>。而这些二进制数据的来源则可能有很多，比如：</p>\n<blockquote>\n<ul>\n<li>本来就是二进制数据</li>\n<li>本来是英文字母或数字，则有对应的ASCII编码，ASCII表一般会表示为十进制和十六进制的值，自然也有对应的二进制值</li>\n<li>本来是汉字，可能是多种编码得到的，比如采用UTF-8编码得到，则该汉字的UTF-8编码的值可以用二进制表示</li>\n<li>…</li>\n</ul>\n</blockquote>\n<p>上述各种类型的文本转换为二进制后，就可以使用Base64进行编码了。</p>\n<hr>\n<h2 id=\"官方规范\"><a href=\"#官方规范\" class=\"headerlink\" title=\"官方规范\"></a>官方规范</h2><p>　　Base64编码是作为MIME多用途互联网邮件扩展标准的一部分进行开发的。MIME RFC 2045的6.8节详细介绍了这种编码方式，参见<a href=\"http://www.ietf.org/rfc/rfc2045.txt.pdf\" target=\"_blank\" rel=\"external\">http://www.ietf.org/rfc/rfc2045.txt.pdf</a>，这是Base64编码的官方规范。</p>\n<hr>\n<h2 id=\"Base64字母表\"><a href=\"#Base64字母表\" class=\"headerlink\" title=\"Base64字母表\"></a>Base64字母表</h2><p>由名字也可以看出，Base64编码将任意字符转换为用下表64个字符(中的某些)进行表示(具体原理稍候分析)。<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/base64-alphabet.png\" alt=\"\"></p>\n<p>图中最后的<code>(pad) =</code>是Base64编码中使用的填充字符，用于补足，在后面的原理分析中会看到。 </p>\n<hr>\n<h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><p>　　之前已经提到过Base64编码是对“字节数据”做处理。一个字节是8bit，也就是8个二进制位。假设现在有一个英文字符串，每个字符由1个字节（8bit）构成，则对应了一个字节序列。Base64编码将这些8位的字节序列拆分成多个6位的片段，计算这个6位二进制数对应的十进制值，根据该十进制值查Base64字母表，使用表中的字符指代该片段。（2^6=64,64种符号刚好可以表示6位二进制数的全部情况。）下面展示了一个具体的例子：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/base64-example.png\" alt=\"\"></p>\n<p>　　通过这样的分析，我们也就可以知道为什么Base64编码字符串比原始字符串扩大约三分之一：原来一个字符用8位表示，现在6位就代表一个字符，所以扩大(8-6)/6=1/3。<br>　　<br>　　还有一个问题需要考虑：8位的字节序列不一定总能分割成整数个6位的片段。这时候，为了正常编码，就要在原序列末尾补足，使得序列长度成为24的倍数（6,8的最小公倍数）：</p>\n<ul>\n<li>如果要进行补足的6位片段中包含原序列的位，则使用0补足，构成的6位二进制数按照正常情况进行查表得出对应的编码字符。</li>\n<li>如果要进行补足的6位片段中包含原序列的位（即这个片段的6位都是用来补足的，并不含原数据），则这个片段编码为填充字符<code>=</code><br>如下示例：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/base64-example2.png\" alt=\"\"></li>\n</ul>\n<hr>\n<h2 id=\"应用\"><a href=\"#应用\" class=\"headerlink\" title=\"应用\"></a>应用</h2><p>Base64编码有很广泛的应用：</p>\n<ol>\n<li><p>用户输入文本数据可通过Base64编码打包后作为HTTP首部字段的值发送给服务端</p>\n</li>\n<li><p>HTML5的FileAPI进行文件读取的示例如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 读取文件:</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> reader = <span class=\"keyword\">new</span> FileReader();</span><br><span class=\"line\">reader.onload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> data = e.target.result; </span><br><span class=\"line\">    preview.style.backgroundImage = <span class=\"string\">\"url(\"</span> + data + <span class=\"string\">\")\"</span>;</span><br><span class=\"line\">    preview.style.backgroundSize =<span class=\"string\">'300px 200px'</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>其中变量data保存的是’image/jpeg;base64,/9j/4AAQSk……’这就是典型的Base64编码。编码值作为url()方法的参数去设置background-image。</p>\n<blockquote>\n<p>注：url()方法不仅可以接受文件路径作为参数，也可以传入上述的这种data类型url，主要有以下几种：<br>data:,&lt;文本数据&gt;<br>data:text/plain,&lt;文本数据&gt;<br>data:text/html,<html代码><br>data:text/html;base64,<base64编码的html代码><br>data:text/css,<css代码><br>data:text/css;base64,<base64编码的css代码><br>data:text/javascript,<javascript代码><br>data:text/javascript;base64,<base64编码的javascript代码><br>data:image/gif;base64,base64编码的gif图片数据<br>data:image/png;base64,base64编码的png图片数据<br>data:image/jpeg;base64,base64编码的jpeg图片数据<br>data:image/x-icon;base64,base64编码的icon图片数据</base64编码的javascript代码></javascript代码></base64编码的css代码></css代码></base64编码的html代码></html代码></p>\n</blockquote>\n<p>3.上面提到过，Base64编码是作为邮件协议进行开发的。电子邮件一般使用SMTP协议将邮件从客户端发往服务端，使用POP3或者IMAP从服务端获取邮件。最初SMTP协议基于纯ASCII文本，对二进制数据（文件）支持不好，为了解决这个问题，有了base64编码，即对二进制数据进行编码得到ASCII串使其能够正常通过SMTP协议进行传输。<code>Content-Transfer-Encoding: base64</code>表示附件文件内容使用base64编码后传输。</p>\n<p>4.HTTP请求需要携带参数，比如GET方法是直接在url中进行参数拼接，这些可能需要转换为适合通过HTTP进行传输的数据，这就可以使用Base64编码。但是，经过Base64编码得到的文本中会包含<code>+ /</code>这样的符号，而这些会在URL编码时被转义（详细可参考这篇<a href=\"http://gcidea.info/2016/07/28/url-encoding/\" target=\"_blank\" rel=\"external\">URL编码探究</a>），因此还有一些变种的Base64编码，比如它不仅在末尾填充’=’号，并将标准Base64中的“+”和“/”分别改成了“-”和“_”，这样就免去了在URL编解码和数据库存储时所要作的转换。</p>\n<hr>\n<h2 id=\"JavaScript实现\"><a href=\"#JavaScript实现\" class=\"headerlink\" title=\"JavaScript实现\"></a>JavaScript实现</h2><p>　　使用原生js的实现比较麻烦，这里推荐一个类库<a href=\"https://github.com/dankogai/js-base64\" target=\"_blank\" rel=\"external\">js-base64</a>。</p>\n"},{"title":"JavaScript的事件代理与委托","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/25/js-delegation/","content":""},{"title":"从【浏览器地址栏输入URL】到【页面渲染完成】中间经历的整个过程","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/23/browser-url-to-server-entire-process/","content":""},{"title":"对HTML标签语义化的一些理解","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/20/html-semantization/","content":""},{"title":"前端常用的几种图片格式及使用场景","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/19/fe-picture-type/","content":""},{"title":"CSS[内容盒模型]和[边框盒模型]的对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/16/css-contentbox-borderbox/","content":"<h2 id=\"盒模型概述\"><a href=\"#盒模型概述\" class=\"headerlink\" title=\"盒模型概述\"></a>盒模型概述</h2><p>　　盒模型是CSS中的一个重要概念和组成部分，直接决定了页面的基本布局。下图是一张网上常见的关于CSS盒模型的立体图，很好的解释了盒模型中的基本概念。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-box-model-3d.jpg\" alt=\"\"><br>　　<br>　　不同种类和版本的浏览器对于width, height, padding, border, margin的解析有所不同，导致同样的CSS代码在不同浏览器上有不相同的效果。本文对此进行总结。 </p>\n<hr>\n<h2 id=\"内容盒模型-标准盒模型\"><a href=\"#内容盒模型-标准盒模型\" class=\"headerlink\" title=\"内容盒模型(标准盒模型)\"></a>内容盒模型(标准盒模型)</h2><hr>\n<h2 id=\"边框盒模型-传统盒模型\"><a href=\"#边框盒模型-传统盒模型\" class=\"headerlink\" title=\"边框盒模型(传统盒模型)\"></a>边框盒模型(传统盒模型)</h2>"},{"title":"Emmet语法和使用简介","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/16/emmet/","content":""},{"title":"客户端JavaScript中键盘事件keypress和keydown的对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/15/client-side-js-keypress-keydown/","content":""},{"title":"git pull 与 git fetch 的区别","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/14/git-pull-git-fetch/","content":""},{"title":"CSS3的弹性盒模型FlexBox","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/14/css3-flexbox/","content":""},{"title":"客户端JavaScript中的事件传播机制","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/13/client-side-js-event-propagation/","content":""},{"title":"JavaScript中attribute(特性)和property(属性)的对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/10/js-attribute-property/","content":""},{"title":"浏览器页面渲染引擎---网页是如何解析加载出来的","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/09/browser-rendering-engine/","content":""},{"title":"使用AngularJs封装日期控件datepicker","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/08/angular-datepicker/","content":""},{"title":"通用的HTML文档DOM树遍历函数","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/06/common-document-ergodic-function/","content":""},{"title":"AngularJs基本使用的探究","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/05/angular-usage-demo/","content":""},{"title":"HTML中<!DOCTYPE>相关总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/03/html-doctype/","content":""},{"title":"浏览器的“标准模式”的“怪异模式”","url":"http://www.gcidea.info/welcome-to-this-page/2016/07/01/browser-standards-quirks-mode/","content":""},{"title":"leetcode [#283]","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/25/leetcode-283/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given an array nums, write a function to move all 0’s to the end of it while maintaining the relative order of the non-zero elements.</p>\n<p><strong>Example</strong>:<br>given nums = [0, 1, 0, 3, 12], after calling your function, nums should be [1, 3, 12, 0, 0].</p>\n<p><strong>Note</strong>:</p>\n<ol>\n<li>You must do this in-place without making a copy of the array.</li>\n<li>Minimize the total number of operations.</li>\n</ol>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">moveZeroes</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>;k &lt; nums.length; k++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[k] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                N++;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(N &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    nums[k-N] = nums[k];</span><br><span class=\"line\">                    nums[k] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>遍历一遍数组，遇到0，就给零值计数器加一。</li>\n<li>遇到非零，如果前面至少有一个零（N&gt;1），则将当前值前移N位，并给当前位赋值为0。</li>\n</ol>\n"},{"title":"使用HTML5的FileAPI完成图片预览上传","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/23/js-html5-file-api/","content":""},{"title":"Mozilla的JavaScript扩展---关于JavaScript生成器generator和yield的一些理解","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/22/js-yield/","content":"<h2 id=\"综述\"><a href=\"#综述\" class=\"headerlink\" title=\"综述\"></a>综述</h2><p>　　Generator（生成器）函数是ES6提供的一种异步编程解决方案，而yield则是配合生成器函数使用的。</p>\n<hr>\n<h2 id=\"Generator函数\"><a href=\"#Generator函数\" class=\"headerlink\" title=\"Generator函数\"></a>Generator函数</h2><h3 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h3><p>　　function* 声明（function关键字后跟一个星号）定义一个generator（生成器）函数，返回一个Generator对象。</p>\n<h3 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h3><p><code>function* name([param[, param[, ... param]]]) { statements }</code><br>其中：</p>\n<ul>\n<li>name<br>函数名</li>\n<li>param<br>传入函数的参数名，一个函数至多可有255个参数。</li>\n<li>statements<br>函数的主体</li>\n</ul>\n<blockquote>\n<p>注：ES6没有规定，function关键字与函数名之间的星号必须写在哪个位置，因此下面的写法都正确，但是还是推荐上述写法。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> * <span class=\"title\">name</span>(<span class=\"params\">[param[, param[, ... param]]]</span>) </span>&#123; statements &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> *<span class=\"title\">name</span>(<span class=\"params\">[param[, param[, ... param]]]</span>) </span>&#123; statements &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>*<span class=\"title\">name</span>(<span class=\"params\">[param[, param[, ... param]]]</span>) </span>&#123; statements &#125;</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"描述\"><a href=\"#描述\" class=\"headerlink\" title=\"描述\"></a>描述</h3><p>　　生成器是一种可以从中退出并在之后重新进入的函数。生成器的环境（绑定的变量）会在每次执行后被保存，下次进入时可继续使用。调用一个生成器函数并不马上执行它的主体，而是返回一个这个生成器函数的迭代器（iterator）对象。当这个迭代器的next()方法被调用时：</p>\n<ul>\n<li>生成器函数的主体会被执行直至第一个yield表达式，该表达式定义了迭代器返回的值；</li>\n<li>或者，被 yield*委派至另一个生成器函数。</li>\n</ul>\n<p>next()方法返回一个对象，该对象有一个value属性，表示产出的值，和一个done属性，表示生成器是否已经产出了它最后的值。</p>\n<h3 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">idMaker</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> index = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span>(index&lt;<span class=\"number\">3</span>)</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> index++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> gen = idMaker();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(gen.next().value); <span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(gen.next().value); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(gen.next().value); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(gen.next().value); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"yield\"><a href=\"#yield\" class=\"headerlink\" title=\"yield\"></a>yield</h2><h3 id=\"定义-1\"><a href=\"#定义-1\" class=\"headerlink\" title=\"定义\"></a>定义</h3><p>　　yield 关键字用来暂停和继续一个生成器函数。</p>\n<h3 id=\"语法-1\"><a href=\"#语法-1\" class=\"headerlink\" title=\"语法\"></a>语法</h3><p><code>yield [[expression]];</code></p>\n<ul>\n<li>expression<br>用作返回值.  如果忽略, 将返回 undefined .</li>\n</ul>\n<h3 id=\"描述-1\"><a href=\"#描述-1\" class=\"headerlink\" title=\"描述\"></a>描述</h3><p>　　yield关键字使生成器函数暂停执行，并返回跟在它后面的表达式的当前值。可以把它想成是return关键字的一个基于生成器的版本。yield 关键字实际返回一个对象，包含两个属性value和done。value属性为yield expression的值,done是一个布尔值用来指示生成器函数是否已经全部完成。<br>一旦在yield expression处暂停, 除非外部调用生成器的next()方法，否则生成器的代码将不能继续执行。这使得可以对生成器的执行以及渐进式的返回值进行直接控制。</p>\n<h3 id=\"示例-1\"><a href=\"#示例-1\" class=\"headerlink\" title=\"示例\"></a>示例</h3><p>同上示例。</p>\n<hr>\n<h2 id=\"yield-1\"><a href=\"#yield-1\" class=\"headerlink\" title=\"yield*\"></a>yield*</h2><h3 id=\"定义-2\"><a href=\"#定义-2\" class=\"headerlink\" title=\"定义\"></a>定义</h3><p>　　在生成器中，<code>yield*</code> 可以把需要yield的值委托给另外一个生成器或者其他任意的可迭代对象。</p>\n<h3 id=\"语法-2\"><a href=\"#语法-2\" class=\"headerlink\" title=\"语法\"></a>语法</h3><p><code>yield* [[expression]];</code></p>\n<ul>\n<li>expression<br>任意的可迭代对象。</li>\n</ul>\n<h3 id=\"描述-2\"><a href=\"#描述-2\" class=\"headerlink\" title=\"描述\"></a>描述</h3><p>　yield* 一个可迭代对象，就相当于把这个可迭代对象的所有迭代值分次yield出去。yield* 表达式本身的值就是当前可迭代对象迭代完毕（当done为true时）时的返回值。</p>\n<h3 id=\"示例-2\"><a href=\"#示例-2\" class=\"headerlink\" title=\"示例\"></a>示例</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">g1</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">g2</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span>* g1();</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> iterator = g2();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next()); <span class=\"comment\">// &#123; value: 1, done: false &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next()); <span class=\"comment\">// &#123; value: 2, done: false &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next()); <span class=\"comment\">// &#123; value: 3, done: false &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next()); <span class=\"comment\">// &#123; value: 4, done: false &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next()); <span class=\"comment\">// &#123; value: 5, done: false &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next()); <span class=\"comment\">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>yield语句不能用在普通函数（即不带有*的function）中，否则会报错。</li>\n<li>Generator函数可以不用yield语句，这时就变成了一个单纯的暂缓执行函数。</li>\n<li>Generator函数是分段执行的，yield语句是暂停执行的标记，而next方法可以恢复执行。</li>\n<li>参考文档：<a href=\"http://es6.ruanyifeng.com/#docs/generator\" target=\"_blank\" rel=\"external\">阮一峰 ECMAScript6入门</a>、<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/function*\" target=\"_blank\" rel=\"external\">MDN官方文档</a>。</li>\n</ol>\n"},{"title":"leetcode [#258]","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/21/leetcode-258/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a non-negative integer num, repeatedly add all its digits until the result has only one digit.</p>\n<p>For example:</p>\n<p>Given num = 38, the process is like: 3 + 8 = 11, 1 + 1 = 2. Since 2 has only one digit, return it.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">addDigits</span><span class=\"params\">(<span class=\"keyword\">int</span> num)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> result;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (num &lt; <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            result = num;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            String num2str = Integer.toString(num);</span><br><span class=\"line\">            <span class=\"keyword\">int</span> newNum = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k&lt; num2str.length(); k++)&#123;</span><br><span class=\"line\">                newNum += Integer.parseInt(String.valueOf(num2str.charAt(k)));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            result = addDigits(newNum);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>　　判断数字是否小于10（即是否是1位的数字），如果不是，将数字转为字符串，遍历取出每个字符，再转为对应数字，求和后用得到的结果递归调用addDigits()方法。</p>\n"},{"title":"leetcode [#226]","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/21/leetcode-226/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/leetcode-226.png\" alt=\"\"></p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for a binary tree node.</span><br><span class=\"line\"> * public class TreeNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     TreeNode left;</span><br><span class=\"line\"> *     TreeNode right;</span><br><span class=\"line\"> *     TreeNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> TreeNode <span class=\"title\">invertTree</span><span class=\"params\">(TreeNode root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            TreeNode tmp = root.left;</span><br><span class=\"line\">            root.left = root.right;</span><br><span class=\"line\">            root.right = tmp;</span><br><span class=\"line\">            invertTree(root.left);</span><br><span class=\"line\">            invertTree(root.right);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>　　从根节点开始，查找每个节点的左、右子节点（无论是否存在），将之交换，并分别递归调用翻转方法invertTree()。</p>\n"},{"title":"leetcode [#104]","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/17/leetcode-104/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Given a binary tree, find its maximum depth.</p>\n<p>The maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Definition for a binary tree node.</span><br><span class=\"line\"> * public class TreeNode &#123;</span><br><span class=\"line\"> *     int val;</span><br><span class=\"line\"> *     TreeNode left;</span><br><span class=\"line\"> *     TreeNode right;</span><br><span class=\"line\"> *     TreeNode(int x) &#123; val = x; &#125;</span><br><span class=\"line\"> * &#125;</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxDepth</span><span class=\"params\">(TreeNode root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> depth = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root == <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> depth;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> l = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> r = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(root.left != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                l = maxDepth(root.left);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(root.right != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                r = maxDepth(root.right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            depth = l &gt; r ? l : r;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> depth + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>　　思路是递归，根据二叉树的结构，某个子节点是其子树的根节点，则不断反复进行递归直到找到叶子节点，返回为零，其余不断加1，累计总长度（左右子节点均相同处理）。</p>\n"},{"title":"前端优化：[dns-prefetch] DNS预解析","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/17/fe-dns-prefetch/","content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><hr>\n<h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><hr>\n<h2 id=\"优势\"><a href=\"#优势\" class=\"headerlink\" title=\"优势\"></a>优势</h2><hr>\n<h2 id=\"缺陷\"><a href=\"#缺陷\" class=\"headerlink\" title=\"缺陷\"></a>缺陷</h2>"},{"title":"JavaScript双向选择器的实现","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/16/js-two-way-selector/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　双向选择器是网站中经常使用的一种组件，适合于要求用户输入固定的一个或多个标签内容的场景，这种格式比普通input输入框的交互方式更加友好，而且可以防止因用户输入的随意性而导致的其他多余工作（比如表单验证）甚至错误。</p>\n<hr>\n<h2 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h2><p>　　在说具体细节之前，可以先看一下效果，下图中就实现了一个最基本的双向选择器。<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-two-way-select-1.gif\" alt=\"\"></p>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>1.以上组件的编写没有基于原生的CSS，而是引入了AmazeUI框架，利用了框架提供的布局等样式，以下html代码中看到的以“am-”为前缀的class均是如此，具体的含义和使用方法可以参考<a href=\"http://amazeui.org/css/\" target=\"_blank\" rel=\"external\">AmazeUI官方文档</a>。<br>2.实际使用中，我们往往需要左侧的待选项可以动态可变，那就不能在页面上写死，应该在双向选择器渲染生成之前向后台请求数据，获取最新的待选项即可。而如下代码中仅作为示例，固定写了几个选项。</p>\n<hr>\n<h2 id=\"HTML结构\"><a href=\"#HTML结构\" class=\"headerlink\" title=\"HTML结构\"></a>HTML结构</h2><p>　　主要文档结构如下：</p>\n  <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-g\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-form-group am-u-sm-4 am-margin-left-sm am-margin-right-0 am-padding-right-0\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">label</span>&gt;</span>待选项列表<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">multiple</span> <span class=\"attr\">id</span>=<span class=\"string\">\"for-select\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height: 300px;\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">option</span>&gt;</span>选项1<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">option</span>&gt;</span>选项2<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">option</span>&gt;</span>选项3<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">option</span>&gt;</span>选项4<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">option</span>&gt;</span>选项5<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-form-group am-u-sm-1\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-text-center am-text-middle\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">id</span>=<span class=\"string\">\"to-right\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"cursor: pointer;\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-icon-angle-right am-icon-md\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">id</span>=<span class=\"string\">\"to-right-double\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"cursor: pointer;\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-icon-angle-double-right am-icon-md\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">id</span>=<span class=\"string\">\"to-left\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"cursor: pointer;\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-icon-angle-left am-icon-md\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">id</span>=<span class=\"string\">\"to-left-double\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"cursor: pointer;\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-icon-angle-double-left am-icon-md\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"am-form-group am-u-sm-4 am-u-end am-margin-horizontal-0 am-padding-horizontal-0\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">label</span>&gt;</span>已选项列表<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">multiple</span> <span class=\"attr\">id</span>=<span class=\"string\">\"has-selected\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height: 300px;\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"JavaScript控制逻辑\"><a href=\"#JavaScript控制逻辑\" class=\"headerlink\" title=\"JavaScript控制逻辑\"></a>JavaScript控制逻辑</h2><p>　　控制逻辑完整如下，基本的思想就是监听两个列表中每一项的点击事件，当触发点击事件后，遍历另一个列表中的选项，当无重复的情况下，将其从本列表中移除，添加至另一个列表中。</p>\n  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> leftSel = $(<span class=\"string\">\"#\"</span> + <span class=\"string\">\"for-select\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> rightSel = $(<span class=\"string\">\"#\"</span> + <span class=\"string\">\"has-selected\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//逐个向右</span></span><br><span class=\"line\">    $(<span class=\"string\">\"#\"</span> + <span class=\"string\">\"to-right\"</span>).bind(<span class=\"string\">\"click\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        leftSel.find(<span class=\"string\">\"option:selected\"</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> tmp = $(<span class=\"keyword\">this</span>).val();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> lthis = $(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> right = rightSel.find(<span class=\"string\">\"option\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> flag = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;right.length;i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(tmp !== right[i].label)&#123;</span><br><span class=\"line\">                    flag++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(flag == right.length)&#123;</span><br><span class=\"line\">                lthis.remove().appendTo(rightSel);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//全部向右</span></span><br><span class=\"line\">    $(<span class=\"string\">\"#\"</span> + <span class=\"string\">\"to-right-double\"</span>).bind(<span class=\"string\">\"click\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        leftSel.find(<span class=\"string\">\"option\"</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> tmp = $(<span class=\"keyword\">this</span>).val();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> lthis = $(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> right = rightSel.find(<span class=\"string\">\"option\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> flag = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;right.length;i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(tmp !== right[i].label)&#123;</span><br><span class=\"line\">                    flag++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(flag == right.length)&#123;</span><br><span class=\"line\">                lthis.remove().appendTo(rightSel);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//逐个向左</span></span><br><span class=\"line\">    $(<span class=\"string\">\"#\"</span> + <span class=\"string\">\"to-left\"</span>).bind(<span class=\"string\">\"click\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        rightSel.find(<span class=\"string\">\"option:selected\"</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> tmp = $(<span class=\"keyword\">this</span>).val();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> rthis = $(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> left = leftSel.find(<span class=\"string\">\"option\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> flag = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;left.length;i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(tmp !== left[i].label)&#123;</span><br><span class=\"line\">                    flag++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(flag == left.length)&#123;</span><br><span class=\"line\">                rthis.remove().appendTo(leftSel);</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                rthis.remove();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//全部向左</span></span><br><span class=\"line\">    $(<span class=\"string\">\"#\"</span> + <span class=\"string\">\"to-left-double\"</span>).bind(<span class=\"string\">\"click\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        rightSel.find(<span class=\"string\">\"option\"</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> tmp = $(<span class=\"keyword\">this</span>).val();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> rthis = $(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> left = leftSel.find(<span class=\"string\">\"option\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> flag = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;left.length;i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(tmp !== left[i].label)&#123;</span><br><span class=\"line\">                    flag++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(flag == left.length)&#123;</span><br><span class=\"line\">                rthis.remove().appendTo(leftSel);</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                rthis.remove();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//左侧待选记录的双击事件</span></span><br><span class=\"line\">    leftSel.dblclick(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        leftSel.find(<span class=\"string\">\"option:selected\"</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> tmp = $(<span class=\"keyword\">this</span>).val();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> lthis = $(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> right = rightSel.find(<span class=\"string\">\"option\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> flag = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;right.length;i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(tmp !== right[i].label)&#123;</span><br><span class=\"line\">                    flag++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(flag == right.length)&#123;</span><br><span class=\"line\">                lthis.remove().appendTo(rightSel);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//右侧已选记录的双击事件</span></span><br><span class=\"line\">    rightSel.dblclick(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        rightSel.find(<span class=\"string\">\"option:selected\"</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> tmp = $(<span class=\"keyword\">this</span>).val();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> rthis = $(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> left = leftSel.find(<span class=\"string\">\"option\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> flag = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;left.length;i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(tmp !== left[i].label)&#123;</span><br><span class=\"line\">                    flag++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(flag == left.length)&#123;</span><br><span class=\"line\">                rthis.remove().appendTo(leftSel);</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                rthis.remove();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n"},{"title":"leetcode [#292]","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/15/leetcode-292/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>You are playing the following Nim Game with your friend: There is a heap of stones on the table, each time one of you take turns to remove 1 to 3 stones. The one who removes the last stone will be the winner. You will take the first turn to remove the stones.</p>\n<p>Both of you are very clever and have optimal strategies for the game. Write a function to determine whether you can win the game given the number of stones in the heap.</p>\n<p>For example, if there are 4 stones in the heap, then you will never win the game: no matter 1, 2, or 3 stones you remove, the last stone will always be removed by your friend.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">canWinNim</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n % <span class=\"number\">4</span> != <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>　　思路是递归，弱化问题，考虑：<br>如果石子数量少1个会输的话，那么现在一定会赢（通过先取走1个石子的办法）；<br>如果石子数量少2个会输的话，那么现在一定会赢（通过先取走2个石子的办法）；<br>如果石子数量少3个会输的话，那么现在一定会赢（通过先取走3个石子的办法）。</p>\n<p>　　故也可以如下实现：<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">canWinNim</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(n==<span class=\"number\">1</span> || n==<span class=\"number\">2</span> || n==<span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!canWinNim(n-<span class=\"number\">1</span>) || !canWinNim(n-<span class=\"number\">2</span>) || !canWinNim(n-<span class=\"number\">3</span>)) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n"},{"title":"JavaScript跨域问题总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/14/js-cross-domain/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><hr>\n<h2 id=\"通过CORS实现\"><a href=\"#通过CORS实现\" class=\"headerlink\" title=\"通过CORS实现\"></a>通过CORS实现</h2><hr>\n<h2 id=\"通过JSONP实现\"><a href=\"#通过JSONP实现\" class=\"headerlink\" title=\"通过JSONP实现\"></a>通过JSONP实现</h2><p>通过<code>&lt;script src=&quot;&quot;&gt;</code>标签加载javascript文件，JSON-P（将JSON数据封装为函数调用，比如foo({“a”:42})）通过将JSON数据传递给函数来实现对其访问。要知道JSON本身并不是合法的javascript语法，因为它会被当做一个带有非法标签的语句块来执行。而通过foo({“a”:42})这种方式，JSON数据作为参数传递给函数进行执行，就没有什么问题了。所以说，JSON-P能将JSON转为合法的javascript语法。</p>\n<hr>\n<h2 id=\"通过图像Ping实现\"><a href=\"#通过图像Ping实现\" class=\"headerlink\" title=\"通过图像Ping实现\"></a>通过图像Ping实现</h2><hr>\n<h2 id=\"通过document-domain实现\"><a href=\"#通过document-domain实现\" class=\"headerlink\" title=\"通过document.domain实现\"></a>通过document.domain实现</h2><hr>\n<h2 id=\"通过window-name实现\"><a href=\"#通过window-name实现\" class=\"headerlink\" title=\"通过window.name实现\"></a>通过window.name实现</h2><hr>\n<h2 id=\"通过iframe实现\"><a href=\"#通过iframe实现\" class=\"headerlink\" title=\"通过iframe实现\"></a>通过iframe实现</h2><hr>\n<h2 id=\"通过script标签实现\"><a href=\"#通过script标签实现\" class=\"headerlink\" title=\"通过script标签实现\"></a>通过script标签实现</h2><hr>\n<h2 id=\"通过window-postMessage实现（HTML5新增）\"><a href=\"#通过window-postMessage实现（HTML5新增）\" class=\"headerlink\" title=\"通过window.postMessage实现（HTML5新增）\"></a>通过window.postMessage实现（HTML5新增）</h2><hr>\n<h2 id=\"通过后端处理实现\"><a href=\"#通过后端处理实现\" class=\"headerlink\" title=\"通过后端处理实现\"></a>通过后端处理实现</h2>"},{"title":"leetcode [#344]","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/13/leetcode-345/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Write a function that takes a string as input and reverse only the vowels of a string.</p>\n<p><strong>Example</strong>:<br>Given s = “hello”, return “holle”.<br>Given s = “leetcode”, return “leotcede”.</p>\n<p><strong>Note</strong>:<br>The vowels does not include the letter “y”.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">reverseVowels</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> N = s.length();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s == <span class=\"keyword\">null</span> || N == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        StringBuilder builderVowel = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(isVowel(s.charAt(i)))&#123;</span><br><span class=\"line\">                builderVowel.append(s.charAt(i));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> k = builderVowel.length()-<span class=\"number\">1</span>;</span><br><span class=\"line\">        StringBuilder builder = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!isVowel(s.charAt(i)))&#123;</span><br><span class=\"line\">                builder.append(s.charAt(i));</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                builder.append(builderVowel.charAt(k));</span><br><span class=\"line\">                k--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isVowel</span><span class=\"params\">(<span class=\"keyword\">char</span> input)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"string\">'a'</span> == input || <span class=\"string\">'e'</span> == input || <span class=\"string\">'i'</span> == input || <span class=\"string\">'o'</span> == input || <span class=\"string\">'u'</span> == input || </span><br><span class=\"line\">                <span class=\"string\">'A'</span> == input || <span class=\"string\">'E'</span> == input || <span class=\"string\">'I'</span> == input || <span class=\"string\">'O'</span> == input || <span class=\"string\">'U'</span> == input)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>元音字母为a,e,i,o,u，同时要考虑到大写。</li>\n<li>第一次遍历找到所有元音字母并按顺序保存到一个builderVowel中。第二次遍历，如果当前为不是原因，直接添加到结果builder中，如果当前位是元音字母，则从builderVowel尾部取出一个字符添加到builder中。</li>\n</ol>\n"},{"title":"leetcode [#344]","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/13/leetcode-344/","content":"<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><blockquote>\n<p>Write a function that takes a string as input and returns the string reversed.</p>\n<p><strong>Example</strong>:<br>Given s = “hello”, return “olleh”.</p>\n</blockquote>\n<hr>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">reverseString</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">        StringBuilder handler = <span class=\"keyword\">new</span> StringBuilder(s);</span><br><span class=\"line\">        handler.reverse();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> handler.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>以下这种写法可以得到正确答案，但是会超时，无法通过。原因是String一旦创建就不可修改，因此遍历中每次为result衔接新增的部分都会创建新对象并将引用指向result，增大了开销。<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    Stack stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">    <span class=\"keyword\">int</span> length = s.length();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; length; i++)&#123;</span><br><span class=\"line\">        stack.push(s.charAt(i));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    String result = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(!stack.empty())&#123;</span><br><span class=\"line\">        result += stack.pop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n"},{"title":"JavaScript中的__proto__、[[prototype]]和prototype","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/12/js-proto-prototype/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><hr>\n<h2 id=\"prototype相关介绍\"><a href=\"#prototype相关介绍\" class=\"headerlink\" title=\"prototype相关介绍\"></a>prototype相关介绍</h2><hr>\n<h2 id=\"proto-与-prototype-相关介绍\"><a href=\"#proto-与-prototype-相关介绍\" class=\"headerlink\" title=\"__proto__与[[prototype]]相关介绍\"></a>__proto__与[[prototype]]相关介绍</h2><h2 id=\"一张图分析三者的关系\"><a href=\"#一张图分析三者的关系\" class=\"headerlink\" title=\"一张图分析三者的关系\"></a>一张图分析三者的关系</h2><p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/prototype-proto.jpg\" alt=\"\"></p>\n<hr>\n<h2 id=\"一系列案例分析\"><a href=\"#一系列案例分析\" class=\"headerlink\" title=\"一系列案例分析\"></a>一系列案例分析</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.prototype === Foo.prototype);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.__proto__ === Foo.prototype);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.prototype);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.__proto__);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Foo.prototype = &#123; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.constructor === Foo);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Foo.prototype = &#123; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.constructor === <span class=\"built_in\">Object</span>);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Foo.prototype = &#123; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.constructor);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Foo.prototype = &#123; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.__proto__);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Foo.prototype = &#123; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.__proto__.__proto__ === <span class=\"built_in\">Object</span>.prototype);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.__proto__ === a.prototype);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> <span class=\"built_in\">Function</span>();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.__proto__ === <span class=\"built_in\">Function</span>.prototype);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.constructor.prototype === a.__proto__);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Foo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> Foo();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a.constructor.prototype === Foo.prototype);</span><br></pre></td></tr></table></figure>"},{"title":"JavaScript中的对象、constructor属性、prototype属性对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/11/js-constructor-prototype/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　首先想说的是，这篇文章的题目准确怎么定我就考虑了不少时间。想过“JavaScript中的对象及其constructor属性和prototype属性”，想过“JavaScript中的对象、构造函数对象(constructor)和原型对象(prototype)”等等，但总觉得不够清楚。说实话现有的这个题目也不一定是很好的，只是相比较之下，选择一个“三者相对独立”的说法，这样就不会有先入为主的感觉。因为三者的关系并不是简单的“constructor和prototype是对象的两个属性”，并且“到底把constructor看作属性还是构造函数对象”，“到底把prototype看作属性还是原型对象”，这些问题并没有一个固定答案，它们有着互相渗透的关系。更多地我们应该关注这些名词到底想要描述怎样的问题。本文我就结合《JavaScript权威指南》和《JavaScript高级程序设计》两书进行总结和分析，可能有一些还不正确的理解，需要进一步探究。<br>　　另外，要说明的是，不可能只是干巴巴地描述这3个概念，因为它们本质上涉及的是JavaScript面向对象编程中的“类与对象”、“类的继承”等问题，因此本文是从这些方面进行组织的，constructor属性、prototype属性的分析包含其中。</p>\n<hr>\n<h2 id=\"JavaScript对象简述\"><a href=\"#JavaScript对象简述\" class=\"headerlink\" title=\"JavaScript对象简述　\"></a>JavaScript对象简述　</h2><h3 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h3><p>　　在之前关于null和undefined的讨论中提到过，JavaScript中的数据类型分为两类：原始类型和对象类型。本篇主要要总结的就是对象类型。对象是JavaScript中十分重要且常用的概念。<br>　　对象是一种复合值：是多个属性的集合，每个属性都以键/值对的形式体现。其中对于属性值为函数的属性，一般将其称作方法。函数、数组等数据组织形式都是对象的一种特殊表现形式。</p>\n<h3 id=\"属性类型\"><a href=\"#属性类型\" class=\"headerlink\" title=\"属性类型\"></a>属性类型</h3><p>　　既然对象是属性的集合，那么有必要对属性进行分类。具体如下：<br>1.数据属性</p>\n<blockquote>\n<p>示例<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> student = &#123;</span><br><span class=\"line\">    name: <span class=\"string\">\"gaochang\"</span>,</span><br><span class=\"line\">    university: <span class=\"string\">\"BUPT\"</span> </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>　　以上对象中的name和university两个属性就是数据属性，对它们可以进行数据的读取和写入。对于这类属性而言，它们又具备4个“特性”：</p>\n<ul>\n<li><strong>configurable</strong>：可配置性。<br>　　是指：能否通过delete删除属性，能否对该属性的这些特性进行修改，能否把数据属性修改成访问器属性（访问器属性稍候会提到）。默认<code>true</code>。</li>\n<li><strong>enumerable</strong>：可枚举性。<br>　　是指：该数据属性能否通过<code>for-in</code>循环遍历到。默认为<code>true</code>。</li>\n<li><strong>writable</strong>：可写性。<br>　　是指：是否能够修改该属性的属性值。默认为<code>true</code>。</li>\n<li><strong>value</strong>：值。<br>　　是指： 该属性的具体属性值，比如name属性的value：”gaochang”。</li>\n</ul>\n<p>2.访问器属性</p>\n<blockquote>\n<p>示例<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> book = &#123;</span><br><span class=\"line\">    name: <span class=\"string\">\"Professional JavaScript for Web Developers\"</span>,</span><br><span class=\"line\">    _isbn: <span class=\"string\">\"978-7-115-27579-0\"</span> </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(book, <span class=\"string\">\"isbn\"</span>, &#123;</span><br><span class=\"line\">    get: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._isbn;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    set: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">str</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._isbn = str;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>　　以上对象中的_isbn属性就是访问器属性（前缀下划线表示是内部属性）。特别地，访问器属性不能直接定义，必须借助<code>Object.defineProperty()</code>方法。对于这类属性而言，它们又具备4个“特性”：</p>\n<ul>\n<li><strong>configurable</strong>：可配置性。<br>　　是指：能否通过delete删除属性，能否对该属性的这些特性进行修改，能否把数据属性修改成访问器属性（访问器属性稍候会提到）。默认<code>true</code>。</li>\n<li><strong>enumerable</strong>：可枚举性。<br>　　是指：该数据属性能否通过<code>for-in</code>循环遍历到。默认为<code>true</code>。</li>\n<li><strong>get</strong>：取值。<br>　　是指：读取属性时调用。</li>\n<li><strong>set</strong>：赋值。<br>　　是指：赋值时调用。</li>\n</ul>\n<h3 id=\"对象共有的“特性”\"><a href=\"#对象共有的“特性”\" class=\"headerlink\" title=\"对象共有的“特性”\"></a>对象共有的“特性”</h3><p>　　除了属性之外，每个对象还具有3个“特性”：</p>\n<ul>\n<li>原型（prototype）：可以理解成一个指针，指向另一个对象-原型对象，后面将做详细讨论。</li>\n<li>类（class）：是一个标识对象类型的字符串。</li>\n<li>扩展标记（extensible flag）：ES5新增，表明是否可以向该对象添加新属性。</li>\n</ul>\n<hr>\n<h2 id=\"JavaScript对象创建方式\"><a href=\"#JavaScript对象创建方式\" class=\"headerlink\" title=\"JavaScript对象创建方式\"></a>JavaScript对象创建方式</h2><p>　　了解了对象的基本概念后，就可以进一步分析对象的创建方式。在《JavaScript高级程序设计》中具体分为7种：</p>\n<ul>\n<li>工厂模式</li>\n<li>构造函数模式</li>\n<li>原型模式</li>\n<li>组合模式（构造函数+原型）</li>\n<li>动态原型模式</li>\n<li>寄生构造函数模式</li>\n<li>稳妥构造模式</li>\n</ul>\n<p>　　而在《JavaScript权威指南》中，对象创建方式分为3种：</p>\n<ul>\n<li>对象字面量创建（<code>var obj = {}</code>）</li>\n<li>关键字<code>new</code>构造函数创建</li>\n<li><code>Object.create()</code>基于原型创建</li>\n</ul>\n<p>　　分为这3类，虽说内容和上面的基本一致，但考虑问题的角度不同，个人感觉没有层层递进（《JavaScript权威指南》的分类标准是从本质上区分了创建对象的3种方式，但不利于初次理解）。因此建议理解的过程按照《JavaScript高级程序设计》进行，之后可以再看《JavaScript权威指南》补缺。本文也是按照《JavaScript高级程序设计》进行总结。<br>　　对于7种分类的方式而言，其基础还是“构造函数模式”和“原型模式”两种，其他的都是因为解决之前的某种缺陷而逐步演进得来的，因此下面重点分析这两个。\n　　</p>\n<hr>\n<h2 id=\"创建对象-构造函数模式（constructor属性相关）\"><a href=\"#创建对象-构造函数模式（constructor属性相关）\" class=\"headerlink\" title=\"创建对象-构造函数模式（constructor属性相关）\"></a>创建对象-构造函数模式（constructor属性相关）</h2><h3 id=\"工厂模式与构造函数模式的对比\"><a href=\"#工厂模式与构造函数模式的对比\" class=\"headerlink\" title=\"工厂模式与构造函数模式的对比\"></a>工厂模式与构造函数模式的对比</h3><p>　　在看构造函数模式之前，先看一个工厂模式的例子，从而和构造函数模式进行对比。</p>\n<blockquote>\n<p>使用工厂模式创建对象<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createNews</span>(<span class=\"params\">title, subtitle</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> o = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</span><br><span class=\"line\">    o.title = title;</span><br><span class=\"line\">    o.subtitle = subtitle;</span><br><span class=\"line\">    o.release = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        alert(o.title + <span class=\"string\">\"--\"</span> + o.subtitle);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> o;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> firstNews = createNews(<span class=\"string\">\"important news\"</span>, <span class=\"string\">\"strategy\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> secondNews = createNews(<span class=\"string\">\"interesting news\"</span>, <span class=\"string\">\"strategy\"</span>);</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>　　接下来看看用构造函数模式如何重构上述代码：</p>\n<blockquote>\n<p>使用构造函数模式创建对象<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">News</span>(<span class=\"params\">title, subtitle</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.title = title;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.subtitle = subtitle;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.release = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        alert(<span class=\"keyword\">this</span>.title + <span class=\"string\">\"--\"</span> + <span class=\"keyword\">this</span>.subtitle);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> firstNews = <span class=\"keyword\">new</span> News(<span class=\"string\">\"important news\"</span>, <span class=\"string\">\"strategy\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> secondNews = <span class=\"keyword\">new</span> News(<span class=\"string\">\"interesting news\"</span>, <span class=\"string\">\"strategy\"</span>);</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>　　对比可得构造函数模式的特点：</p>\n<ol>\n<li>函数名一般首字母大写，代表这是一类特殊的函数-构造函数；</li>\n<li>构造函数内并不直接新建对象，所以自然也不会返回初始化好的对象；</li>\n<li>使用构造函数时明确要用<code>new</code>关键字，具体的调用经历了如下四个步骤：</li>\n</ol>\n<ul>\n<li><code>new</code>创建一个新对象</li>\n<li>将构造函数的作用域赋给这个新对象</li>\n<li>执行构造函数中的代码，添加属性</li>\n<li>得到初始化好的新对象</li>\n</ul>\n<p>　　</p>\n<h3 id=\"对象的constructor属性\"><a href=\"#对象的constructor属性\" class=\"headerlink\" title=\"对象的constructor属性\"></a>对象的constructor属性</h3><p>　　以上构造函数模式代码中的firstNews和secondNews两个对象分别保存着News的一个实例（是不同的）。<font color=\"red\">这里就要提到constructor了。firstNews和secondNews两个对象各自有一个constructor属性-构造函数属性。</font>如下所示：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-constructor-1.png\" alt=\"\"></p>\n<p>　　换句话说，<strong>由构造函数创建的对象</strong>，它有一个constructor属性，属性值为构造函数本身（指向构造函数），如下所示：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-constructor-2.png\" alt=\"\"></p>\n<p>　　而对于<strong>使用工厂模式创建的对象</strong>，也具有constructor属性，只不过直接指向“最高层”的对象Object，如下所示：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-constructor-3.png\" alt=\"\"></p>\n<p>　　对于<strong>字面量直接创建的对象</strong>，也具有constructor属性，也是直接指向“最高层”的对象Object，如下所示：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-constructor-4.png\" alt=\"\"></p>\n<p>　　对于<strong><code>Object.create()</code>方法创建的对象</strong>，也具有constructor属性，也是直接指向“最高层”的对象Object，如下所示：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-constructor-5.png\" alt=\"\"></p>\n<p>　　以上内容可总结如下：</p>\n<ol>\n<li><p>任何对象都具有constructor属性。</p>\n<blockquote>\n<p>注意，这里顺便说一下，即便是原始类型的数据，也可以调用constructor属性，原因应该是，JavaScript自动将其转换为对应的包装类型（对象），再调用相应包装类型的constructor属性（对象），如下图所示：（当然，null和undefined没有属性和方法，也就不用讨论了）<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-constructor-6.png\" alt=\"\"></p>\n</blockquote>\n</li>\n<li><p>使用构造函数模式创建的对象，其constructor指向创建该对象的构造函数</p>\n</li>\n<li>其他各类对象，其constructor指向Object()函数</li>\n</ol>\n<h3 id=\"构造函数模式存在的缺陷\"><a href=\"#构造函数模式存在的缺陷\" class=\"headerlink\" title=\"构造函数模式存在的缺陷\"></a>构造函数模式存在的缺陷</h3><p>　　相比于工厂模式，构造函数模式有其优点—它可以准确识别创建的对象的类型。但是，它本身也存在问题：构造函数中的方法，在每个新创建的对象上都要重新实例化一次，也就是说每个对象的该方法都不是同一个实例，然而它们的作用却是相同的，这就增大了开销。<br>　　为了解决这个问题，可以采取的方法是：把构造函数中的方法单独剥离出来，提出全局作用域上的函数，而在构造函数内部仅保留对这个全局函数的引用。这样，通过构造函数创建的所有实例都是共享了同一个函数。<strong>但是，这又产生了新的问题：</strong>如果构造函数中需要很多方法，全部都提到全局作用域中，就破坏了封装性，结构很不好。对于此问题，则需要采用下面提到的原型模式了。</p>\n<hr>\n<h2 id=\"创建对象-原型模式（prototype属性相关）\"><a href=\"#创建对象-原型模式（prototype属性相关）\" class=\"headerlink\" title=\"创建对象-原型模式（prototype属性相关）\"></a>创建对象-原型模式（prototype属性相关）</h2><h3 id=\"原型模式的案例\"><a href=\"#原型模式的案例\" class=\"headerlink\" title=\"原型模式的案例\"></a>原型模式的案例</h3><blockquote>\n<p>使用原型模式模式创建对象<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">News</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">News.prototype.title = <span class=\"string\">\"important news\"</span>;</span><br><span class=\"line\">News.prototype.subtitle = <span class=\"string\">\"strategy\"</span>;</span><br><span class=\"line\">News.prototype.release = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    alert(<span class=\"keyword\">this</span>.title + <span class=\"string\">\"--\"</span> + <span class=\"keyword\">this</span>.subtitle);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> firstNews = <span class=\"keyword\">new</span> News();</span><br><span class=\"line\">firstNews.title;        <span class=\"comment\">//\"important news\"</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> secondNews = <span class=\"keyword\">new</span> News();</span><br><span class=\"line\">secondNews.subtitle;    <span class=\"comment\">//\"strategy\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">firstNews.title = <span class=\"string\">\"interesting news\"</span>;</span><br><span class=\"line\">firstNews.title;        <span class=\"comment\">//\"interesting news\"</span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>　　每个函数其实都有一个prototype（原型）属性，这个属性是一个指针，指向一个对象-原型对象，而这个对象的作用是包含好可以由特定类型的实例所共享的属性和方法。因此，如上所示，构造函数是空的也可以（但必须有这个构造函数），需要共享的内容写在prototype对象上就好了。</p>\n<h3 id=\"理解原型对象（prototype属性）\"><a href=\"#理解原型对象（prototype属性）\" class=\"headerlink\" title=\"理解原型对象（prototype属性）\"></a>理解原型对象（prototype属性）</h3><p>　　到底什么是原型对象呢？<br>　　首先，我们看看上述例子中通过原型模式创建的对象实例firstNews的原型对象是什么：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-1.png\" alt=\"\"></p>\n<p>　　这里发现显示的结果是<code>undefined</code>？原型对象没有定义吗？不是这样的。是因为在JavaScript中，prototype是一个内部属性，没有提供标准的直接访问方式，但是在各个主流浏览器的实现中，为我们提供了<code>__proto__</code>属性，可以帮我们“窥探”一个对象的原型对象。如下所示：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-2.png\" alt=\"\"></p>\n<p>  从上图我们能清楚地看到firstNews的原型对象的结构，<font color=\"red\">并且和constructor联系起来了</font>：</p>\n<ol>\n<li>原型对象有一个constructor属性，它反过来指向了创建该实例的构造函数</li>\n<li>原型对象本身有我们自定义的两个属性title、subtitle和一个方法release()</li>\n<li><p>从另一个角度（“继承”的角度），原型对象自己可以看做是一个实例对象，它自己也有prototype属性（指向它的原型对象），并且通过<code>__proto__</code>表现出来。</p>\n<p>其次，上述是创建了函数对象，那么对于其他几种方式创建的对象呢？我们来看看：</p>\n</li>\n</ol>\n<p><strong>通过字面量直接创建对象</strong><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-3.png\" alt=\"\"></p>\n<p>可以看出，对象的prototype属性时存在的，并且由于没有构造函数，它的constructor属性直接指向了Object,也就是说字面量对象是由Object()直接创建的。</p>\n<p><strong>通过<code>Object.create()</code>创建对象</strong><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-4.png\" alt=\"\"></p>\n<p>可以看出，实例对象o的原型对象是{x:1, y:2}，并且不带任何诸如constructor之类的属性。原因是，根据API<code>Object.create((proto [, propertiesObject ]))</code>，传入的参数就是要创建的对象的原型proto。传入的是{x:1, y:2}，因此<code>__proto__</code>的结果自然也就是{x:1, y:2}。</p>\n<p>通过以上分析，可作总结：<br>1.任何时候，只要创建一个对象，就会有prototype属性，并且大多数情况通过<code>__proto__</code>进行展现<br>2.在此基础上，通过构造函数创建对象稍有特殊（因为constructor不会直接指向Object）。只要创建了一个新的函数对象，就会根据一组特定规则为函数创建一个prototype属性，这个属性指向函数的原型对象。并且，默认的这个原型对象又会自动获取一个constructor属性，反过来指向prototype属性所在的函数（也就是构造函数）。通过以下实验可以很好理解这一点：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-5.png\" alt=\"\"></p>\n<p>　　值得说明的是，根据之前提到的，prototype是内部属性不能直接访问（否则会报错），用<code>__proto__</code>可以间接访问，所以上图是通过<code>firstNews.__proto__.constructor</code>来测试的。但实际上我们要讨论的是<code>firstNews.prototype.constructor</code>，即prototype和constructor的关系，要特别注意这一点。</p>\n<p>3.<font color=\"red\"><strong>但是，要特别注意</strong>,以上所说的<code>prototype</code>是内部属性无法访问，是针对创建的实例对象。而对于函数对象，是可以直接访问<code>prototype</code>属性的</font>，如下所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-14.png\" alt=\"\"></p>\n<blockquote>\n<p><code>prototype</code>和<code>__proto__</code>还有更多区别，详见这篇文章<a href=\"http://gcidea.info/2016/06/12/js-proto-prototype/\" target=\"_blank\" rel=\"external\">JavaScript中<code>__proto__</code>和<code>prototype</code>的对比分析</a></p>\n</blockquote>\n<p>4.可以通过下图更好地理解prototype和constructor的关系。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-6.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-7.png\" alt=\"\">\n　　</p>\n<h3 id=\"原型链操作\"><a href=\"#原型链操作\" class=\"headerlink\" title=\"原型链操作\"></a>原型链操作</h3><p>　　每次执行对象属性的读取操作时，其实就是执行了一次搜索。搜索会从实例对象本身开始，如果找到了该属性，则返回该属性的值；如果没有找到，则会根据实例对象的prototype指针找到该实例对象的原型对象，在原型对象上执行搜索。如果找到了，则返回该属性的值；如果没找到，则继续向上，根据原型对象的prototype指针向上查找… …，这样就形成了“链式结构”，也就是原型链。<br>　　关于原型链操作必须明确的是：<font color=\"red\">只有在查询属性值的操作中才会感觉到原型链的存在，在修改属性值的过程中是没有原型链的概念的，也就是说修改属性值只会在实例对象中对原有属性进行覆盖，但并不会影响原型链上上层对象中的属性。</font>通过如下过程可以理解：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-8.png\" alt=\"\"></p>\n<h3 id=\"某个属性属于谁？（实例-or-原型？）\"><a href=\"#某个属性属于谁？（实例-or-原型？）\" class=\"headerlink\" title=\"某个属性属于谁？（实例 or 原型？）\"></a>某个属性属于谁？（实例 or 原型？）</h3><p>　　根据原型链操作的分析，对象属性在实例中和原型中的表现可能是不一样的，但自然就产生了这样的需求：某个属性是属于实例还是原型？<br>　　JavaScript主要提供了以下几种方式来解决这个问题：</p>\n<ol>\n<li><p>单独使用<code>in</code>操作符<br>　　格式：<code>&quot;title&quot; in firstNews;</code></p>\n<blockquote>\n<p><code>in</code>操作符能筛选出一个属性，无论它是在实例中还是原型中。</p>\n</blockquote>\n</li>\n<li><p>使用<code>for-in</code>循环<br>　　格式：<code>for(var prop in firstNews){}</code></p>\n<blockquote>\n<p><code>for-in</code>循环会返回所有可枚举的属性，无论它是在实例中还是原型中。</p>\n</blockquote>\n</li>\n<li><p>使用<code>Object.keys()</code><br>　　格式：<code>Object.keys(obj)</code></p>\n<blockquote>\n<p><code>Object.keys()</code>会返回所有可枚举的属性，仅来自实例对象。</p>\n</blockquote>\n</li>\n<li><p>使用<code>Object.getOwnPropertyNames()</code><br>　　格式：<code>Object.getOwnPropertyNames(obj)</code></p>\n<blockquote>\n<p><code>Object.keys()</code>会返回所有属性（无论是否可枚举），仅来自实例对象。</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"原型对象的重写\"><a href=\"#原型对象的重写\" class=\"headerlink\" title=\"原型对象的重写\"></a>原型对象的重写</h3><p>　　写法如下：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">News</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">News.prototype = &#123;</span><br><span class=\"line\">    title: <span class=\"string\">\"important news\"</span>,</span><br><span class=\"line\">    subtitle: <span class=\"string\">\"strategy\"</span>,</span><br><span class=\"line\">    release: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        alert(<span class=\"keyword\">this</span>.title + <span class=\"string\">\"--\"</span> + <span class=\"keyword\">this</span>.subtitle);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> firstNews = <span class=\"keyword\">new</span> News();</span><br></pre></td></tr></table></figure></p>\n<p>　　这样的写法不是另一种模式，只是为了说明一个问题。根据之前的分析，我们知道<code>firstNews.constructor</code>会指向构造函数本身，也就是<code>function News(){}</code>。那么在现在这样的写法中，<code>firstNews.constructor</code>还是指向<code>function News(){}</code>吗？答案是否定的，如下：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-9.png\" alt=\"\"><br>　　可以发现现在指向了<code>function Object()</code>，为什么呢？<br>　　原因是，在这种写法中，直接将一个”{}”对象赋给了<code>News.prototype</code>，本质上是完全重写了<code>News.prototype</code>，而不是像之前只是给<code>News.prototype</code>添加属性，比如<code>News.prototype.title</code>。因此，<code>News.prototype</code>的constructor属性也就发生了变化，变成了新的”{}”对象的constructor属性，而新对象”{}”是字面量直接对象，根据之前的分析知道它的constructor属性指向<code>function Object()</code>，所以现在的<code>firstNews.constructor</code>指向了<code>function Object()</code>。<br>　　如果想恢复到原来的状态，可以显式声明prototype对象的constructor属性：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-10.png\" alt=\"\"></p>\n<h3 id=\"原型对象的动态性\"><a href=\"#原型对象的动态性\" class=\"headerlink\" title=\"原型对象的动态性\"></a>原型对象的动态性</h3><p>　　根据原型链操作的分析，每一次属性获取都是一次查询，因此可以动态向原型中添加属性，并且可以立即反映出来。<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-11.png\" alt=\"\"></p>\n<p>　　但是，如果是重写整个原型对象，情况就不同了：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-12.png\" alt=\"\"><br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-prototype-13.png\" alt=\"\"></p>\n<h3 id=\"原生对象的原型\"><a href=\"#原生对象的原型\" class=\"headerlink\" title=\"原生对象的原型\"></a>原生对象的原型</h3><p>　　原生对象是指String()、Number()、Boolean()等包装类型产生的对象，它们的原型对象也是可以自定义的。但是，并不应该直接去修改这些内置类型的原型，因为可能会产生命名空间冲突，移植性差。</p>\n<hr>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>　　通过上述过程，详细分析了JavaScript中对象创建的相关方法和极其重要的两个属性constructor和prototype。关于JavaScript中的“类的继承”将会在后续单独讨论（以此篇为基础）。</p>\n"},{"title":"《JavaScript权威指南》中文版P260纠错","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/10/js-definitive-guide-error-p-260/","content":"<p>　　中文版《JavaScript权威指南》第六版P260中，</p>\n"},{"title":"《JavaScript权威指南》中文版P204纠错","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/10/js-definitive-guide-error-p-204/","content":"<p>　　中文版《JavaScript权威指南》第六版P204中，讲到使用构造函数定义类时，提到“Range()构造函数是通过new关键字调用的(在示例代码的末尾)”，如下图：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/error-p-204-cn.png\" alt=\"\"></p>\n<p>　　找了半天没看出来示例代码中到底是怎么通过new关键字调用的，于是，查看了一下原书第六版，如下图：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/error-p-204-en.png\" alt=\"\"></p>\n<p>　　好吧，原来中文版这里出现了一点小错误，直接将前一页P203示例代码“用原型对象定义方法”中的代码粘贴过来了，怪不得找不到，= =。</p>\n<p>　　<font color=\"red\">从概念上讲，这是有很大不同的。是否使用new关键字创建实例对象，是工厂模式和构造函数模式创建对象的重要区别之一，详细可以参考《JavaScript高级程序设计(第3版)》P145。</font></p>\n"},{"title":"JavaScript数组方法对比总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/09/js-array-method-sum-up/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　本文对JavaScript中数组类型（Array）的常用方法进行总结，主要包括其API，使用示例和<font color=\"red\">是否直接操作/修改原数组的分析</font>。文章最后会对ECMAScript5中提供的数组方法进行小结。</p>\n<hr>\n<h2 id=\"join\"><a href=\"#join\" class=\"headerlink\" title=\"join()\"></a>join()</h2><p><strong>作用</strong><br>　　将数组元素衔接为字符串。<br><strong>参数</strong><br>　　<code>array.join()</code><br>　　<code>array.join(separator)</code><br>　　separator： 在返回的拼接字符串中，用以连接原来数组元素的分隔符。如果缺省，默认英文逗号”,”。<br><strong>返回值</strong><br>　　一个由separator连接的字符串。<br><strong>说明</strong><br>　　该方法将一个数组的元素连接在一起成为字符串，也有相反的方法-split()，而这个方法是String类型的方法，不在这里的讨论范围之内。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-join-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-join-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">join()方法并未修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"reverse\"><a href=\"#reverse\" class=\"headerlink\" title=\"reverse()\"></a>reverse()</h2><p><strong>作用</strong><br>　　颠倒数组中元素顺序。<br><strong>参数</strong><br>　　<code>array.reverse()</code><br><strong>返回值</strong><br>　　元素顺序调整后的数组。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-reverse-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-reverse-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">reverse()方法会直接修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"sort\"><a href=\"#sort\" class=\"headerlink\" title=\"sort()\"></a>sort()</h2><p><strong>作用</strong><br>　　对数组元素进行排序。<br><strong>参数</strong><br>　　<code>array.sort()</code><br>　　<code>array.sort(orderfunc)</code><br>　　orderfunc： 用来指定如何排序的可选函数。<br><strong>返回值</strong><br>　　元素排序后的数组。<br><strong>说明</strong><br>　　1.不带参数时，默认按字母顺序（准确说是字符编码顺序）进行排序；<br>　　2.orderfunc可以自定义排序方式，该函数接受两个参数，返回一个数字，根据数字与0的大小关系确定排序方式：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//升序，m-n小于0，n大，表明m排在n前面</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">orderfunc</span>(<span class=\"params\">m,n</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> m - n;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//降序，n-m小于0，m大，表明m排在n前面</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">orderfunc</span>(<span class=\"params\">m,n</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> n - m;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-sort-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-sort-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">sort()方法会直接修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"concat\"><a href=\"#concat\" class=\"headerlink\" title=\"concat()\"></a>concat()</h2><p><strong>作用</strong><br>　　连接数组。<br><strong>参数</strong><br>　　<code>array.concat(value1, value2, ...)</code><br>　　value1, value2, …： 要连接到数组中的元素。<br><strong>返回值</strong><br>　　连接新元素后的数组。<br><strong>说明</strong><br>　　1. 如果新连接的元素中任何一个自身就是数组，那么会将其每个元素依次进行连接（而不是将该数组元素作为一个独立的元素进行连接）。<br>　　2. 但是，如果某个新元素是一个数组，且这个数组中还有某些元素是数组，那么concat()方法并不会递归进行扁平化，也就是说：<br>  <code>var a = [1,2,3];</code><br>  <code>a.concat(4,[5,[6,7]]); //会返回 [1,2,3,4,5,[6,7]]</code> </p>\n<p><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-concat-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-concat-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">concat()方法并未修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"slice\"><a href=\"#slice\" class=\"headerlink\" title=\"slice()\"></a>slice()</h2><p><strong>作用</strong><br>　　获取数组的一部分。<br><strong>参数</strong><br>　　<code>array.slice(start, end)</code><br>　　start： 数组片段的开始序号，如果为负数，则表示从尾部开始计算，即：-1表示最后一个元素，以此类推。<br>　　end： 数组片段的结束序号<font coloe=\"red\">的后一个序号</font>。如果未指定，则一直到末尾；如果为负数，则表示从尾部开始计算。<br><strong>返回值</strong><br>　　数组片段-子数组。<br><strong>说明</strong><br>　　如果想要移除数组的一部分，应使用splice()方法。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-slice-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-slice-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">slice()方法并未修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"splice\"><a href=\"#splice\" class=\"headerlink\" title=\"splice()\"></a>splice()</h2><p><strong>作用</strong><br>　　插入，删除或者替换数组元素。<br><strong>参数</strong><br>　　<code>array.splice(start, deleteCount, value, ...)</code><br>　　start： 开始插入/删除数组元素的位置序号。<br>　　deleteCount： 要删除的个数，从start开始（并且包含start）。如果为0，则表明不删除，直接插入。<br>　　value, …： 将要插入的零个或多个值。<br><strong>返回值</strong><br>　　如果删除个数不为零，则返回被删除元素组成的数组；否则，返回空数组[]。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-splice-1.png\" alt=\"\"><br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-splice-2.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-splice-3.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">splice()方法会直接修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"push\"><a href=\"#push\" class=\"headerlink\" title=\"push()\"></a>push()</h2><p><strong>作用</strong><br>　　给数组追加元素。<br><strong>参数</strong><br>　　<code>array.push(value, ...)</code><br>　　value, …： 将要插入的零个或多个值。<br><strong>返回值</strong><br>　　新数组的长度。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-push-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-push-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">push()方法会直接修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"pop\"><a href=\"#pop\" class=\"headerlink\" title=\"pop()\"></a>pop()</h2><p><strong>作用</strong><br>　　移除数组的最后一个元素。<br><strong>参数</strong><br>　　<code>array.pop()</code><br><strong>返回值</strong><br>　　被移除的最后一个元素。<br><strong>说明</strong><br>　　如果数组已经为空，pop()不会修改数组，直接返回undefined。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-pop-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-pop-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">pop()方法会直接修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"unshift\"><a href=\"#unshift\" class=\"headerlink\" title=\"unshift()\"></a>unshift()</h2><p><strong>作用</strong><br>　　在数组头部插入元素。<br><strong>参数</strong><br>　　<code>array.unshift(value, ...)</code><br>　　value, …：将要插入的零个或多个值。<br><strong>返回值</strong><br>　　新数组的长度。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-unshift-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-unshift-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">unshift()方法会直接修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"shift\"><a href=\"#shift\" class=\"headerlink\" title=\"shift()\"></a>shift()</h2><p><strong>作用</strong><br>　　移除数组的第一个元素。<br><strong>参数</strong><br>　　<code>array.shift()</code><br><strong>返回值</strong><br>　　数组原来的第一个元素。<br><strong>说明</strong><br>　　如果数组已经为空，shift()不会修改数组，直接返回undefined。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-shift-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-shift-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">shift()方法会直接修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"toString-NaN\"><a href=\"#toString-NaN\" class=\"headerlink\" title=\"toString()\"></a>toString()</h2><p><strong>作用</strong><br>　　将原数组转换为字符串。<br><strong>参数</strong><br>　　<code>array.toString()</code><br><strong>返回值</strong><br>　　数组的字符串表示。<br><strong>说明</strong><br>　　如果调用该方法的对象不是Array，将会抛出TypeError异常。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-tostring-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-tostring-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">toString()方法并未修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"toLocaleString-NaN\"><a href=\"#toLocaleString-NaN\" class=\"headerlink\" title=\"toLocaleString()\"></a>toLocaleString()</h2><p><strong>作用</strong><br>　　将原数组转换为本地字符串。<br><strong>参数</strong><br>　　<code>array.toLocaleString()</code><br><strong>返回值</strong><br>　　数组的字符串表示。<br><strong>说明</strong><br>　　1.如果调用该方法的对象不是Array，将会抛出TypeError异常。<br>　　2.toLocaleString()和toString()的区别在于，toLocaleString()会根据你机器的本地环境来返回字符串,它和toString()返回的值在不同的本地环境下使用的符号会有微妙的变化。这一点在时间转换上的区别比较明显：<br>  在本机中文环境下：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/tolocaleString.png\" alt=\"\"><br>  而在英文环境下则可能会有不同的时间显示格式。<br><strong>使用示例</strong><br>　　在chrome的控制台中做如下操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-toLocaleString-1.png\" alt=\"\"><br><strong>是否直接操作/修改原数组</strong><br>　　在上图示例基础上，打印原数组值：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/array-toLocaleString-2.png\" alt=\"\"><br>  由此可得：<br>  <font color=\"red\">toLocaleString()方法并未修改操作的数组本身</font>。</p>\n<hr>\n<h2 id=\"ECMAScript5中新增数组方法\"><a href=\"#ECMAScript5中新增数组方法\" class=\"headerlink\" title=\"ECMAScript5中新增数组方法\"></a>ECMAScript5中新增数组方法</h2><blockquote>\n<p>说明：以下方法侧重于在数组上进行更为复杂的操作，因此是否修改原数组不能一概而论，很大程度依赖于其中自定义函数的内容。</p>\n</blockquote>\n<h3 id=\"forEach\"><a href=\"#forEach\" class=\"headerlink\" title=\"forEach()\"></a>forEach()</h3><p><strong>作用</strong><br>　　为每一个数组元素调用一个函数。<br><strong>参数</strong><br>　　<code>array.forEach(f, o)</code><br>　　f：为每个元素调用的函数<br>　　o：调用f时的this值（作用域，上下文环境）<br><strong>返回值</strong><br>　　无</p>\n<hr>\n<h3 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map()\"></a>map()</h3><p><strong>作用</strong><br>　　根据给定的规则将原数组中每个元素重新计算。<br><strong>参数</strong><br>　　<code>array.map(f, o)</code><br>　　f：为每个元素调用的函数<br>　　o：调用f时的this值（作用域，上下文环境）<br><strong>返回值</strong><br>　　新数组，由f计算生成。</p>\n<hr>\n<h3 id=\"filter\"><a href=\"#filter\" class=\"headerlink\" title=\"filter()\"></a>filter()</h3><p><strong>作用</strong><br>　　筛选通过断言的数组元素。<br><strong>参数</strong><br>　　<code>array.filter(predicate, o)</code><br>　　predicate：为每个元素调用的函数<br>　　o：调用predicate时的this值（作用域，上下文环境）<br><strong>返回值</strong><br>　　新数组，由predicate计算生成。</p>\n<hr>\n<h3 id=\"every\"><a href=\"#every\" class=\"headerlink\" title=\"every()\"></a>every()</h3><p><strong>作用</strong><br>　　测试断言函数是否对每个元素均为真。<br><strong>参数</strong><br>　　<code>array.every(predicate, o)</code><br>　　predicate：为每个元素调用的函数<br>　　o：调用predicate时的this值（作用域，上下文环境）<br><strong>返回值</strong><br>　　true：每个元素经过断言函数测试均为真。<br>　　false：有任意一个或更多元素元素经过断言函数测试为假。</p>\n<hr>\n<h3 id=\"some\"><a href=\"#some\" class=\"headerlink\" title=\"some()\"></a>some()</h3><p><strong>作用</strong><br>　　测试是否有元素满足断言函数。<br><strong>参数</strong><br>　　<code>array.some(predicate, o)</code><br>　　predicate：为每个元素调用的函数<br>　　o：调用predicate时的this值（作用域，上下文环境）<br><strong>返回值</strong><br>　　true：至少有一个元素经过断言函数测试均为真。<br>　　false：全部元素经过断言函数测试为假。</p>\n<hr>\n<h3 id=\"reduce\"><a href=\"#reduce\" class=\"headerlink\" title=\"reduce()\"></a>reduce()</h3><p><strong>作用</strong><br>　　从数组元素中计算出一个值。<br><strong>参数</strong><br>　　<code>array.reduce(f, inital)</code><br>　　f：合并两个值的函数<br>　　o：可选初始值。<br><strong>返回值</strong><br>　　数组化简后的一个值。</p>\n<hr>\n<h3 id=\"reduceRight\"><a href=\"#reduceRight\" class=\"headerlink\" title=\"reduceRight()\"></a>reduceRight()</h3><p><strong>作用</strong><br>　　从数组元素中计算出一个值(从右到左)。<br><strong>参数</strong><br>　　<code>array.reduceRight(f, inital)</code><br>　　f：合并两个值的函数<br>　　o：可选初始值。<br><strong>返回值</strong><br>　　数组化简后的一个值。</p>\n<hr>\n<h3 id=\"indexOf\"><a href=\"#indexOf\" class=\"headerlink\" title=\"indexOf()\"></a>indexOf()</h3><p><strong>作用</strong><br>　　查找数组。<br><strong>参数</strong><br>　　<code>array.indexOf(value, start)</code><br>　　value：将要查找的值<br>　　start：开始查找的数组序号。如果省略，则为零，从最开始查找。<br><strong>返回值</strong><br>　　大于等于start的最小序号值。如果不存在，返回-1。</p>\n<hr>\n<h3 id=\"lastIndexOf\"><a href=\"#lastIndexOf\" class=\"headerlink\" title=\"lastIndexOf()\"></a>lastIndexOf()</h3><p><strong>作用</strong><br>　　反向查找数组。<br><strong>参数</strong><br>　　<code>array.lastIndexOf(value, start)</code><br>　　value：将要查找的值<br>　　start：开始查找的数组序号。如果省略，从最后一个元素开始查找。<br><strong>返回值</strong><br>　　小于等于start的最小序号值。如果不存在，返回-1。</p>\n"},{"title":"JavaScript的caller属性和callee属性对比总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/09/js-caller-callee/","content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p>　　要说这两个方法，必须先说另一个东西—实参对象（arguments）。标识符arguments是指向实参对象的引用。当传入某个函数的参数个数超过函数定义时指定的形参个数时，默认的处理方法是自动忽略多出来的参数。也就是说，默认这不会引起错误。但是这会有另一个问题：无法获取多出来的参数的引用了（无法知道多出来的参数具体值是什么）。这也正是实参对象arguments可以解决的问题。通过arguments和数字下标，我们就可以获取任意某个传入的参数了。之所以能够通过数字下标，是因为arguments是一个类数组对象，有着以数字为索引的一系列属性（至于什么是类数组对象，在<a href=\"http://gcidea.info/2016/06/09/js-call-apply/\" target=\"_blank\" rel=\"external\">这篇文章</a>中提到过）。除了这些属性外，正如真正的数组一样，arguments还有一个length属性，用来标识传入参数的总个数。arguments的存在，极大提高了传参的灵活性，可以使得函数扩展性更好，可操作任意数量的参数。在<a href=\"http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf\" target=\"_blank\" rel=\"external\">ECMA-262, 3rd官方文档</a>中，对于一个函数被调用后，arguments对象的创建和初始化描述如下：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/ecma-arguments-caller.png\" alt=\"\"></p>\n<p>　　本文要提到的caller属性和callee属性，正是和arguments对象相关两个属性。理解的时候，可以类比“employer”和“employee”这两个单词，即“雇主”和“雇员”的概念。</p>\n<hr>\n<h2 id=\"caller属性\"><a href=\"#caller属性\" class=\"headerlink\" title=\"caller属性\"></a>caller属性</h2><p>　　在ECMAScript5严格模式中，对此属性的读/写操作均会产生类型错误<code>TypeError</code>。<br>　　在非严格模式下，caller属性表示调用当前正在执行的函数的函数。如果函数是由顶层来调用，那么caller的值为null。见如下实验过程：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-caller-1.png\" alt=\"\"><br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-caller-2.png\" alt=\"\"></p>\n<blockquote>\n<p>注意：caller是由函数来调用的，即格式为：<code>functionName.caller</code>，而不是<code>arguments.caller</code>，也就是说caller不是arguments的属性。如果写成了arguments.caller，编辑器也会给出如下警告：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-caller-3.png\" alt=\"\"></p>\n</blockquote>\n<hr>\n<h2 id=\"callee属性\"><a href=\"#callee属性\" class=\"headerlink\" title=\"callee属性\"></a>callee属性</h2><p>　　在ECMAScript5严格模式中，对此属性的读/写操作均会产生类型错误<code>TypeError</code>。<br>　　在非严格模式下，callee属性表示当前正在执行的函数。如下所示：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-callee-1.png\" alt=\"\"></p>\n<p>　　callee属性常用于递归操作：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-callee-2.png\" alt=\"\"></p>\n<p>　　这种情况下，可以给callee()传入参数，但是在上述过程中，通过caller或者callee获取“调用正在执行的函数的函数”或者“正在执行的函数”时，是以“属性”体现的，也就是说不能在caller或者callee后面加括号，否则报如下错误：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-callee-error.png\" alt=\"\"></p>\n<p>　　另外，arguments.length是实参长度，arguments.callee.length是形参长度，由此callee也可以用于判断调用时形参长度是否和实参长度一致。</p>\n<hr>\n<h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>　　在ES6中（默认就是严格模式），上述两种属性被禁用。</p>\n"},{"title":"JavaScript的null和undefined对比总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/09/js-null-undefined/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　说到这两个类型，首先应该从整体上明确一下JavaScript中提供的数据类型。<br>　　JavaScript中的数据类型分为两类：原始类型和对象类型。<br>　　其中，原始类型又可以细分为如下5类：数字，字符串，布尔值，null，undefined。<br>　　null和undefined都表示一种“空缺”的意思，但具体还有很多细节不同。</p>\n<hr>\n<h2 id=\"null\"><a href=\"#null\" class=\"headerlink\" title=\"null\"></a>null</h2><h3 id=\"类型检测\"><a href=\"#类型检测\" class=\"headerlink\" title=\"类型检测\"></a>类型检测</h3><p>对<code>null</code>使用<code>typeof</code>检测，可得：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-null-1.png\" alt=\"\"></p>\n<h3 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>　　由以上结果可以看出，可以认为null是一种特殊的对象，表明了“非对象”这种概念。</p>\n<hr>\n<h2 id=\"undefined\"><a href=\"#undefined\" class=\"headerlink\" title=\"undefined\"></a>undefined</h2><h3 id=\"类型检测-1\"><a href=\"#类型检测-1\" class=\"headerlink\" title=\"类型检测\"></a>类型检测</h3><p>对<code>undefined</code>使用<code>typeof</code>检测，可得：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-undefined-1.png\" alt=\"\"></p>\n<h3 id=\"说明-1\"><a href=\"#说明-1\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>　　undefined表明变量没有初始化。有以下几种常见情况的返回值是undefined：</p>\n<ol>\n<li>如果一个元素不存在，那么在查询这个元素时会返回undefined。</li>\n<li>如果一个函数没有返回值，那么默认返回的是undefined。</li>\n<li>如果引用一个函数的某个形参值，但是这个形参却没有被赋予一个实参，那么会返回undefined。</li>\n</ol>\n<hr>\n<h2 id=\"综合分析\"><a href=\"#综合分析\" class=\"headerlink\" title=\"综合分析\"></a>综合分析</h2><ol>\n<li>相等运算符认为二者是一样的：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-null-undefined-1.png\" alt=\"\"></li>\n<li>严格相等运算符才能看出二者不同：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-null-undefined-2.png\" alt=\"\"></li>\n<li>这两个类型是没有属性或者方法的（它们是基本类型，但没有对应的包装类型）：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-null-undefined-3.png\" alt=\"\"></li>\n</ol>\n"},{"title":"CSS相关单位(pt,px,PPI,DPI,em,rem)","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/07/conventional-unit/","content":"<h2 id=\"单位介绍\"><a href=\"#单位介绍\" class=\"headerlink\" title=\"单位介绍\"></a>单位介绍</h2><ul>\n<li><p>pt:磅（point），绝对单位，印刷行业常用，等于1/72英寸(即0.03526厘米，1英寸 = 2.54厘米)。</p>\n</li>\n<li><p>px:像素（pixel），相对长度单位，相对于显示器屏幕分辨率而言。</p>\n</li>\n<li><p>PPI:像素密度（Pixel Per Inch），每英寸所拥有的像素数量。因此PPI数值越高，即代表显示屏能够以越高的密度显示图像。当然，显示的密度越高，拟真度就越高。</p>\n</li>\n<li><p>DPI:点数密度（Dots Per Inch）,每英寸所拥有的点数。是打印机、鼠标等设备分辨率的单位。这是衡量打印机打印精度的主要参数之一，一般来说，该值越大，表明打印机的打印精度越高。比如戴尔显示器U2515的像素间距为0.216毫米，即DPI=117。（2.54/0.0216）但是在本文讨论中，只考虑在显示设备上的情况，不再区分PPI,DPI。</p>\n</li>\n<li><p>em:相对长度单位。相对于当前对象（父级）内文本的字体尺寸而言。它的值不是固定的，会继承父级元素的字体大小。任意浏览器的默认字体是16px。所有未经调整的浏览器都符合: 1em=16px。那么12px=0.75em,10px=0.625em。为了简化font-size的换算，常在css中的body选择器中声明<code>font-size: 62.5%;</code>，这就使1em变为 16px&times;62.5%=10px, 这样12px=1.2em, 10px=1em, 也就是说只需要将原来的px数值除以10，然后换上em作为单位即可。</p>\n</li>\n<li><p>rem:根元素大小（font size of the root element）。“em”是相对于其父元素来设置字体大小的，这样就会存在一个问题，进行任何元素设置，都有可能需要知道父元素的大小，在多次使用时，就会带来无法预知的连锁反应错误风险。而rem是相对于根元素<html>，这样就意味着，我们只需要在根元素确定一个参考值。比如：</html></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">html</span> &#123;<span class=\"attribute\">font-size</span>: <span class=\"number\">62.5%</span>;<span class=\"comment\">/*10 ÷ 16 × 100% = 62.5%*/</span>&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;<span class=\"attribute\">font-size</span>: <span class=\"number\">1.4rem</span>;<span class=\"comment\">/*1.4 × 10px = 14px */</span>&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">h1</span> &#123; <span class=\"attribute\">font-size</span>: <span class=\"number\">2.4rem</span>;<span class=\"comment\">/*2.4 × 10px = 24px*/</span>&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h2 id=\"换算关系\"><a href=\"#换算关系\" class=\"headerlink\" title=\"换算关系\"></a>换算关系</h2><ol>\n<li>1pt = (DPI / 72)px</li>\n<li>DPI = PPI</li>\n<li>PPI = 屏幕对角线上的像素点数/对角线长度 = (√(屏幕横向像素点^2 + 屏幕纵向像素点^2))/对角线长度</li>\n<li>1em = 16px(默认)</li>\n</ol>\n"},{"title":"使用JavaScript实现轮播图效果(JavaScript运动框架案例)","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/07/js-carousel/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　轮播图组件是一种网站中常见的表现形式。常用于广告位，头条新闻等重要信息的展示而且将图片和信息结合起来，引人注意。轮播图最重要的自然是“轮播”，也就是要让页面中的DOM元素“动”起来。这就自然需要先简单提一下JavaScript的运动框架。</p>\n<hr>\n<h2 id=\"JavaScript运动框架简介\"><a href=\"#JavaScript运动框架简介\" class=\"headerlink\" title=\"JavaScript运动框架简介\"></a>JavaScript运动框架简介</h2><p>　　JavaScript运动框架就是指利用js和DOM元素配合，利用js的相关函数以一定的频率操作改变DOM元素的位置，这样形成的连续效果就是DOM元素的任意运动。通过元素透明度，路径，速度，加速度，大小，颜色，字体等等方面的改变，可以形成很多很炫的效果，但是这里只展示一个最简单的例子，只为了说明问题，涉及到了元素加速度，速度，路径，大小。<br>　　先展示一下基本的效果：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-carousel-1.gif\" alt=\"\"></p>\n<p>涉及到的几个要点是：<br>  1.预先设计好想要的运动效果<br>  2.合理使用setInterval()函数实现对元素的连续操作<br>  3.使用clearInterval()及时清理不需要的计时器，防止多个计时器叠加导致运动混乱<br>  4.“速度”的概念是通过setInterval()函数的执行间隔和指定的单位时间移动距离共同实现的<br>  5.“加速度”的概念是通过将“一个固定的预定值”和“当前元素位置”的变化反映到速度上实现的</p>\n<p>  上述例子的完整代码如下：<br>  <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>move<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"jquery-1.9.1.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--简单设定元素样式--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">            <span class=\"selector-id\">#div1</span> &#123;</span><br><span class=\"line\">                <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid darkgray;</span><br><span class=\"line\">                <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">                <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">                <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;</span><br><span class=\"line\">                <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">                <span class=\"attribute\">background-color</span>: deepskyblue;</span><br><span class=\"line\">                <span class=\"attribute\">margin-top</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">                <span class=\"attribute\">font-family</span>: <span class=\"string\">\"Microsoft YaHei\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"wrapper\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">id</span>=<span class=\"string\">\"btn\"</span>&gt;</span>点击演示<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div1\"</span>&gt;</span>运动框架示例<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span><br><span class=\"line\">        <span class=\"comment\">/*声明定时器*/</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        $(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            $(<span class=\"string\">\"#btn\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                clearInterval(timer);</span><br><span class=\"line\">                moveFramework($(<span class=\"string\">\"#div1\"</span>), <span class=\"number\">1000</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"keyword\">var</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">moveFramework</span>(<span class=\"params\">element, moveTarget, speed</span>) </span>&#123;</span><br><span class=\"line\">            timer = setInterval(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> left = $(<span class=\"string\">\"#div1\"</span>).offset().left;</span><br><span class=\"line\">    </span><br><span class=\"line\">                <span class=\"comment\">/*速度大于零，向右运动*/</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(speed &gt;= <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    $(<span class=\"string\">\"#div1\"</span>).html(<span class=\"string\">\"运动框架--&gt;正向运动\"</span>);</span><br><span class=\"line\">                    $(<span class=\"string\">\"#div1\"</span>).css(<span class=\"string\">\"background-color\"</span>, <span class=\"string\">\"deepskyblue\"</span>);</span><br><span class=\"line\">                    <span class=\"comment\">/*达到运动边界后，改变初始值，递归调用下一次的控制函数*/</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(left &gt;= moveTarget)&#123;</span><br><span class=\"line\">                        clearInterval(timer);</span><br><span class=\"line\">                        moveFramework(element, <span class=\"number\">0</span>, <span class=\"number\">-5</span>);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">/*加速度设置*/</span></span><br><span class=\"line\">                        speed = <span class=\"built_in\">Math</span>.ceil((moveTarget - left)/<span class=\"number\">50</span>);</span><br><span class=\"line\">                        element.css(<span class=\"string\">\"left\"</span>, left + speed + <span class=\"string\">\"px\"</span>);</span><br><span class=\"line\">                        element.height(element.height() + <span class=\"number\">1</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">/*速度小于零，向左运动*/</span></span><br><span class=\"line\">                    $(<span class=\"string\">\"#div1\"</span>).html(<span class=\"string\">\"运动框架反向运动\"</span>);</span><br><span class=\"line\">                    $(<span class=\"string\">\"#div1\"</span>).css(<span class=\"string\">\"background-color\"</span>, <span class=\"string\">\"yellow\"</span>);</span><br><span class=\"line\">                    <span class=\"comment\">/*达到运动边界后，改变初始值，递归调用下一次的控制函数*/</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(left &lt;= moveTarget)&#123;</span><br><span class=\"line\">                        clearInterval(timer);</span><br><span class=\"line\">                        moveFramework(element, <span class=\"number\">1000</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">/*加速度设置*/</span></span><br><span class=\"line\">                        speed = <span class=\"built_in\">Math</span>.floor((moveTarget - left)/<span class=\"number\">50</span>);</span><br><span class=\"line\">                        element.css(<span class=\"string\">\"left\"</span>, left + speed + <span class=\"string\">\"px\"</span>);</span><br><span class=\"line\">                        element.height(element.height() - <span class=\"number\">1</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;, <span class=\"number\">10</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"JavaScript轮播图组件实现过程\"><a href=\"#JavaScript轮播图组件实现过程\" class=\"headerlink\" title=\"JavaScript轮播图组件实现过程\"></a>JavaScript轮播图组件实现过程</h2><h3 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h3><p>　　轮播图的实现充分结合了HTML+CSS+JavaScript。实现该效果并不是每点击一次“下一个”或者“上一个”就再去请求一张图片，而是渲染时一次性加载好所有内容，只不过为了实现这种动态轮播的效果，将其他图片做了隐藏，保证每次只展现一张。实现时，将一系列图片水平排列，通过父级元素宽度和overflow的设定，保证每次只看到一张，再通过JavaScript让元素动起来，定时修改包含一系列图片的容器的位置，实现轮播效果。更多原理的描述单靠文字会比较抽象，可以直接通过代码说明。</p>\n<h3 id=\"HTML基本结构\"><a href=\"#HTML基本结构\" class=\"headerlink\" title=\"HTML基本结构\"></a>HTML基本结构</h3><p>　　文档结构最主要的及部分如下：<br>  1.图片列表<br>  2.图片下方背景层<br>  3.图片左下角描述信息列表<br>  4.图片右下角序号列表</p>\n<p>  完整代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>js轮播图组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./js/jquery-1.9.1.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"./css/carousel.css\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 最外层包裹 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"wrapper\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- 轮播图组件 --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"banner\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"comment\">&lt;!-- 图片列表 --&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"imgList\"</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"#\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./img/1.jpg\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"picture 1 图片描述\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"#\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./img/2.jpg\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"picture 2 图片描述\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"#\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./img/3.jpg\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"picture 3 图片描述\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"#\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./img/4.jpg\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"picture 4 图片描述\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"#\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./img/5.jpg\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"picture 5 图片描述\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">                <span class=\"comment\">&lt;!-- 左右选择箭头 --&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./img/left_arrow.png\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"21px\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"33px\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"prev\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./img/right_arrow.png\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"21px\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"33px\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"next\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"comment\">&lt;!-- 图片底部背景层--&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bg\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"comment\">&lt;!-- 图片左下方信息列表 --&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"infoList\"</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"infoOn\"</span>&gt;</span>picture 1 图片描述<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>picture 2 图片描述<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>picture 3 图片描述<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>picture 4 图片描述<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>picture 5 图片描述<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">                <span class=\"comment\">&lt;!-- 图片右下方序号列表 --&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"indexList\"</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"indexOn\"</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./js/carousel.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"CSS设计\"><a href=\"#CSS设计\" class=\"headerlink\" title=\"CSS设计\"></a>CSS设计</h3><p>　　在轮播图的实现中，CSS的作用除了设定更美观的字体，元素边框，颜色等以外，更重要的在于将图片排列在水平一行之中，并且对多余部分进行隐藏。<br>　　完整代码如下：<br>  <figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*整体清除margin padding*/</span></span><br><span class=\"line\"><span class=\"selector-tag\">body</span>,<span class=\"selector-tag\">div</span>,<span class=\"selector-tag\">ul</span>,<span class=\"selector-tag\">li</span>,<span class=\"selector-tag\">a</span>,<span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置列表及元素无修饰样式-指无序列表前的小方点或小圆点*/</span></span><br><span class=\"line\"><span class=\"selector-tag\">ul</span>,<span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">list-style</span>: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置轮播图片大小*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.imgList</span> <span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">800px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">400px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置超链接无修饰样式-指下划线等*/</span></span><br><span class=\"line\"><span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">text-decoration</span>: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置轮播图最外层包裹元素样式，为相对定位（这样子元素方便以绝对定位的方式相对wrapper进行定位），margin的auto可以保证元素自适应居中*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#wrapper</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">30px</span> auto;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">800px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">400px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置轮播图组件的容器样式，重点在于overflow: hidden;正是它保证了多余图片隐藏，只显示一张*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#banner</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>:relative;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">800px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">400px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置图片列表的样式，每张图片宽800px,共5张图片，故总宽度800*5=4000px。*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.imgList</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>:relative;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>:<span class=\"number\">4000px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>:<span class=\"number\">400px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">10</span>;</span><br><span class=\"line\">    <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置图片列表中每个元素-即每张图片的样式，向左浮动保证图片显示在一行*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.imgList</span> <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>:left;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置“前一张”、“后一张”按钮的样式，绝对定位，相对于最近的一个relative父级元素*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#prev</span>,</span><br><span class=\"line\"><span class=\"selector-id\">#next</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>:<span class=\"number\">160px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">20</span>;</span><br><span class=\"line\">    <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0.8</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*单独设置一下“前一张”按钮距左边的距离*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#prev</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*单独设置一下“后一张”按钮距右边的距离*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#next</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置“前一张”、“后一张”按钮的伪类hover效果*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#prev</span><span class=\"selector-pseudo\">:hover</span>,</span><br><span class=\"line\"><span class=\"selector-id\">#next</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0.9</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置图片下方背景区样式，绝对定位，相对于最近的一个relative父级元素；一定要设置透明度，更加美观*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.bg</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>:<span class=\"number\">20</span>;</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0.4</span>;</span><br><span class=\"line\">    <span class=\"attribute\">font-family</span>: <span class=\"string\">\"Microsoft YaHei\"</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: whitesmoke;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置图片左下方文字描述列表的样式*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.infoList</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">30</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置文字描述中每一个元素的样式，注意一定要设置display: none;，不然所有图片的文字描述会一次性全显示出来。后续通过js让其逐一显示*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.infoList</span> <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none;</span><br><span class=\"line\">    <span class=\"attribute\">font-family</span>: <span class=\"string\">\"Microsoft YaHei\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置当前正展示的图片的文字描述样式*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.infoList</span> <span class=\"selector-class\">.infoOn</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: white;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置图片右下方序号列表的样式*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.indexList</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">30</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置序号列表中每一个元素的样式，向左浮动保证显示在一行*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.indexList</span> <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">margin-right</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">2px</span> <span class=\"number\">4px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid white;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">3px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: grey;</span><br><span class=\"line\">    <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">    <span class=\"attribute\">font-family</span>: <span class=\"string\">\"Microsoft YaHei\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置序号列表中每一个元素的hover样式*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.indexList</span> <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>:deepskyblue;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*设置当前正展示的图片的序号样式*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.indexList</span> <span class=\"selector-class\">.indexOn</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: greenyellow;</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: orangered;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"JavaScript控制逻辑\"><a href=\"#JavaScript控制逻辑\" class=\"headerlink\" title=\"JavaScript控制逻辑\"></a>JavaScript控制逻辑</h3><p>　　JavaScript的控制逻辑本质上和前面提到的运动框架是一样的，完整代码如下：<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Created by gaochang on 2016/6/3.</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//当前index</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> curIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//图片总数</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> imgLen = $(<span class=\"string\">\".imgList li\"</span>).length;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 定时器 每两秒切换一次</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> autoChange = setInterval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(curIndex &lt; imgLen<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">        curIndex ++;</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        curIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//调用变换处理函数</span></span><br><span class=\"line\">    changeTo(curIndex);</span><br><span class=\"line\">&#125;,<span class=\"number\">2000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//左箭头滑入滑出事件处理</span></span><br><span class=\"line\">$(<span class=\"string\">\"#prev\"</span>).hover(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//滑入清除定时器，接着再去等待点击事件</span></span><br><span class=\"line\">    clearInterval(autoChange);</span><br><span class=\"line\">&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//滑出则重置定时器，接着继续自动切换</span></span><br><span class=\"line\">    autoChangeAgain();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//左箭头点击处理</span></span><br><span class=\"line\">$(<span class=\"string\">\"#prev\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//根据curIndex进行上一个图片处理</span></span><br><span class=\"line\">    curIndex = (curIndex &gt; <span class=\"number\">0</span>) ? (--curIndex) : (imgLen - <span class=\"number\">1</span>);</span><br><span class=\"line\">    changeTo(curIndex);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//右箭头滑入滑出事件处理</span></span><br><span class=\"line\">$(<span class=\"string\">\"#next\"</span>).hover(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//滑入清除定时器，接着再去等待点击事件</span></span><br><span class=\"line\">    clearInterval(autoChange);</span><br><span class=\"line\">&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//滑出则重置定时器，接着继续自动切换</span></span><br><span class=\"line\">    autoChangeAgain();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//右箭头点击处理</span></span><br><span class=\"line\">$(<span class=\"string\">\"#next\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    curIndex = (curIndex &lt; imgLen - <span class=\"number\">1</span>) ? (++curIndex) : <span class=\"number\">0</span>;</span><br><span class=\"line\">    changeTo(curIndex);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//对右下角按钮index进行事件绑定处理等</span></span><br><span class=\"line\">$(<span class=\"string\">\".indexList\"</span>).find(<span class=\"string\">\"li\"</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">item</span>)</span>&#123;</span><br><span class=\"line\">    $(<span class=\"keyword\">this</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        clearInterval(autoChange);</span><br><span class=\"line\">        changeTo(item);</span><br><span class=\"line\">        curIndex = item;</span><br><span class=\"line\">        autoChangeAgain();</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//清除定时器时候的重置定时器--封装</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">autoChangeAgain</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    autoChange = setInterval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(curIndex &lt; imgLen<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">            curIndex ++;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            curIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//调用变换处理函数</span></span><br><span class=\"line\">        changeTo(curIndex);</span><br><span class=\"line\">    &#125;,<span class=\"number\">2000</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">changeTo</span>(<span class=\"params\">num</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> goLeft = num * <span class=\"number\">800</span>;</span><br><span class=\"line\">    $(<span class=\"string\">\".imgList\"</span>).animate(&#123;</span><br><span class=\"line\">        left: <span class=\"string\">\"-\"</span> + goLeft + <span class=\"string\">\"px\"</span>,</span><br><span class=\"line\">    &#125;,<span class=\"number\">500</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    $(<span class=\"string\">\".infoList\"</span>).find(<span class=\"string\">\"li\"</span>).removeClass(<span class=\"string\">\"infoOn\"</span>).eq(num).addClass(<span class=\"string\">\"infoOn\"</span>);</span><br><span class=\"line\">    $(<span class=\"string\">\".indexList\"</span>).find(<span class=\"string\">\"li\"</span>).removeClass(<span class=\"string\">\"indexOn\"</span>).eq(num).addClass(<span class=\"string\">\"indexOn\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h3><p>　　轮播图的效果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-carousel-2.gif\" alt=\"\"></p>\n<h3 id=\"可以扩展的地方\"><a href=\"#可以扩展的地方\" class=\"headerlink\" title=\"可以扩展的地方\"></a>可以扩展的地方</h3><p>　　上述过程已经实现了基本的轮播图，但是还可以对效果进行丰富，可以考虑的方面比如：<br>1.加上立体效果，如正在展示的图片加上倒影效果，且可以看到全部图片，只不过其他图片（除了正在展示的图片）都缩小/加毛玻璃效果等；<br>2.在轮播图组件最下方增加全部图片缩略图预览，使得不仅可以点击序号，还可以直接点击某个缩略图到达具体对应的大图；</p>\n"},{"title":"CSS定位问题总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/05/css-position/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　本篇集中对CSS中的定位问题进行总结。</p>\n<hr>\n<h2 id=\"CSS相对定位问题\"><a href=\"#CSS相对定位问题\" class=\"headerlink\" title=\"CSS相对定位问题\"></a>CSS相对定位问题</h2><hr>\n<h2 id=\"CSS绝对定位问题\"><a href=\"#CSS绝对定位问题\" class=\"headerlink\" title=\"CSS绝对定位问题\"></a>CSS绝对定位问题</h2>"},{"title":"CSS居中问题总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/03/css-center/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　本篇集中对CSS中的各种居中问题进行总结。整体上需要居中的元素可以分为两大类-内联元素和块级元素，而居中方式又要考虑水平和垂直两个方向。</p>\n<hr>\n<h2 id=\"内联元素居中\"><a href=\"#内联元素居中\" class=\"headerlink\" title=\"内联元素居中\"></a>内联元素居中</h2><h3 id=\"水平居中\"><a href=\"#水平居中\" class=\"headerlink\" title=\"水平居中\"></a>水平居中</h3><hr>\n<h4 id=\"使用”text-align-center”\"><a href=\"#使用”text-align-center”\" class=\"headerlink\" title=\"使用”text-align:center”\"></a>使用”text-align:center”</h4><p>根据以下W3C的官方文档：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/w3c-css-text-align.png\" alt=\"\"></p>\n<p>属性“text-align”用于描述块级元素中的行内内容如何布局。我们知道，块级元素的显示占据一整行，而行内元素可以在一行内并列显示，常用的行内元素有<code>&lt;img&gt;</code>、<code>&lt;input&gt;</code>、<code>&lt;label&gt;</code>等。默认地，块级元素中的行内元素是左对齐显示的，比如：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>CSS行内元素居中测试<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-1.png\" alt=\"\"></p>\n<p>　　这种情况下我们想对行内元素<span>标签中的内容进行居中显示，则可以使用“text-align: center”。要注意的是，这个属性是用来决定行内元素的位置的，没错，但是该属性并不是写在行内元素上，而是要写在行内元素的父级元素，即块级元素这个“container”上，以此来决定内部文本的对齐方式。代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-id\">#block-center</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block-center\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>CSS行内元素居中测试<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></span></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-2.png\" alt=\"\"></p>\n<h4 id=\"使用CSS3的flexbox”justify-content-center”\"><a href=\"#使用CSS3的flexbox”justify-content-center”\" class=\"headerlink\" title=\"使用CSS3的flexbox”justify-content:center”\"></a>使用CSS3的flexbox”justify-content:center”</h4><p>　　关于CSS3弹性盒模型flexbox这里不过多介绍，可以参考另外一篇-<a href=\"http://gcidea.info/2016/07/14/css3-flexbox/\" target=\"_blank\" rel=\"external\">CSS3的弹性盒模型FlexBox</a>。<br>　　和<code>text-align</code>一样的是，justify-content也适用于父类容器上，用于设置或检索弹性盒子元素在主轴（横轴）方向上的对齐方式。当属性值为“center”时，弹性盒子元素将向行中间位置对齐。该行的子元素将相互对齐并在行中居中对齐，同时第一个元素与行的主起始位置的边距等同于最后一个元素与行的主结束位置的边距（如果剩余空间是负数，则保持两端相等长度的溢出）。<br>代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-id\">#block-center</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: flex; <span class=\"comment\">/*注意此处要指明flex布局*/</span></span><br><span class=\"line\">            <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block-center\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>CSS行内元素居中测试(此处使用justify-content)<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-3.png\" alt=\"\"></p>\n<h4 id=\"使用”display-table-cell”\"><a href=\"#使用”display-table-cell”\" class=\"headerlink\" title=\"使用”display: table-cell”\"></a>使用”display: table-cell”</h4><p>　　<code>display: table</code>的CSS声明能够让一个HTML元素和它的子节点像table元素一样。使用基于表格的CSS布局，使我们能够轻松定义一个单元格的边界、背景等样式，而不会产生因为使用了table标签所导致的语义化问题。代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: table;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid black;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block-center</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: table-cell;</span><br><span class=\"line\">            <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid orangered;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#inline-1</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block-center\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"2.jpg\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"inline-1\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-3-0.png\" alt=\"\"></p>\n<hr>\n<h3 id=\"垂直居中\"><a href=\"#垂直居中\" class=\"headerlink\" title=\"垂直居中\"></a>垂直居中</h3><hr>\n<h4 id=\"默认情况\"><a href=\"#默认情况\" class=\"headerlink\" title=\"默认情况\"></a>默认情况</h4><p>　　对于上述已经水平居中的文本来说，相对于父级元素的垂直居中是默认的，不需要特殊声明，比如下面两张图，修改文本字号，它们始终处于父级div的垂直方向的中间（为了看得清楚，给父级元素加上了边框）。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-4.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-5.png\" alt=\"\"></p>\n<h4 id=\"行内元素互相之间的垂直居中\"><a href=\"#行内元素互相之间的垂直居中\" class=\"headerlink\" title=\"行内元素互相之间的垂直居中\"></a>行内元素互相之间的垂直居中</h4><p>　　如果一个父级元素中有多个行内元素，那么默认它们是在父元素的基线上进行对齐排列，也就是<code>vertical-align: baseline;</code>，以行内元素-图片为例，代码为：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-id\">#block-center</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid orangered;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#inline-1</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#inline-2</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block-center\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"2.jpg\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"inline-1\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"3.jpg\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"inline-2\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-6.png\" alt=\"\"></p>\n<p>　　此时如果不想让这些行内元素“底部对齐”呢，而是想让它们互相居中对齐，也就是图片的中线在同一条水平线上呢？那就要对行内元素本身使用<code>vertical-align: middle;</code>，代码为：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-id\">#block-center</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid orangered;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#inline-1</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">40px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#inline-2</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block-center\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"2.jpg\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"inline-1\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"3.jpg\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"inline-2\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-7.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"块级元素居中\"><a href=\"#块级元素居中\" class=\"headerlink\" title=\"块级元素居中\"></a>块级元素居中</h2><h3 id=\"水平居中-1\"><a href=\"#水平居中-1\" class=\"headerlink\" title=\"水平居中\"></a>水平居中</h3><hr>\n<h4 id=\"使用”margin-0-auto”\"><a href=\"#使用”margin-0-auto”\" class=\"headerlink\" title=\"使用”margin: 0 auto”\"></a>使用”margin: 0 auto”</h4><p>　　我们以最常见的块级元素-div为例，看一下居中的过程。首先创建一个div，代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-8.png\" alt=\"\"></p>\n<p>　　对块级元素本身添加<code>margin: 0 auto</code>可使其水平居中，即左右的外边距margin是auto的，会根据实际屏幕大小进行自动适配。修改上述style部分：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">    <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-9.png\" alt=\"\"></p>\n<h4 id=\"使用CSS3的flexbox”justify-content-center”-1\"><a href=\"#使用CSS3的flexbox”justify-content-center”-1\" class=\"headerlink\" title=\"使用CSS3的flexbox”justify-content:center”\"></a>使用CSS3的flexbox”justify-content:center”</h4><p>　　<code>justify-content:center</code>不仅可以用来处理行内元素，也可以处理块级元素，为达到与上述方法相同的效果，代码为：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">            <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block-core</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block-core\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果图与上面的相同。</p>\n<h4 id=\"使用浮动配合相对定位\"><a href=\"#使用浮动配合相对定位\" class=\"headerlink\" title=\"使用浮动配合相对定位\"></a>使用浮动配合相对定位</h4><p>为了描述这种方法，我们通过下面的过程逐步深入分析：<br>1.考虑最简单的场景：父级div包含了子级div，代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#wrapper</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">border</span>: <span class=\"number\">2px</span> solid black;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"wrapper\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>易于理解，效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-12.png\" alt=\"\"></p>\n<p>2.上图黑色边框div是一个包裹元素，我们现在把它水平移动50%，也就是设置left属性。我们知道其默认的position属性为“static”，这种情况下left属性不起作用，因此将position改为relative，代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#wrapper</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">            <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">border</span>: <span class=\"number\">2px</span> solid black;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"wrapper\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-13.png\" alt=\"\"></p>\n<p>我们发现，此时<code>&lt;div id=&quot;wrapper&quot;&gt;</code>的左边界位于正中间，左右都是610px，也就是说，这个”left: 50%”是相对于wrapper的父级元素即body进行确定的，而body的宽度就是浏览器窗口宽度。同时发现，窗口出现了水平方向滚动条，这是由于wrapper向右进行偏移，但本身宽度又没变导致的水平方向溢出。溢出了多少呢？通过下面的操作容易看出溢出正好是浏览器宽度的一半，也就是wrapper向右偏移的距离：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-14.gif\" alt=\"\"></p>\n<p>3.为了防止出现滚动条，我们可以将wrapper这个div向左浮动，即加上一句“float: left;”，效果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-15.png\" alt=\"\"></p>\n<p>4.现在，想让橙色方块水平居中，只要加50%的left就好了，代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#wrapper</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">            <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">            <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">border</span>: <span class=\"number\">2px</span> solid black;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">            <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">            <span class=\"attribute\">left</span>: -<span class=\"number\">50%</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"wrapper\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-16.png\" alt=\"\"></p>\n<h4 id=\"使用”display-table-cell”-1\"><a href=\"#使用”display-table-cell”-1\" class=\"headerlink\" title=\"使用”display:table-cell”\"></a>使用”display:table-cell”</h4><p>　　这种方法我们将在下文中块级元素垂直居中统一介绍-使用”display:table-cell”同时达到水平和垂直居中的效果。</p>\n<hr>\n<h3 id=\"垂直居中-1\"><a href=\"#垂直居中-1\" class=\"headerlink\" title=\"垂直居中\"></a>垂直居中</h3><hr>\n<h4 id=\"使用“top”属性和“margin-top”属性的结合\"><a href=\"#使用“top”属性和“margin-top”属性的结合\" class=\"headerlink\" title=\"使用“top”属性和“margin-top”属性的结合\"></a>使用“top”属性和“margin-top”属性的结合</h4><p>分析：<br>a. 由水平居中部分的分析我们可以知道，当元素水平居中后，在垂直方向还是“密铺”的，也就是从上到下排列，不会向下移动之类的。那么为了把元素“向下拽”，就考虑设置该元素的top属性为某个值，从而相对于父级元素在顶端有一定的空白，经过合理调整后可位于正中间。<br>b. 首先，我们要知道，css中position属性的默认值是static；其次，要知道top属性对于position值为“static”的元素不会产生任何效果。因此，想修改一个元素的top值，必须将元素的position修改为<em>不是</em>static的，这里我们改为“position: relative”。<br>c. 将top属性设置为一个百分比，这个百分比是相对于谁来说的呢？—是逐级向上寻找的，直到找到一个可以确定高度的父级元素，按照这个父级元素的高度结合百分比来设置top的具体值。这里橙色div的父级元素是<code>&lt;body&gt;</code>，再向上的父级元素是<code>&lt;html&gt;</code>。而浏览器在默认状态下，是没有给html和body一个高度的，为了使之成为刚才所说的“可以确定高度的父级元素”，将<code>&lt;body&gt;</code>和<code>&lt;html&gt;</code>的高度均设置为100%。<br>d. 既然是居中，也就是一半，我们考虑先将元素的top属性设置为50%，看看效果，代码为：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">            <span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-100.png\" alt=\"\"></p>\n<p>e.从上图可以看出，橙色正方形的定边到浏览器窗口上方和下方的距离是一样的，都是298px，也就是说top: 50%;不是将元素居中，而是整体下移了父级元素高度的一半，这也是很好理解的。但是我们已经有了一个基础，在此基础上，通过再设置元素的margin-top,可以进行修正，margin-top是指元素的顶外边距，正值表明元素会继续下移，那么取负值即可向上，橙色正方形的高度为100px，那么margin-top取为-50px，css代码修改如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">    <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">        <span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">margin-top</span>: -<span class=\"number\">50px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-11.png\" alt=\"\"></p>\n<p>我们能够看出现在已经完全居中了。</p>\n<h4 id=\"使用CSS3“translateY”属性\"><a href=\"#使用CSS3“translateY”属性\" class=\"headerlink\" title=\"使用CSS3“translateY”属性\"></a>使用CSS3“translateY”属性</h4><p>　　在上面方法的基础上，将下移50%的元素向上修正时，可以采取更简单的办法：translateY(-50%)。translateY()方法通过给定一个值，将元素沿Y轴进行移动，并且，给定的是是相对于元素自身的，因此50%就表示元素自身Y方向长度的一半。负号表示沿Y轴反方向移动（Y轴正向向下）。这种方法还有一个明显的好处，就是和margin-top相比，给定的是一个比例，而不像margin-top这样写死，这样后面的可维护性也会好一些。CSS代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">    <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">        <span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateY</span>(-50%);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"使用CSS3的flexbox”align-items-center”\"><a href=\"#使用CSS3的flexbox”align-items-center”\" class=\"headerlink\" title=\"使用CSS3的flexbox”align-items: center”\"></a>使用CSS3的flexbox”align-items: center”</h4><p>　　弹性盒模型在处理居中问题上真是简单明了。上面说了两种使用flexbox进行水平居中的方法，垂直居中一样可以使用flexbox搞定，align-items 属性定义flex子项在flex容器的纵轴方向上的对齐方式;justify-content属性定义flex子项在flex容器的横轴方向上的对齐方式。代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">            <span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">            <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"使用”display-table-cell”-2\"><a href=\"#使用”display-table-cell”-2\" class=\"headerlink\" title=\"使用”display:table-cell”\"></a>使用”display:table-cell”</h4><p>　　我们曾在内联元素的水平居中使用过这种办法，它也可以用于块级元素的水平和垂直居中。核心是使用”text-align: center; vertical-align: middle;”这两个属性。另外特别要注意的是，为了让这两个属性对于想要居中显示的块级元素生效，必须指定该块级元素为”display: inline-block;”。”display:inline-block”将对象呈递为内联对象，但是对象的内容作为块对象呈递。换句话说就是与”display: block”相比，它可以让设置了同类display属性的元素显示在同一行；与”display: inline”相比，可以对设置了该属性的元素设置高度。代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#parent</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: table;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#wrapper</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: table-cell;</span><br><span class=\"line\">            <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">            <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"wrapper\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span>display: table-cell实现块级元素水平和垂直居中<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-17.png\" alt=\"\"></p>\n<h4 id=\"使用CSS-before-选择器\"><a href=\"#使用CSS-before-选择器\" class=\"headerlink\" title=\"使用CSS :before 选择器\"></a>使用CSS :before 选择器</h4><p>　　关于:before 选择器本身这里不做介绍，使用:before，在想要居中显示的元素前面追加了一个内联元素来占据相应的位置，从而达到垂直居中的效果，代码如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\">        <span class=\"selector-tag\">html</span>,<span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-tag\">body</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">content</span>:<span class=\"string\">''</span>;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>:inline-block;</span><br><span class=\"line\">            <span class=\"attribute\">vertical-align</span>:middle;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>:<span class=\"number\">50%</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"selector-id\">#block</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">            <span class=\"attribute\">background-color</span>: orangered;</span><br><span class=\"line\">            <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">            <span class=\"attribute\">top</span>: -<span class=\"number\">50px</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"block\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-center-18.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"Bootstrap中关于居中的处理\"><a href=\"#Bootstrap中关于居中的处理\" class=\"headerlink\" title=\"Bootstrap中关于居中的处理\"></a>Bootstrap中关于居中的处理</h2><p>　　Bootstrap中关于排版的居中提供了两个class：</p>\n<ol>\n<li><p>class=”text-center”<br>源码为：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.text-center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>class=”center-block”<br>源码为：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.center-block</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">  <span class=\"attribute\">margin-right</span>: auto;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: auto;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>这两个类中使用到的方法在上文中都有提及。结合Bootstrap提供的其他强大的样式，容易实现各类排版。</p>\n<hr>\n<h2 id=\"小结\"><a href=\"#小结\" class=\"headerlink\" title=\"小结\"></a>小结</h2><p>　　本文总结了很多使用CSS对元素进行居中的办法，CSS是十分灵活且强大的，一定还有其他更好的办法。以上所列举的方法在正常开发中应该是够用了，并且通过实现居中理解了很多相关原理，这对于排错过程中快速定位问题很重要。</p>\n"},{"title":"CSS布局问题总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/06/01/css-layout-sum-up/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　本篇集中对常见CSS布局进行总结。</p>\n<hr>\n<h2 id=\"布局分类\"><a href=\"#布局分类\" class=\"headerlink\" title=\"布局分类\"></a>布局分类</h2><p>　　CSS布局可以分为固定宽度布局，流式布局，弹性布局3类。为讨论这三种布局，先创建以下简单的HTML结构：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>code style<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"style.css\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"wrapper\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"primary\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"sec_1\"</span>&gt;</span></span><br><span class=\"line\">                主div---第一列</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"sec_2\"</span>&gt;</span></span><br><span class=\"line\">                主div---第二列</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"secondary\"</span>&gt;</span></span><br><span class=\"line\">                次div</span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>固定宽度布局<br>　　元素宽度以具体像素值为单位的布局类型就是固定宽度布局。固定宽度布局中，可以清楚地知道每个元素的具体宽度，从而精确排版布局。但是，在响应式设计为王的今天，这种设计就显得捉襟见肘，无法适配各种类型的屏幕。导致行长不合适，文本易读性查，排版仅能在某些指定浏览器中正常显示等等问题。</li>\n<li>流式布局<br>　　在流式布局中，尺寸是用百分数而非像素值设定的。这使得元素能够相对于浏览器窗口进行伸缩。但是要注意，当浏览器窗口宽度很小时，行变得很窄，流式布局也会产生难以阅读的问题。因此，有必要添加以像素或者em为单位的min-width，防止布局变得过窄，但也要注意如果min-width设置的过大的话也会出现固定宽度布局中出现的问题。<br>　　同理，当浏览器宽度变得过宽时，流式布局会出现文本显示在一行，行长过长，不易阅读的问题。此时可以考虑不要让元素横跨整个浏览器窗口，而是只占比如80%的比例，或者为父级容器设置最大宽度。或者该元素添加以百分比为单位的内边距或者外边距。这样当浏览器窗口增加时，元素的内外边距也会按照百分比增加，这样元素的内容宽度就不会增加的过快。比如：<br>　　设计时按照元素宽度960px进行，假设大部分使用者的屏幕宽度为1250px,那么最外层父级元素的宽度可以设置为(960/1250)&times;100% = 76.8%。再比如，一个父级元素宽度920px，如果要在这个父级元素内部分为主次两列布局，主div宽度670px,次div宽度230px（每个元素留白20Px）,那么可以计算出主div设置宽度为(670/920)&times;100% = 72.82%，次div宽度为(230/920)&times;100% = 25%。<br>　　再接着考虑主div（宽度670px），假如我们要在里面设置两列布局，第一列宽度400px,第二列宽度230px（每个元素留白20Px），那么主div则设置为(400/670)*100% = 59.7%,次div则设置为(230/670)&times;100% = 34.33%。<br>　　最后，我们再考虑加上一个min-width来应对窗口过小的情况。<code>min-width = 62em;</code><br>上述过程的css代码为：<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.wrapper</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">76.8%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: papayawhip;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">min-width</span>: <span class=\"number\">62em</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.primary</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">72.82%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: deepskyblue;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">40%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>:auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.secondary</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">25%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: lightseagreen;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">40%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.sec_1</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">59.7%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: ghostwhite;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">30%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.sec_2</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">34.33%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">    <span class=\"attribute\">padding-right</span>: <span class=\"number\">2.63%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: ghostwhite;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">30%</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>简单效果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-fluid-eq.png\" alt=\"\"></p>\n<ul>\n<li>弹性布局<br>　　流式布局可以充分利用空间，但是在大屏幕上行长还是过长，相反，在窄窗口中行又会变得非常短。对于此问题，弹性布局可能是更好的解决方案。<br>　　弹性布局是相对于字号（而不是浏览器宽度）来设置元素宽度的。以em为单位设置宽度（关于em等单位的分析可以参考这篇文章<a href=\"http://gcidea.info/2016/06/07/conventional-unit/\" target=\"_blank\" rel=\"external\">CSS相关单位(pt,px,PPI,DPI,em,rem)</a>）。这样可以确保在字号增加时整个布局随之扩大。<br>　　根据默认情况下em和px的关系，1em = 16px,为了便于计算，将body的font-size设置为62.5%，从而有1em = 10px，在此基础上，对流式布局中的css代码做如下修改：<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">62.5%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.wrapper</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">92em</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: papayawhip;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.primary</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">72.82%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: deepskyblue;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">40%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>:auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.secondary</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">25%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: lightseagreen;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">40%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.sec_1</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">59.7%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: ghostwhite;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">30%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.sec_2</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">34.33%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">    <span class=\"attribute\">padding-right</span>: <span class=\"number\">2.63%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid lightgray;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: ghostwhite;</span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">30%</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>这样就创建了一个弹性布局，但是要注意，弹性布局也会有一些问题，当字号增大整个布局增大时，有可能会比浏览器窗口宽导致出现水平滚动条（这个问题和固定布局类似）。如下所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-tanxing-gundongtiao.png\" alt=\"\"></p>\n<p>为了防止这个问题，可以在外层包裹容器(.wrapper)上添加<code>max-width:100%</code>的限制。<br>这样就可以获得一个能较好适应各种尺寸的布局：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-fluid-1.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/css-fluid-2.png\" alt=\"\"></p>\n<h2 id=\"两列右侧自适应布局\"><a href=\"#两列右侧自适应布局\" class=\"headerlink\" title=\"两列右侧自适应布局\"></a>两列右侧自适应布局</h2><hr>\n<h2 id=\"两列左侧自适应布局\"><a href=\"#两列左侧自适应布局\" class=\"headerlink\" title=\"两列左侧自适应布局\"></a>两列左侧自适应布局</h2><hr>\n<h2 id=\"两列定宽布局\"><a href=\"#两列定宽布局\" class=\"headerlink\" title=\"两列定宽布局\"></a>两列定宽布局</h2><hr>\n<h2 id=\"三列中间自适应布局\"><a href=\"#三列中间自适应布局\" class=\"headerlink\" title=\"三列中间自适应布局\"></a>三列中间自适应布局</h2><hr>\n<h2 id=\"三列左侧自适应布局\"><a href=\"#三列左侧自适应布局\" class=\"headerlink\" title=\"三列左侧自适应布局\"></a>三列左侧自适应布局</h2><hr>\n<h2 id=\"三列右侧自适应布局\"><a href=\"#三列右侧自适应布局\" class=\"headerlink\" title=\"三列右侧自适应布局\"></a>三列右侧自适应布局</h2><hr>\n<h2 id=\"多列等分布局\"><a href=\"#多列等分布局\" class=\"headerlink\" title=\"多列等分布局\"></a>多列等分布局</h2><hr>\n<h2 id=\"九宫格布局\"><a href=\"#九宫格布局\" class=\"headerlink\" title=\"九宫格布局\"></a>九宫格布局</h2><hr>\n<h2 id=\"上中下三栏自适应高度全屏布局\"><a href=\"#上中下三栏自适应高度全屏布局\" class=\"headerlink\" title=\"上中下三栏自适应高度全屏布局\"></a>上中下三栏自适应高度全屏布局</h2><hr>\n<h2 id=\"瀑布流布局\"><a href=\"#瀑布流布局\" class=\"headerlink\" title=\"瀑布流布局\"></a>瀑布流布局</h2><hr>\n<h2 id=\"圣杯布局\"><a href=\"#圣杯布局\" class=\"headerlink\" title=\"圣杯布局\"></a>圣杯布局</h2><hr>\n<h2 id=\"双飞翼布局\"><a href=\"#双飞翼布局\" class=\"headerlink\" title=\"双飞翼布局\"></a>双飞翼布局</h2><hr>\n<h2 id=\"响应式布局\"><a href=\"#响应式布局\" class=\"headerlink\" title=\"响应式布局\"></a>响应式布局</h2>"},{"title":"【转】HTTPS与SSL(下篇)","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/31/https-ssl-2/","content":"<p>原文链接：<a href=\"http://www.jianshu.com/p/c03f47e7b9de#\" target=\"_blank\" rel=\"external\">http://www.jianshu.com/p/c03f47e7b9de#</a><br>感谢原作者！(学长这个系列的文章已被“开发者头条APP”收录为头条文章)<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/https-ssl-2.jpg\" alt=\"\"></p>\n"},{"title":"【转】HTTPS与SSL(上篇)","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/31/https-ssl-1/","content":"<p>原文链接：<a href=\"http://www.jianshu.com/p/eafa5f19cb0b#\" target=\"_blank\" rel=\"external\">http://www.jianshu.com/p/eafa5f19cb0b#</a><br>感谢原作者！(学长这个系列的文章已被“开发者头条APP”收录为头条文章)<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/https-ssl-1.jpg\" alt=\"\"></p>\n"},{"title":"Session相关总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/30/session/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　本篇简单总结session的概念，作用，应用，实现案例等要点，关于大段的介绍，就不再重复了，网上有很多可以参考。而且session相关是一个很大的话题，这里只是简单小结，主要包括以下几个大的方面：<br>　　1.直观感受<br>　　2.session相关介绍<br>　　3.session安全性问题<br>　　4.session的不同实现方式<br>　　5.cookie与session的对比分析<br>　　6.session在PHP开发中的使用<br>　　7.session在Java Web开发中的使用</p>\n<hr>\n<h2 id=\"直观感受\"><a href=\"#直观感受\" class=\"headerlink\" title=\"直观感受\"></a>直观感受</h2><p>使用session进行状态保持的常用方法是服务端生成session对象的同时，在http响应报文首部通过set-cookie字段设置一个比如叫“PHPSESSID”的cookie以此进行唯一标识(但注意这不是唯一方法)，如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/response-phpsessid.png\" alt=\"\"></p>\n<p>当用户再次发起请求时，http请求报文首部携带这个cookie，用于服务端验证，如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/request-phpsessid.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"session相关介绍\"><a href=\"#session相关介绍\" class=\"headerlink\" title=\"session相关介绍\"></a>session相关介绍</h2><h3 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h3><blockquote>\n<p>Session 允许通过将对象存储在 Web服务器的内存中在整个用户会话过程中保持任何对象。即“会话控制”。Session 对象存储特定用户会话所需的属性及配置信息。这样，当用户在应用程序的 Web 页之间跳转时，存储在 Session 对象中的变量将不会丢失，而是在整个用户会话中一直存在下去。当用户请求发起时，如果该用户还没有会话，则Web服务器将自动创建一个Session对象。当会话过期或被放弃后，服务器将终止该会话。Session对象最常见的一个用法就是存储用户的首选项。注意，会话状态仅在支持cookie的浏览器中保留。（这个的原因在“cookie相关总结”一文中cookie与session的对比分析中已经提到。）</p>\n</blockquote>\n<p>　　需要明确的是，与cookie相比，Session是用于保持状态的<font color=\"red\">基于服务端</font>的解决方案。Session的工作机制是：为每个访客创建一个唯一的id(UID，名称中一般有类似“SESSID”字样)，并基于这个UID来存储变量。UID或者存储在cookie中(在cookie的协助下共同完成会话状态保持)，或者通过URL进行传递(URL重写)。也就是说，session方案实现不是一定需要有cookie的协助，反之亦然，两者是独立的。这样，服务器端在接到请求时候，就会收session ID，并根据ID在内存中找到之前创建的session对象，提供给请求使用。</p>\n<h3 id=\"要求\"><a href=\"#要求\" class=\"headerlink\" title=\"要求\"></a>要求</h3><p>　　session通常用于保存客户端的状态信息，这些信息需要保存在服务器的硬盘上，所以要求session的属性值必须是可序列化的，否则将会引发不可序列化的异常。</p>\n<h3 id=\"session的生成时间\"><a href=\"#session的生成时间\" class=\"headerlink\" title=\"session的生成时间\"></a>session的生成时间</h3><blockquote>\n<p>典型的错误认识：session在客户端访问时就会被创建。</p>\n</blockquote>\n<p>　　事实上是直到某服务端程序显式调用session相关操作时才会被创建，比如在Java中调用<code>HttpServletRequest.getSession(true);</code>，或者使用ThinkPHP框架调用封装好的函数<code>session(array(&#39;name&#39;=&gt;&#39;session_id&#39;,&#39;expire&#39;=&gt;3600));</code>，再或者原生PHP中调用<code>session_start();</code>的时候。并且，访问静态资源时是不会创建session的。</p>\n<h3 id=\"session的存储方式\"><a href=\"#session的存储方式\" class=\"headerlink\" title=\"session的存储方式\"></a>session的存储方式</h3><p>　　以PHP为例，session的存储方式主要有3中：文件存储、内存存储、自定义存储。默认是使用文件存储。具体配置方式如下：<br>在<code>D:\\code\\WampServer\\wamp64\\bin\\apache\\apache2.4.17\\bin</code>目录下有php.ini文件，打开该文件，可找到如下片段：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/php.ini-session.png\" alt=\"\"></p>\n<p><code>session.save_handler = files</code>表明使用文件存储方式;<br><code>session.save_path =&quot;D:/code/WampServer/wamp64/tmp&quot;</code>则表明session文件的存储路径</p>\n<p>主要就是需要配置这两个变量，这里都是默认配置。</p>\n<p>于是，访问网站登陆后生成了自己的session，在此目录下，我们就可以看到一系列前缀为”sess_”的文件，这就是不同的session创建的对应文件：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/session-file.png\" alt=\"\"></p>\n<blockquote>\n<p>说明：<br>关于这个php.ini文件，目前还有一些不太理解的地方：<br>在Apache的bin目录下<code>D:\\code\\WampServer\\wamp64\\bin\\apache\\apache2.4.17\\bin</code><br>有php.ini文件，而在PHP自身的目录下<code>D:\\code\\WampServer\\wamp64\\bin\\php\\php5.6.16</code><br>也有这个php.ini文件（以及php.ini-production php.ini-development文件）</p>\n<p><font color=\"red\">那么如果要配置一些东西，到底是在哪个文件中配置生效呢？</font><br>虽然结论是可知的，通过phpinfo可以看到如下信息：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/phpinfo-config-ini.png\" alt=\"\"><br>说明是Apache的bin目录下<code>D:\\code\\WampServer\\wamp64\\bin\\apache\\apache2.4.17\\bin</code>这个文件生效，但是这个Loaded Configuration File是从哪里配置的呢？还没有搞清楚。。。只是从php.ini文件的官方注释中获取了如下一些信息–关于PHP加载时寻找该文件的优先级排序：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">;;;;;;;;;;;;;;;;;;;</span><br><span class=\"line\">; About php.ini   ;</span><br><span class=\"line\">;;;;;;;;;;;;;;;;;;;</span><br><span class=\"line\">; PHP&apos;s initialization file, generally called php.ini, is responsible for</span><br><span class=\"line\">; configuring many of the aspects of PHP&apos;s behavior.</span><br><span class=\"line\"></span><br><span class=\"line\">; PHP attempts to find and load this configuration from a number of locations.</span><br><span class=\"line\">; The following is a summary of its search order:</span><br><span class=\"line\">; 1. SAPI module specific location.</span><br><span class=\"line\">; 2. The PHPRC environment variable. (As of PHP 5.2.0)</span><br><span class=\"line\">; 3. A number of predefined registry keys on Windows (As of PHP 5.2.0)</span><br><span class=\"line\">; 4. Current working directory (except CLI)</span><br><span class=\"line\">; 5. The web server&apos;s directory (for SAPI modules), or directory of PHP</span><br><span class=\"line\">; (otherwise in Windows)</span><br><span class=\"line\">; 6. The directory from the --with-config-file-path compile time option, or the</span><br><span class=\"line\">; Windows directory (C:\\windows or C:\\winnt)</span><br><span class=\"line\">; See the PHP docs for more specific information.</span><br><span class=\"line\">; http://php.net/configuration.file</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>普遍的说法是在Apache下conf目录下的httpd.conf文件中配置PHPIniDir，但我看了这个文件里面根本没有PHPIniDir。。。</p>\n<p>另外，如果是搭建LAMP环境，使用了源码编译安装PHP的方式的话，可以用以下参数指定php.ini文件的位置，也就没有这个歧义了：<br><code>--with-config-file-path=/usr/local/php/etc</code><br>即使用类似如下命令：<br><code># ./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc</code></p>\n<h3 id=\"session的销毁时间\"><a href=\"#session的销毁时间\" class=\"headerlink\" title=\"session的销毁时间\"></a>session的销毁时间</h3><blockquote>\n<p>典型的错误认识：只要关闭浏览器，session就消失了。</p>\n</blockquote>\n<p>　　其实不然，除非程序主动通知服务器删除一个session，否则服务器会一直保留，程序一般都是在用户做“退出当前账户”的时候发出指令去删除session。然而浏览器从来不会主动在关闭之前通知服务器它将要关闭，因此服务器根本不会有机会知道浏览器已经关闭，之所以会有这种错觉，是大部分session机制都使用会话cookie来保存SESSID，而这种cookie是非持久的，保存在内存中，关闭浏览器后这个SESSID就消失了，再次连接服务器时也就无法找到原来的session。如果服务器设置的cookie被保存到硬盘上，或者使用某种手段改写浏览器发出的HTTP请求头，把原来的SESSID发送给服务器，则再次打开浏览器仍然能够找到原来的session。恰恰是由于关闭浏览器不会导致session被删除，使得服务器为seesion设置了一个失效时间，当距离客户端上一次使用session的时间超过这个失效时间时，服务器就可以认为客户端已经停止了活动，才会把session删除以节省存储空间。</p>\n<p>　　具体的session删除更新机制还有些复杂，不像上面说的时间一过就删除这么简单。关于session的销毁，还有一些问题—session销毁的“可能性”及垃圾回收：</p>\n<p>　　在上文提到的<code>D:\\code\\WampServer\\wamp64\\bin\\apache\\apache2.4.17\\bin</code>目录下的php.ini文件中，有这样两个配置项：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/session-gc.png\" alt=\"\"></p>\n<p>  大致的机制是这样的：<br>由上述内容已经知道，session是有过期时间的，过期后将会被删除。但对于大型网站来讲，访问用户量巨大，为每个用户创建session是肯定的，但在如果过期时间一到，就删除那些过期session，从概率分布角度来说，服务端一定是经常要删除新一批到期的session。这无疑大大增加了系统的IO开销。因此，过期session是以一定概率进行垃圾回收的,这一定程度上保证了系统性能。具体来说，这个概率定义了每次新session初始化时启动垃圾回收进程的可能性。计算公式就是由上图中两个量相除得到：<br><code>GC启动可能性 = gc_probability/gc_divisor</code><br>比如说，gc_probability = 1，gc_divisor = 100，那么每次进行有访问请求后时，就有1%的可能性启动GC进程。而这个进程一旦启动，就会扫描指定的session临时文件夹，将过期的session文件删除。</p>\n<p>　　但是，这里还是有一些问题，做如下操作：<br>1.清空tmp文件夹，清空网站cookie，准备干净的环境进行对比。<br>2.同时打开两个浏览器，模拟不同客户端的登录行为（这里不用一个浏览器的不同窗口，因为对不同的浏览器，不同窗口是否共用session好像没有统一的结论）<br>3.写一个最简单的页面，比如就输出“123”，我们就是为了研究session现象，排除干扰。（对应MVC中的V）<br>4.该页面对应的C也就是controller,只做两件事：启动session，渲染页面（关闭框架配置中的session自启动等，只用原生代码手动开启session）<br>5.修改配置文件：设置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gc_probability = 1;</span><br><span class=\"line\">gc_divisor = 1;</span><br></pre></td></tr></table></figure>\n<p>让两者相等，使得GC启动可能性为1，确保一定会对过期session做操作，以此来研究session的变化。</p>\n<p>6.在后台代码配置文件中声明：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//session配置</span><br><span class=\"line\">&apos;SESSION_OPTIONS&apos;  =&gt; array(</span><br><span class=\"line\">    &apos;expire&apos; =&gt; 10,</span><br><span class=\"line\">),</span><br></pre></td></tr></table></figure>\n<p>设置session过期时间为10秒，即通过ThinkPHP框架配置文件的方式覆盖php.ini文件中的<code>session.gc_maxlifetime = 1440</code>(也可以直接在php.ini文件中修改)</p>\n<font color=\"red\"><strong>探究—PHP中session的垃圾回收（GC）机制</strong></font>\n\n\n\n\n<h3 id=\"session的生存周期\"><a href=\"#session的生存周期\" class=\"headerlink\" title=\"session的生存周期\"></a>session的生存周期</h3><p>  以上描述的session创建，存储，修改，销毁以及其中各种细节，就是session完整的生命周期了。</p>\n<hr>\n<h2 id=\"session安全性问题\"><a href=\"#session安全性问题\" class=\"headerlink\" title=\"session安全性问题\"></a>session安全性问题</h2><hr>\n<h2 id=\"cookie与session的对比分析\"><a href=\"#cookie与session的对比分析\" class=\"headerlink\" title=\"cookie与session的对比分析\"></a>cookie与session的对比分析</h2><p>　　这一部分在之前的文章<a href=\"http://gcidea.info/2016/05/08/cookie/\" target=\"_blank\" rel=\"external\">cookie相关总结</a>中已经提过。</p>\n<hr>\n<h2 id=\"session在PHP开发中的使用\"><a href=\"#session在PHP开发中的使用\" class=\"headerlink\" title=\"session在PHP开发中的使用\"></a>session在PHP开发中的使用</h2><p>　　实际开发中使用了ThinkPHP框架，框架提供了Session管理和操作的完善支持，全部操作可以通过一个内置的session函数完成，该函数可以完成Session的设置、获取、删除和管理操作。Session初始化设置方法无需手动调用，在Think\\App类的初始化工作结束后会自动调用，通常项目只需要配置SESSION_OPTIONS参数即可，SESSION_OPTIONS参数的设置是一个数组，支持的索引名和前面的session初始化参数相同。默认情况下，初始化之后系统会自动启动session，如果不希望系统自动启动session的话，可以设置SESSION_AUTO_START为false。<br>　　具体的：<br>1.在配置文件中写明：</p>\n<p>2.根据开发惯例结合ThinkPHP的写法，在MVC结构中，“C”即controller层应该有一个共用的基础controller即BaseController。考虑到用户会话保持是一个在访问整个网站中任意页面都需要的功能，因此session创建相关的内容非常合适（也只应该）放在BaseController中来完成。也就是说，BaseController应该具有全局（静态）方法is_login()用来判断用户是否登录，从而相应创建session，这样如果用户直接访问网站任意的子目录，由于继承了BaseController，都会做验证，保证了安全性。<br>　　但是，有一处比较特殊要注意，用户登录鉴权方法所在的controller（比如IndexController）是无法继承BaseController的</p>\n<p>  未完待续。。。</p>\n"},{"title":"Cookie相关总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/27/cookie/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　本篇简单总结cookie的概念，作用，应用，实现案例等要点，关于大段的介绍，就不再重复了，网上有很多可以参考。而且cookie相关是一个很大的话题，这里只是简单小结，主要包括：<br>　　1.cookie相关介绍<br>　　2.cookie安全性问题<br>　　3.javascript对cookie的操作与使用<br>　　4.cookie与session的对比分析<br>　　5.cookie在实际开发中的使用</p>\n<hr>\n<h2 id=\"直观感受\"><a href=\"#直观感受\" class=\"headerlink\" title=\"直观感受\"></a>直观感受</h2><p>　　cookie是一种存储在用户本地的数据。比如在windows系统中使用chrome浏览器访问网站，相应的数据将保存在如下目录：<br>  <code>C:\\Users\\gaochang\\AppData\\Local\\Google\\Chrome\\User Data\\Default</code><br>  如图所示：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/local-cookie-file.png\" alt=\"\"></p>\n<p>  我们可以用一些第三方工具查看这个文件内容，比如chrome浏览器的一款插件cookies：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/cookie-plugin.png\" alt=\"\"></p>\n<p>  我们也可以在具体访问某个网站时，点击URL左边的“纸张/锁”图标，显示当前网站的cookie信息：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/cookie-example.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"cookie相关介绍\"><a href=\"#cookie相关介绍\" class=\"headerlink\" title=\"cookie相关介绍\"></a>cookie相关介绍</h2><h3 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h3><p>　　Cookie是由服务器端生成的，当用户访问服务器后，发送给User-Agent（一般指浏览器），浏览器会将Cookie的key/value保存到某个目录下的文本文件内，下次请求同一网站时就发送该Cookie给服务器（前提是浏览器设置为启用cookie）。Cookie名称和值可以由服务器端在开发过程中自己定义，通过cookie服务器可以知道该用户是否是合法用户以及是否需要重新登录等，服务器可以设置或读取Cookies中包含信息，借此维护用户跟服务器会话中的状态。</p>\n<h3 id=\"标准\"><a href=\"#标准\" class=\"headerlink\" title=\"标准\"></a>标准</h3><p>　　cookie的规格标准文档主要有以下4种：<br>  1.由网景公司颁布的规格标准<br>  　　网景通信公司设计开发了cookie，并制定了相关的规格标准。1994年前后，cookie正式应用在网景浏览器中。目前最为普及的cookie方式也是以此为准的。<br>  2.RFC2109<br>  　　原本是想和网景公司的标准交互应用，可惜发生了微妙的差异。该标准现在已经淡出视线。<br>  3.RFC2965<br>  　　为终结IE浏览器与Netscape Navigator的标准差异而导致的浏览器战争，该标准定义了新的HTTP首部Set-Cookie2和Cookie2。可事实上，并未投入大量使用。<br>  4.RFC6265<br>  　　将网景公司制定的标准作为业界事实标准，重新定义cookie标准后的产物。</p>\n<p>　目前使用最广泛的cookie标准并不是上述中的某一个，而是在网景公司制定的标准上进行扩展后的产物。</p>\n<h3 id=\"编码\"><a href=\"#编码\" class=\"headerlink\" title=\"编码\"></a>编码</h3><p>　　Cookies的值中可以保存除了“;”以外的标点符号。但是不能保存汉字。否则会出现乱码。所以对于Cookies中的内容要进行统一的编码和解码。为了在浏览器端和服务器端都能够进行解码和编码，可统一使用UTF-8编码格式。<br>　　javacript提供了内置的编码和解码函数，用来将非英文的字符编码或者解码。编码函数为“escape”,使用语法如下<br><code>codedString=escape(originalString);</code><br>其作用为，将参数字符串“originalString”中的特殊字符(绝大多数的非英文字母、非数字的字符)替换为”%”加上该字符Unicode编码的两位十六进制字符，或者“%u”加上该字符unicode编码的4位十六进制字符(视该字符的编码而定);<br>　　函数“un escape”与“escape”相反，用于将“escape”编码后的字符串还原为原始的字符串，其语法如下：<br><code>originalString=unescape(codedString);</code></p>\n<h3 id=\"属性\"><a href=\"#属性\" class=\"headerlink\" title=\"属性\"></a>属性</h3><p>cookie主要的属性有：<br>　(1)<code>name</code>:Cookie名称，Cookie名称必须，一般用字母及数字，不能包含特殊字符，如有特殊字符需要转码。如js操作cookie的时候可以使用escape()对名称转码。</p>\n<p>　(2)<code>value</code>:Cookie值，Cookie值同理Cookie的名称，可以进行转码和加密。</p>\n<p>　(3)<code>expire</code>:过期日期，一个GMT格式的时间，当过了这个日期之后，浏览器就会将这个Cookie删除掉，当不设置这个的时候，Cookie在浏览器关闭(会话结束)后消失。</p>\n<p>　(4)<code>path</code>:一个路径，在这个路径下面的页面才可以访问该Cookie，一般设为“/”，以表示同一个站点的所有页面都可以访问这个Cookie。</p>\n<p>　(5)<code>domain</code>:子域，指定在该子域下才可以访问Cookie，例如要让Cookie在a.test.com下可以访问，但在b.test.com下不能访问，则可将domain设置成a.test.com。</p>\n<p>　(6)<code>secure</code>:安全性，指定Cookie是否只能通过https协议访问，一般的Cookie使用HTTP协议即可访问，如果设置了secure，则只有当使用https协议连接时cookie才可以被页面访问。</p>\n<p>　(7)<code>httpOnly</code>:如果在Cookie中设置了”HttpOnly”属性，那么通过程序(JS脚本、Applet等)将无法读取到Cookie信息。</p>\n<h3 id=\"分类\"><a href=\"#分类\" class=\"headerlink\" title=\"分类\"></a>分类</h3><p>cookie主要可以分为以下两类：</p>\n<blockquote>\n<p>Session cookies - these are temporary and are erased when you close your browser at the end of your surfing session. The next time you visit that particular site it will not recognise you and will treat you as a completely new visitor as there is nothing in your browser to let the site know that you have visited before.</p>\n</blockquote>\n<p>会话cookie—这类cookie是短暂性的，是位于客户端所在系统的内存中的，当你的会话结束，关闭浏览器时，这类cookie将会被清空。当你下一次再访问该网站时，服务端并不能识别出你而是将你当做一个全新的用户，因为你的浏览器中没有任何可以让服务端判断你之前访问过的信息。（在设置了Discard参数(该参数是指当客户端程序运行结束时丢弃这个cookie。是RFC2965中新增字段，允许浏览器在退出时，不考虑过期时间，将cookie强制销毁)，或者没有明确设置的expires或Max-Age的情况下，创建的是一个会话cookie。）主要作用：根据名字也容易看出，主要是为了配合服务端session机制对用户进行标识。</p>\n<blockquote>\n<p>Persistent cookies - these remain on your hard drive until you erase them or they expire. How long a cookie remains on your browser depends on how long the visited website has programmed the cookie to last.</p>\n</blockquote>\n<p>持久cookie—这类cookie将保存在客户端所在设备的硬盘上（具体位置见本文开头直观感受部分），除非你主动删除它们或者它们过期了。这类cookie能在你的浏览器中保持有效多长时间，取决于你所访问网站为之设定的有效期。主要作用：持久化cookie则主要是进行用户特征的追踪，比如记录用户最初访问时间，用户习惯等。</p>\n<h3 id=\"限制\"><a href=\"#限制\" class=\"headerlink\" title=\"限制\"></a>限制</h3><p>　　大多数浏览器支持最大为4096字节的 Cookie。浏览器还限制站点可以在用户计算机上存储的Cookie的数量。大多数浏览器只允许每个站点存储20个Cookie；注意这里的20个是指主键值，也就是20条Cookies记录，但是每个Cookies记录还可以包含若干子键。如果试图存储更多Cookie，则最旧的Cookie便会被丢弃。有些浏览器还会对它们将接受的来自所有站点的Cookie总数作出绝对限制，通常为300个。</p>\n<h3 id=\"传输\"><a href=\"#传输\" class=\"headerlink\" title=\"传输\"></a>传输</h3><p>　　cookie信息在浏览器（客户端）和服务器端的传递是通过http报文头部来实现的。<br>　　HTTP请求报文的首部字段有“请求首部字段”，“通用首部字段”，“实体首部字段”3种；HTTP响应报文的首部字段有“响应首部字段”，“通用首部字段”，“实体首部字段”3种。具体到这里：为cookie服务的首部字段有：</p>\n<table>\n<thead>\n<tr>\n<th>首部字段名</th>\n<th>说明</th>\n<th>首部类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Set-Cookie</td>\n<td>开始状态管理所使用的Cookie信息</td>\n<td>响应首部字段</td>\n</tr>\n<tr>\n<td>Cookie</td>\n<td>服务器接收到的Cookie信息</td>\n<td>请求首部字段</td>\n</tr>\n</tbody>\n</table>\n<p>下面具体来看一下两个字段：</p>\n<p><b>Set-Cookie</b><br>示例：响应报文中的一段<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/setcookie.png\" alt=\"\"></p>\n<p>Set-Cookie字段的属性有：</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明 </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NAME=VALUE</td>\n<td>赋予cookie的名称和值</td>\n</tr>\n<tr>\n<td>expires=DATE</td>\n<td>cookie的有效期（若不明确指定则默认为浏览器关闭时）</td>\n</tr>\n<tr>\n<td>path=PATH</td>\n<td>指明服务器上的哪些文件目录作为cookie的适用对象 </td>\n</tr>\n<tr>\n<td>domain=域名</td>\n<td>作为cookie适用对象的域名</td>\n</tr>\n<tr>\n<td>Secure</td>\n<td>仅在HTTPS安全通信时才会发送cookie，无具体值，直接指定“secure”即可</td>\n</tr>\n<tr>\n<td>HttpOnly</td>\n<td>加以限制，使cookie不能被js等脚本访问，无具体值，直接指定“HttpOnly”即可</td>\n</tr>\n</tbody>\n</table>\n<p><b>Cookie</b><br>示例：请求报文中的一段<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/cookie.png\" alt=\"\"></p>\n<p>首部字段Cookie会告知服务器，当客服端想获得HTTP状态管理支持时，就会在请求头包含从服务器接收到的cookie。</p>\n<h3 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h3><p>　　下面是《HTTP权威指南》中给出的一个关于“cookie与会话跟踪”的例子：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/cookie-session-1.png\" alt=\"\"><br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/cookie-session-2.png\" alt=\"\"><br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/cookie-session-3.png\" alt=\"\"></p>\n<h3 id=\"修改\"><a href=\"#修改\" class=\"headerlink\" title=\"修改\"></a>修改</h3><p>　　其实cookie是不存在真正意义上的修改、删除操作的。要想修改，只需要在服务端新建一个同名cookie，填入http响应报文覆盖原来的cookie即可；要想删除，则只要在服务端新建一个同名cookie，并且设置maxAge为0，填入http响应报文覆盖原来的cookie即可。</p>\n<h3 id=\"作用\"><a href=\"#作用\" class=\"headerlink\" title=\"作用\"></a>作用</h3><p>　　cookie的作用主要在于“绑定一种状态”，其工作机制是用户识别及状态管理。比如购物网站中，一定时间内可以直接登录，免去输入用户名密码的繁琐；可以根据浏览记录精准推荐感兴趣的商品；正确记录购物车中已有商品等等。</p>\n<h3 id=\"小结\"><a href=\"#小结\" class=\"headerlink\" title=\"小结\"></a>小结</h3><p>简单来讲，关于cookie记住3句话：<br>　1.首次由服务端生成，放入set-cookie字段传回给客户端；<br>　2.客户端请求报文首部加入该cookie；<br>　3.服务端识别该cookie，从而确定用户身份。</p>\n<hr>\n<h2 id=\"cookie安全性问题\"><a href=\"#cookie安全性问题\" class=\"headerlink\" title=\"cookie安全性问题\"></a>cookie安全性问题</h2><p>　　cookie在提供便利的同时，确实存在安全性问题，它可能被非法使用冒充身份。Cookie记录了用户的帐户ID、密码之类的信息，通常使用MD5方法加密后在网上传递。但是，Cookie以纯文本的形式在浏览器和服务器之间传送，很容易被他人非法截获和利用。并且截获者不需要知道这些字符串的含义，只要把别人的Cookie向服务器提交，且能够通过验证，就可以冒充受害人的身份登陆网站，这种行为就叫做Cookie欺骗。</p>\n<h3 id=\"httpOnly\"><a href=\"#httpOnly\" class=\"headerlink\" title=\"httpOnly\"></a>httpOnly</h3><p>　　上述cookie属性中的httpOnly是安全性的解决方案之一。设置为true后，JavaScript是无法获取cookie的，可防止XSS（跨站脚本攻击）等。详见如下演示：<br>1.测试程序如下：<br>  <figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Home</span>\\<span class=\"title\">Controller</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Think</span>\\<span class=\"title\">Controller</span>;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">IndexController</span> <span class=\"keyword\">extends</span> <span class=\"title\">Controller</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">index</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        setcookie(<span class=\"string\">\"sid\"</span>, <span class=\"string\">\"this is a cookie test\"</span>, <span class=\"keyword\">NULL</span>, <span class=\"keyword\">NULL</span>, <span class=\"keyword\">NULL</span>, <span class=\"keyword\">NULL</span>, <span class=\"keyword\">false</span>);</span><br><span class=\"line\">        $this-&gt;display();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>根据setcookie()函数的API：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/setcookieapi.png\" alt=\"\"><br>此时设置httpOnly的属性为false；客户端应该可以到sid=this is a cookie test这个cookie，验证代码：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    $(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        $(<span class=\"string\">\"#cookieBtn\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            alert(<span class=\"built_in\">document</span>.cookie);</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>点击“查看cookie信息”按钮，显示结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/setcookiefalse.png\" alt=\"\"><br>结果符合预期。</p>\n<p>现在更改为true，开启httpOnly:<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Home</span>\\<span class=\"title\">Controller</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Think</span>\\<span class=\"title\">Controller</span>;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">IndexController</span> <span class=\"keyword\">extends</span> <span class=\"title\">Controller</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">index</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        setcookie(<span class=\"string\">\"sid\"</span>, <span class=\"string\">\"this is a cookie test\"</span>, <span class=\"keyword\">NULL</span>, <span class=\"keyword\">NULL</span>, <span class=\"keyword\">NULL</span>, <span class=\"keyword\">NULL</span>, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">        $this-&gt;display();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>点击“查看cookie信息”按钮，显示结果如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/setcookietrue.png\" alt=\"\"><br>可以看出此时已经无法通过JavaScript获取cookie</p>\n<p>但是，这种方式也还是有漏洞的，具体参见这篇文章：<a href=\"http://netsecurity.51cto.com/art/201404/435401.htm\" target=\"_blank\" rel=\"external\">http://netsecurity.51cto.com/art/201404/435401.htm</a></p>\n<blockquote>\n<p>httpOnly作用只是限制从其他非HTTP的API（如JavaScript）访问，cookie还是有可能传递的过程中被监听捕获后信息泄漏。将 HttpOnly 属性设置为 true，并不能防止对网络频道具有访问权限的攻击者直接访问该 Cookie。针对这种情况，应考虑使用安全套接字层 (SSL) 来提供帮助。<br>secure属性是防止信息在传递的过程中被监听捕获后信息泄漏。即：<br><code>setcookie(&quot;sid&quot;, &quot;this is a cookie test&quot;, NULL, NULL, NULL, true, NULL);</code><br>HttpOnly属性的目的是防止程序获取cookie后进行攻击。即：<br><code>setcookie(&quot;sid&quot;, &quot;this is a cookie test&quot;, NULL, NULL, NULL, NULL, true);</code></p>\n</blockquote>\n<hr>\n<h2 id=\"JavaScript对cookie的操作与使用\"><a href=\"#JavaScript对cookie的操作与使用\" class=\"headerlink\" title=\"JavaScript对cookie的操作与使用\"></a>JavaScript对cookie的操作与使用</h2><p>（注：以下内容主要为引用。）</p>\n<h3 id=\"应用场景\"><a href=\"#应用场景\" class=\"headerlink\" title=\"应用场景\"></a>应用场景</h3><p>　　JavaScript是运行在客户端的脚本，因此一般是不能够设置Session的，因为Session是运行在服务器端的。而cookie是运行在客户端的，所以可以用JS来设置cookie。假设有这样一种情况，在某个用例流程中，由A页面跳至B页面，若在A页面中采用JS用变量temp保存了某一变量的值，在B页面的时候，同样需要使用JS来引用temp的变量值，对于JS中的全局变量或者静态变量的生命周期是有限的，当发生页面跳转或者页面关闭的时候，这些变量的值会重新载入，即没有达到保存的效果。解决这个问题的最好的方案是采用cookie(本地文件)来保存该变量的值，那么如何来设置和读取cookie呢？首先需要稍微了解一下cookie的结构，简单地说：cookie是以键值对的形式保存的，即key=value的格式。各个cookie之间一般是以“;”分隔。</p>\n<h3 id=\"JS设置cookie\"><a href=\"#JS设置cookie\" class=\"headerlink\" title=\"JS设置cookie\"></a>JS设置cookie</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setCookie</span>(<span class=\"params\">c_name,value,expiredays</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> exdate=<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">    exdate.setDate(exdate.getDate()+expiredays);</span><br><span class=\"line\">    <span class=\"built_in\">document</span>.cookie=c_name+ <span class=\"string\">\"=\"</span> +<span class=\"built_in\">escape</span>(value)+((expiredays==<span class=\"literal\">null</span>) ? <span class=\"string\">\"\"</span> : <span class=\"string\">\"; expires=\"</span>+exdate.toGMTString());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"JS获取cookie\"><a href=\"#JS获取cookie\" class=\"headerlink\" title=\"JS获取cookie\"></a>JS获取cookie</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCookie</span>(<span class=\"params\">c_name</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">document</span>.cookie.length&gt;<span class=\"number\">0</span>)&#123; </span><br><span class=\"line\">        c_start=<span class=\"built_in\">document</span>.cookie.indexOf(c_name + <span class=\"string\">\"=\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (c_start!=<span class=\"number\">-1</span>)&#123; </span><br><span class=\"line\">            c_start=c_start + c_name.length+<span class=\"number\">1</span>;</span><br><span class=\"line\">            c_end=<span class=\"built_in\">document</span>.cookie.indexOf(<span class=\"string\">\";\"</span>,c_start);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (c_end==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">                c_end=<span class=\"built_in\">document</span>.cookie.length;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">unescape</span>(<span class=\"built_in\">document</span>.cookie.substring(c_start,c_end));</span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"JS删除cookie\"><a href=\"#JS删除cookie\" class=\"headerlink\" title=\"JS删除cookie\"></a>JS删除cookie</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">delCookie</span>(<span class=\"params\">name</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> exp = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">    exp.setTime(exp.getTime() - <span class=\"number\">1</span>); <span class=\"comment\">//删除cookie即设置expires为一个过去的时间</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> cval=getCookie(name);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(cval!=<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.cookie= name + <span class=\"string\">\"=\"</span>+cval+<span class=\"string\">\";expires=\"</span>+exp.toGMTString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"JS检查cookie\"><a href=\"#JS检查cookie\" class=\"headerlink\" title=\"JS检查cookie\"></a>JS检查cookie</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">checkCookie</span>(<span class=\"params\"></span>)</span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    username=getCookie(<span class=\"string\">'username'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (username!=<span class=\"literal\">null</span> &amp;&amp; username!=<span class=\"string\">\"\"</span>)&#123;</span><br><span class=\"line\">        alert(<span class=\"string\">'Welcome again '</span>+username+<span class=\"string\">'!'</span>);</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      username=prompt(<span class=\"string\">'Please enter your name:'</span>,<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (username!=<span class=\"literal\">null</span> &amp;&amp; username!=<span class=\"string\">\"\"</span>)&#123;</span><br><span class=\"line\">        setCookie(<span class=\"string\">'username'</span>,username,<span class=\"number\">365</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>注：jQuery库也提供了对cookie操作的封装。具体可参见<a href=\"http://www.php100.com/html/program/jquery/2013/0905/6028.html\" target=\"_blank\" rel=\"external\">http://www.php100.com/html/program/jquery/2013/0905/6028.html</a></p>\n</blockquote>\n<hr>\n<h2 id=\"cookie与session的对比分析\"><a href=\"#cookie与session的对比分析\" class=\"headerlink\" title=\"cookie与session的对比分析\"></a>cookie与session的对比分析</h2><p>　　关于session，则又是一大块内容。具体地将在后面的文章中单独总结。这里仅把一些资料中的对比内容加以总结。</p>\n<p>1.Session是服务器端使用的一种记录客户端状态的机制，使用上比Cookie简单一些，相应的也增加了服务器的存储压力。</p>\n<p>2.不同的是Cookie保存在客户端浏览器中，而Session保存在服务器上。</p>\n<p>3.客户端浏览器访问服务器的时候，服务器把客户端信息以某种形式记录在服务器上。这就是Session。客户端浏览器再次访问时只需要从该Session中查找该客户的状态就可以了。</p>\n<p>4.当多个客户端执行程序时，服务器会保存多个客户端的Session。获取Session的时候也不需要声明获取谁的Session。Session机制决定了当前客户只会获取到自己的Session，而不会获取到别人的Session。各客户的Session也彼此独立，互不可见。</p>\n<p>5.cookie和session的共同之处在于：cookie和session都是用来跟踪浏览器用户身份的会话方式。</p>\n<p>6.cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗,如果主要考虑到安全应当使用session。</p>\n<p>7.可将登陆信息等重要信息存放为session;其他信息如果需要保留，可以放在cookie中。</p>\n<p>8.虽然Session保存在服务器，对客户端是透明的，它的正常运行仍然需要客户端浏览器的支持。这是因为Session需要使用Cookie作为识别标志。HTTP协议是无状态的，Session不能依据HTTP连接来判断是否为同一客户，因此服务器向客户端浏览器发送一个名称中包含类似“SESSIONID”字样的Cookie，它的值为该Session的id（也就是HttpSession.getId()的返回值）。Session依据该Cookie来识别是否为同一用户。该Cookie为服务器自动生成的，它的maxAge属性一般为–1，表示仅当前浏览器内有效，并且各浏览器窗口间不共享，关闭浏览器就会失效。因此同一机器的两个浏览器窗口访问服务器时，会生成两个不同的Session。但是由浏览器窗口内的链接、脚本等打开的新窗口除外，这类子窗口会共享父窗口的Cookie，因此会共享一个Session。（注意：新开的浏览器窗口会生成新的Session，但子窗口除外。子窗口会共用父窗口的Session。例如，在链接上右击，在弹出的快捷菜单中选择“在新窗口中打开”时，子窗口便可以访问父窗口的Session。）</p>\n<p>9.我们知道，客户端浏览器是可以禁用Cookie的（或者可能就不支持Cookie）那么在这种情况下，为了使用session达到相应效果，就要使用另一种技术：URL地址重写。URL地址重写是对客户端不支持Cookie的解决方案。URL地址重写的原理是将该用户Session的id信息重写到URL地址中。服务器能够解析重写后的URL获取Session的id。这样即使客户端不支持Cookie，也可以使用Session来记录用户状态。</p>\n<blockquote>\n<p>参考：<br><a href=\"http://www.cnblogs.com/shiyangxt/archive/2008/10/07/1305506.html\" target=\"_blank\" rel=\"external\">http://www.cnblogs.com/shiyangxt/archive/2008/10/07/1305506.html</a><br><a href=\"http://blog.csdn.net/axin66ok/article/details/6175522\" target=\"_blank\" rel=\"external\">http://blog.csdn.net/axin66ok/article/details/6175522</a><br><a href=\"http://blog.csdn.net/fangaoxin/article/details/6952954\" target=\"_blank\" rel=\"external\">http://blog.csdn.net/fangaoxin/article/details/6952954</a></p>\n</blockquote>\n<hr>\n<h2 id=\"cookie在实际开发中的使用\"><a href=\"#cookie在实际开发中的使用\" class=\"headerlink\" title=\"cookie在实际开发中的使用\"></a>cookie在实际开发中的使用</h2><p>　　根据上述cookie与session的对比分析可知，实际应用中cookie要配合session使用才能更好保证安全性。因此具体开发中的应用将在<a href=\"http://gcidea.info/2016/05/08/session/\" target=\"_blank\" rel=\"external\">session相关总结</a>一文中一并分析。</p>\n<hr>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>　　cookie相关内容十分丰富，这里只是对目前遇到的一些问题，根据网上已有资料和一些实际经验进行的总结，其中很多点都值得单独展开深入分析。</p>\n"},{"title":"Restful风格API设计小结","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/22/restful-api/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"token相关总结","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/21/token/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"SSH协议的简要分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/18/ssh-analysis/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"http与https的简单对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/13/http-https/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"胖URL(fat url)","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/11/fat-url/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　HTTP本身是匿名/无状态的请求/响应协议，为了能够进行客户端识别，发展出了很多种解决方案，胖URL就是其中一种用户识别机制，它是一种在URL中嵌入识别信息的技术。</p>\n<hr>\n<h2 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h2><p>　　服务端可以通过为每个用户生成特定版本的URL来追踪用户身份。通常的做法是在URL开始或结束的地方增加一些状态信息。用户浏览站点时，web服务器会动态生成一些超链，继续维护URL中的状态信息。这种改动后的URL就被称为胖URL（fat url）。以下是《HTTP权威指南》中给出的一个例子：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/fat-url-eq.png\" alt=\"\"><br>其中粗体的002-1145265-8016838就是一种特定的标识码。</p>\n<hr>\n<h2 id=\"机制\"><a href=\"#机制\" class=\"headerlink\" title=\"机制\"></a>机制</h2><p>　　通过胖url，可以将服务器上若干个独立的HTTP事务捆绑成一个“会话”或者“访问”。用户首次访问时，会生成一个唯一的id，用服务器可以识别的方式将这个id添加到url中，然后服务器就会将浏览器重定向至这个新的url，不管什么时候，只要服务端接收到了对该胖URL的请求，就可以去查找那个用户相关的状态。</p>\n<hr>\n<h2 id=\"缺点\"><a href=\"#缺点\" class=\"headerlink\" title=\"缺点\"></a>缺点</h2><p>1.丑陋的URL<br>　　一串冗长的标识码破坏了url的基本结构。<br>2.无法共享URL<br>　　胖URL中包含了用户相关的信息，因此如果将URL共享给别人，就有可能泄露个人信息。<br>3.破坏缓存<br>　　为每个用户生成特定版本的URL意味着不再有可供公共访问的URL需要缓存了。<br>4.额外的服务器负荷<br>　　主要指重写URL的负荷。<br>5.逃逸口<br>　　当用户访问一个其他站点时，就很容易在无意之中“逃离”胖URL会话。只有用户严格追随预先修改过的链接时，胖URL才会工作。<br>6.在会话期间非持久<br>　　除非用户收藏了特定胖URL，否则用户退出登录时，所有信息将会丢失。</p>\n"},{"title":"jQuery的ajax()方法详细分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/11/ajax-param/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　ajax，即“Asynchronous Javascript And XML”（异步JavaScript和XML），是一种异步加载数据的Web交互方法，在网页开发中使用十分普遍，实现局部刷新以达到更好的交互效果是ajax的典型应用。</p>\n<hr>\n<h2 id=\"核心\"><a href=\"#核心\" class=\"headerlink\" title=\"核心\"></a>核心</h2><p>　　$.ajax(即jQuery.ajax),是jQuery库进行的一次封装。其核心实现是利用了JavaScript中的XMLHttpRequest对象。通过以下jQuery源码片段可以看出(jquery-2.2.0)：<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jQuery.ajaxSettings.xhr = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">window</span>.XMLHttpRequest();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> ( e ) &#123;&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p>  关于XMLHttpRequest的更多属性、方法和演示，可以参考<a href=\"http://www.w3school.com.cn/xmldom/dom_http.asp\" target=\"_blank\" rel=\"external\">W3School XML DOM - XMLHttpRequest 对象</a>。</p>\n<hr>\n<h2 id=\"分类\"><a href=\"#分类\" class=\"headerlink\" title=\"分类\"></a>分类</h2><p>　　其实，$.ajax只是jQuery对异步加载封装的函数之一。jQuery对Ajax相关内容分为了4类：</p>\n<h3 id=\"全局Ajax事件处理函数（Global-Ajax-Event-Handlers）\"><a href=\"#全局Ajax事件处理函数（Global-Ajax-Event-Handlers）\" class=\"headerlink\" title=\"全局Ajax事件处理函数（Global Ajax Event Handlers）\"></a>全局Ajax事件处理函数（Global Ajax Event Handlers）</h3><p>　　说明：这些函数定义了页面上任何特定ajax事件（比如初始化或完成）触发时将会被调用的处理程序。有：</p>\n<ul>\n<li>.ajaxComplete()<br>　　当ajax请求执行完成时触发，与.ajaxSuccess()不同，通过ajaxComplete()方法规定的函数会在请求完成时运行，即使请求并未成功。</li>\n<li>.ajaxError()<br>　　当ajax请求执行错误时触发。</li>\n<li>.ajaxSend()<br>　　当ajax请求将要发送时触发。</li>\n<li>.ajaxStart()<br>　　当ajax请求将要发送时，jQuery将会检查此时是否有其他ajax请求正在进行。如果进程中没有，那么jQuery将会触发.ajaxStart()事件。</li>\n<li>.ajaxStop()<br>　　当一个ajax请求执行完成时，jQuery将会检查此时是否还有其他ajax请求。如果没有了，jQuery将会触发.ajaxStop()事件。另外，如果上一个ajax请求的beforeSend()回调函数的返回值为false，也会触发.ajaxStop()事件。</li>\n<li>.ajaxSuccess()<br>　　当ajax请求成功完成（无论何时）触发。此时，由.ajaxSuccess()方法定义的任何函数都会被执行。</li>\n</ul>\n<blockquote>\n<p>注：jQuery ajax中各个事件执行顺序如下：<br>1.ajaxStart(全局事件)<br>2.beforeSend<br>3.ajaxSend(全局事件)<br>4.success<br>5.ajaxSuccess(全局事件)<br>6.error<br>7.ajaxError (全局事件)<br>8.complete<br>9.ajaxComplete(全局事件)<br>10.ajaxStop(全局事件)</p>\n</blockquote>\n<h3 id=\"辅助函数（Helper-Functions）\"><a href=\"#辅助函数（Helper-Functions）\" class=\"headerlink\" title=\"辅助函数（Helper Functions）\"></a>辅助函数（Helper Functions）</h3><p>　　说明：这些函数在执行ajax任务时起到辅助作用，对参数变量等进行一些转化处理。</p>\n<ul>\n<li>.param()<br>　　这个函数是内部用来将表单元素值转换为序列化字符串表达式的。使用该函数将会把一个数组，空对象或者jQuery对象序列化成适合于URL查询或者ajax请求的形式。（键值对形式）</li>\n<li>.serialize()<br>　　使用该方法将会得到标准URL编码格式的字符串，可作用于已选择（或填写）确定值的jQuery对象。</li>\n<li>.serializeArray()<br>　　该方法会返回JavaScript对象数组，可用于编码成JSON字符串，可作用于jQuery表单对象集合。</li>\n</ul>\n<h3 id=\"基础接口（Low-Level-Interface）\"><a href=\"#基础接口（Low-Level-Interface）\" class=\"headerlink\" title=\"基础接口（Low-Level Interface）\"></a>基础接口（Low-Level Interface）</h3><p>　　说明：这些方法可用于编写任意的ajax请求。</p>\n<ul>\n<li>.ajax()<br>　　使用该方法可发起一个异步HTTP请求。<font color=\"red\">具体内容是本文重点，稍后单独描述</font>。</li>\n<li>.ajaxPrefilter()<br>　　该函数在请求被发出及执行$.ajax过程前，可定制ajax请求的选项或修改已有选项。</li>\n<li>.ajaxSetup()<br>　　该函数用于定制后续将要使用的ajax请求的参数的默认值。该方法目前已不推荐使用。</li>\n<li>.ajaxTransport()<br>　　该函数用于创建实际承载ajax数据传输的对象。</li>\n</ul>\n<h3 id=\"速写函数（Shorthand-Methods）\"><a href=\"#速写函数（Shorthand-Methods）\" class=\"headerlink\" title=\"速写函数（Shorthand Methods）\"></a>速写函数（Shorthand Methods）</h3><p>　　说明：这些函数将更加常用的ajax请求抽出来，从而可以使用更简短的名字调用更明确的方法。</p>\n<ul>\n<li>.get()<br>　　使用HTTP的GET请求从服务器获取数据。</li>\n<li>.getJSON()<br>　　使用HTTP的GET请求从服务器获取JSON格式编码的数据。</li>\n<li>.getScript()<br>　　使用HTTP的GET请求从服务器获取一个JavaScript文件，然后执行之。</li>\n<li>.post()<br>　　使用HTTP的POST请求从服务器获取数据。</li>\n<li>.load()<br>　　从服务器获取数据并且将返回的HTML代码放在匹配的元素中。</li>\n</ul>\n<hr>\n<h2 id=\"ajax-详细介绍\"><a href=\"#ajax-详细介绍\" class=\"headerlink\" title=\"$.ajax()详细介绍\"></a>$.ajax()详细介绍</h2><h3 id=\"描述：使用该方法可发起一个异步HTTP请求。\"><a href=\"#描述：使用该方法可发起一个异步HTTP请求。\" class=\"headerlink\" title=\"描述：使用该方法可发起一个异步HTTP请求。\"></a>描述：使用该方法可发起一个异步HTTP请求。</h3><h3 id=\"version1-5-格式：jQuery-ajax-url-settings\"><a href=\"#version1-5-格式：jQuery-ajax-url-settings\" class=\"headerlink\" title=\"version1.5 格式：jQuery.ajax( url [, settings ] )\"></a>version1.5 格式：jQuery.ajax( url [, settings ] )</h3><p><strong>url</strong><br>　　类型：String<br>　　该字符串所代表的URL即请求将要发送到的地方。<br><strong>settings</strong><br>　　类型：PlainObject（PlainObject是一种包含0个或多个键值对的JavaScript对象，换句话说，就是“对象的对象”。之所以被称为“PlainObject”，是为了和其他类型的JavaScript对象作区分：比如说，null，用户自定义数组，或者宿主对象-document/window。这些对象使用typeof方法都会得到“Object”返回值。而对于PlainObject，则可以使用jQuery.isPlainObject()来判断是否成立。）<br>　　settings中一系列的键值对集合配置了一个ajax请求。所有设置都是可选的。默认设置可以使用之前提到的.ajaxSetup()。下面的内容则针对所有的setting选项给出了详细解释。</p>\n<h3 id=\"version1-0-格式：jQuery-ajax-settings\"><a href=\"#version1-0-格式：jQuery-ajax-settings\" class=\"headerlink\" title=\"version1.0 格式：jQuery.ajax( [ settings ] )\"></a>version1.0 格式：jQuery.ajax( [ settings ] )</h3><p>settings的所有可选项：<br><strong>1.accepts</strong>(缺省：取决于DataType)<br>　　类型：PlainObject<br>　　是键值对的集合，将一种给定的dataType转化为对应的MIME type(MIME类型就是设定某种扩展名的文件用一种应用程序来打开的方式类型)。它将会在请求头中发送。这个头告诉服务器它需要什么类型的返回值。比如说，下面就定义了一种自定义类型：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span><br><span class=\"line\">  accepts: &#123;</span><br><span class=\"line\">    mycustomtype: <span class=\"string\">'application/x-some-custom-type'</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"comment\">// Instructions for how to deserialize a `mycustomtype`</span></span><br><span class=\"line\">  converters: &#123;</span><br><span class=\"line\">    <span class=\"string\">'text mycustomtype'</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">result</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">// Do Stuff</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> newresult;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"comment\">// Expect a `mycustomtype` back from server</span></span><br><span class=\"line\">  dataType: <span class=\"string\">'mycustomtype'</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>注意：为了让accepts正常工作，必须配套声明converters。</p>\n</blockquote>\n<p><strong>2.async</strong>(缺省：true)<br>　　类型：Boolean<br>　　默认情况下，所有请求都是异步传送的，如果想要一个同步的请求，可以把该参数设置为false。跨域请求以及dataType为“jsonp”的请求不支持同步选项。值得注意的是，同步请求可能造成浏览器短时的“锁定”，在请求执行期间无法做出任何其他响应。在jQuery1.8版本中，对jqXHR使用async: false会引起过时声明；并且，你不能使用jqXHR的jqXHR.done()或者jqXHR.success()方法，相应的要使用success/error/complete回调参数选项才行。</p>\n<p><strong>3.beforeSend</strong><br>　　类型：Function( jqXHR jqXHR, PlainObject settings )<br>　　这是一个请求前回调函数，可以用来在请求发送之前修改jqXHR(在jQuery1.4.x版本中是XMLHTTPRequest对象)。如果返回值为false，将会取消该次请求。在jQuery1.5中，无论什么请求类型，beforeSend函数都会被调用。</p>\n<p><strong>4.cache</strong>(缺省：true，但当dataType为“script”或者“jsonp”时候，缺省值是false)<br>　　类型：Boolean<br>  如果设置为false，将会强制浏览器不缓存请求的页面。<font color=\"red\">注意：设置为false时，只在HEAD或者GET请求下能正确工作</font>。它的工作方式是在GET请求参数后面拼接上“_={timestamp}”。</p>\n<p><strong>5.complete</strong><br>　　类型：Function( jqXHR jqXHR, String textStatus )<br>　　当一个请求完成后将会调用该函数（<font color=\"red\">特别注意：是当success或者error回调函数执行完成后才调用该函数</font>）。参数中的textStatus有”success”, “notmodified”, “nocontent”, “error”, “timeout”, “abort”, “parsererror” 这些种类。在jQuery1.5版本中，该选项还可以接收函数数组，其中的各个函数将会按顺序调用。</p>\n<p><strong>6.contents</strong><br>　　类型：PlainObject<br>　　这个对象是“字符串/正则表达式”这样的键值对的集合，这决定了jQuery如何解析返回值，一般是鉴定content type。</p>\n<p><strong>7.contentType</strong>(缺省：’application/x-www-form-urlencoded; charset=UTF-8’)<br>　　类型：String<br>　　当给服务器发送数据时会使用这个参数指定的类型。默认值能很好地适用于大多数情况。如果你在$.ajax()中显示地写明了该参数，那么即使没有数据，也会给服务器发送数据。在jQuery1.6中，可以通过设置为false来告诉jQuery不要设置http请求头中的content type参数。注意：W3C的XMLHttpRequest规范规定，字符集总是UTF-8。因此指定其他字符集不会让浏览器强制转换编码方式。还要注意：对于跨域请求，如果contentType设置的不是application/x-www-form-urlencoded, multipart/form-data, or text/plain这三个中的一个，将会触发浏览器向服务器发送一个含有预检功能HTTP-OPTIONS方法的请求，用以判断实际发送的请求是否安全。</p>\n<p><strong>8.context</strong><br>　　类型：PlainObject<br>　　这个参数指定的对象是ajax相关的所有回调函数的作用域。默认情况下，是一个代表着在调用中使用的ajax配置项的对象。比如，指定一个DOM元素作为context将会使得它（这个元素）成为complete这个回调函数的上下文环境（作用域），如下代码：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span><br><span class=\"line\">  url: <span class=\"string\">\"test.html\"</span>,</span><br><span class=\"line\">  context: <span class=\"built_in\">document</span>.body</span><br><span class=\"line\">&#125;).done(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  $( <span class=\"keyword\">this</span> ).addClass( <span class=\"string\">\"done\"</span> );</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p><strong>9.converters</strong>(缺省：{“* text”: window.String, “text html”: true, “text json”: jQuery.parseJSON, “text xml”: jQuery.parseXML})<br>　　类型：PlainObject<br>　　这是一个数据类型到数据类型转换的配置项，每个值都是一个函数，它返回响应值转换好的值。以上默认值表示：</p>\n<ul>\n<li>“* text”: window.String—调用String方法将任意内容转换为字符串。</li>\n<li>“text html”: true—文本转换为HTML（true表示不需要转换，直接返回）。</li>\n<li>“text json”: jQuery.parseJSON—调用jQuery.parseJSON方法将文本转换为JSON。</li>\n<li>“text xml”: jQuery.parseXML—调用jQuery.parseXML方法将文本转换为XML。</li>\n</ul>\n<p><strong>10.crossDomain</strong>(缺省：同域请求为false，跨域请求为true)<br>　　类型：Boolean<br>　　设置为true后将允许服务端重定向至另一个域名。</p>\n<p><strong>11.data</strong><br>　　类型：PlainObject 或 String 或 Array<br>　　这里设置的是将要发送给服务端的数据。如果不是一个字符串，将会被转换成查询字符串的形式。对于GET请求，它将会被添加在url尾部。可以参考“processData”这个选项来阻止这个自动的过程。给data设置的值必须是键值对形式。如果data的类型是array，那么如果序列化同键多值的元素，将取决于“traditional”这个配置项（下面将会讲述）。</p>\n<p><strong>12.dataFilter</strong><br>　　类型：Function( String data, String type ) =&gt; Anything<br>　　这个是用来处理XMLHttpRequest原生响应数据的函数。有预处理净化响应的功能。你应该返回净化后的数据。函数接收两个参数，一个是服务器返回的原生数据，另一个是dataType参数指定的内容。</p>\n<p><strong>13.dataType</strong>(缺省：Intelligent Guess (xml, json, script, or html))<br>　　类型：String<br>　　该参数指定你想要从服务器获取的数据类型。如果你没有指定，那么jQuery会尝试根据响应的MIME类型来推断。 (XML MIME type 将会输出XML, 在jQuery1.4中JSON将会输出一个JavaScript对象, script将会执行一段脚本, 其他任何类型将会作为字符串返回)，可选项（同时也是下面将要提到的success回调函数的第一个参数）有：</p>\n<ul>\n<li>“xml”:返回一个jQuery能够处理的XML文档。</li>\n<li>“html”:将HTML作为纯文本返回，其中包含的<script></script>标签将会在插入DOM元素时起作用。</li>\n<li>“script”:将响应结果视为js代码执行，并且返回纯文本。默认情况下会通过在URL中附加查询字符串“_=[TIMESTAMP]”的方式来禁用缓存结果，除非显式设置了cache参数为true。注意: 在远程请求时(不在同一个域下)，所有POST请求都将转为GET请求。</li>\n<li>“json”:将响应结果视为JSON进行解析，并且返回一个JavaScript对象。除非在请求参数中显式声明<code>jsonp: false</code>，否则跨域时写为“json”都会被转化为“jsonp”。JSON数据将会以严格方式进行解析，任何格式有误的JSON都会被拒绝并抛出错误。另外，在jQuery1.9中，空的返回值也是不被允许的，取而代之地，服务端必须返回一个null或者{}</li>\n<li>“jsonp”:以 JSONP 的方式载入 JSON 数据块。会自动在所请求的URL最后添加”?callback=?”。默认情况下会通过在URL中附加查询字符串“_=[TIMESTAMP]”的方式来禁用缓存结果，除非显式设置了cache参数为true。使用 JSONP 形式调用函数时，如 “myurl?callback=?” jQuery 将自动替换 ? 为正确的函数名，以执行回调函数。</li>\n<li><p>“text”: 指定返回纯文本字符串。</p>\n<blockquote>\n<p>注：一种“多样，以空格分隔”的写法—在jQuery1.5中，jQuery可以对dataType进行转化，从请求头中Content-Type转化成你需要的形式。比如，如果你想让一个text响应被视作XML进行处理，那么dataType这个参数就可以写为”text xml”。再有，你也可以让一个返回JSONP类型数据的请求的响应被视为text进行接收，并且视为XML进行解析：”jsonp text xml”。类似的，可以使用”jsonp xml”简写,首先会尝试从jsonp到xml的转换，如果转换失败，就先将jsonp转换成text, 然后再由 text转换成xml。</p>\n</blockquote>\n</li>\n</ul>\n<p><strong>14.error</strong><br>　　类型：Function( jqXHR jqXHR, String textStatus, String errorThrown )<br>　　如果请求失败将会调用此函数。该函数接收3个参数：第一个是jqXHR（jQuery1.4.x版本中是XMLHttpRequest）对象；第二个是描述错误类型的字符串；第三个是可选的异常对象。其中，第二个参数除了“null”以外的可能值有“timeout”，“error”，“abort”，“parsererror”。当发生一个HTTP错误时，第三个参数将会接收HTTP响应状态的文本部分，比如“Not Found”或“Internal Server Error”。在jQuery1.5版本中，该选项还可以接收函数数组，其中的各个函数将会按顺序调用。注意：该参数不会被跨域脚本或者跨域JSONP请求调用。</p>\n<p><strong>15.global</strong>(缺省：true)<br>　　类型：Boolean<br>　　该参数决定是否触发上文中分类里提到的第一类函数—全局Ajax事件处理函数（Global Ajax Event Handlers）。此参数可用来控制不同的ajax事件。</p>\n<p><strong>16.headers</strong>(缺省：{})<br>　　类型：PlainObject<br>　　该参数附加的键值对将随使用XMLHttpRequest传输的请求一起发送。<code>X-Requested-With: XMLHttpRequest</code>总是会被添加上，但是它的默认值XMLHttpRequest在此可以改变。此处设置的值可以被beforeSend中的设置覆盖。</p>\n<p><strong>17.ifModified</strong>(缺省：false)<br>　　类型：Boolean<br>　　该参数将设置只有当上次请求的响应改变时，请求才能成功。这是通过检查HTTP响应报文中的Last-Modified字段实现的。默认值是false，忽略HTTP头信息。在jQuery1.4中，也会检查服务器指定的’etag’属性来确定数据没有被修改过。</p>\n<p><strong>18.isLocal</strong>(缺省：取决于当前的位置协议)<br>　　类型：Boolean<br>　　允许当前环境被认定为“本地”，（如文件系统），即使jQuery默认情况下不会这么做。以下协议目前公认为本地：<code>file</code>, <code>*-extension</code>和 <code>widget</code>。如果isLocal设置需要修改，建议在$.ajaxSetup()方法中这样做一次。</p>\n<p><strong>19.jsonp</strong><br>　　类型：String<br>　　通过该参数可以在一个jsonp跨域请求中重写回调函数的名字。这个值用来替代在”callback=?”这种GET或POST请求中URL参数里的”callback”部分，比如说，<code>{jsonp:&#39;onJSONPLoad&#39;}</code>的结果就是传给服务器的该部分参数将会变成<code>&#39;onJSONPLoad=?&#39;</code>。在jQuery1.5版本中，设置jsonp为false将阻止jQuery向请求URL中添加 “?callback”或试图使用”=?”转换。在这种情况下，你还应该明确设置jsonpCallback参数。例如, { jsonp: false, jsonpCallback: “callbackName” }。如果你不信任ajax请求的接收服务器，那么考虑到安全因素应该将jsonp设置为false。</p>\n<p><strong>20.jsonpCallback</strong><br>　　类型：String 或 Function()<br>　　为一个JSONP请求指明回调函数的名字。这个值将用来取代jQuery自动生成的随机函数名。这主要用来让jQuery生成一个独特的函数名，这样管理请求更容易，也能方便地提供回调函数和错误处理。当你想让浏览器缓存GET请求时，可能会需要指明回调函数。在jQuery1.5中，还可以将此参数的值设置为一个函数，在这种情况下函数的返回值就是jsonpCallback的值。</p>\n<p><strong>21.method</strong>(缺省：“GET”)<br>　　类型：String<br>　　该参数指明HTTP请求将要使用的方法（比如“GET”,“POST”,“PUT”）。</p>\n<p><strong>22.mimeType</strong><br>　　类型：String<br>　　该参数用来覆盖XHR的MIME类型。</p>\n<p><strong>23.password</strong><br>　　类型：String<br>　　用于响应HTTP访问认证请求的密码。</p>\n<p><strong>24.processData</strong>(缺省：true)<br>　　类型：Boolean<br>　　默认情况下，通过data选项传递进来的数据，如果是一个对象(技术上讲只要不是字符串)，都会处理转化成一个查询字符串，以配合默认内容类型 “application/x-www-form-urlencoded”。如果要发送DOM文档信息或其它不希望转换的信息，请设置为false。</p>\n<p><strong>25.scriptCharset</strong><br>　　类型：String<br>　　仅适用于当”script”传输使用时（例如，跨域的”jsonp”或 dataType选项为”script” 和 “GET”类型）。请求中使用在script标签上设置charset 属性。通常只在本地和远程的内容编码不同时使用。</p>\n<p><strong>26.statusCode</strong>(缺省：{})<br>　　类型：PlainObject<br>　　一组数值的HTTP代码和函数对象，当响应中有对应的状态码时，相应的函数将会被调用。例如，如果响应状态是404，将触发以下警报：<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  $.ajax(&#123;</span><br><span class=\"line\">  statusCode: &#123;</span><br><span class=\"line\">    <span class=\"number\">404</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      alert( <span class=\"string\">\"page not found\"</span> );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>  如果请求成功，则状态码函数将会获得与success回调函数相同的参数；如果返回了错误（包括3XX重定向），则会获得与error回调函数相同的参数。</p>\n<p><strong>27.success</strong><br>　　类型：Function( Anything data, String textStatus, jqXHR jqXHR )<br>　　请求成功将会调用该函数，该函数有3个函数：第一个是data，如果请求中指明了dataType参数或者dataFilter回调函数，返回数据将会按照指定格式进行格式化；第二个是描述状态的字符串；第三个是jqXHR（jQuery1.4.x版本中是XMLHttpRequest）对象。在jQuery1.5版本中，该选项还可以接收函数数组，其中的各个函数将会按顺序调用。</p>\n<p><strong>28.timeout</strong><br>　　类型：Number<br>　　设置请求超时时间（毫秒为单位）。此设置将覆盖$.ajaxSetup() 里的全局设置。超时时间的计算是根据$.ajax成功调用的时间，如果有其他请求正在进行并且浏览器没有可用连接，那么有可能一个请求在发送之前就已经超时了。在 jQuery 1.4.x 及更低版本中, 如果请求超时，XMLHttpRequest对象是处于无效状态;访问任何对象的成员可能会抛出一个异常。只有在 Firefox 3.0+,script 和 JSONP请求不会因超时而取消;即使是超时后到达的脚本也将运行。</p>\n<p><strong>29.traditional</strong><br>　　类型：Boolean<br>　　如果你想要用传统的方式来序列化数据，那么就设置为true。</p>\n<p><strong>30.type</strong>(缺省：’GET’)<br>　　类型：String<br>　　是<code>method</code>的别名，如果使用jQuery1.9.0之前的版本，应使用<code>type</code>。</p>\n<p><strong>31.url</strong>(缺省：当前页URL)<br>　　类型：String<br>　　请求将要送达的地址。</p>\n<p><strong>32.username</strong><br>　　类型：String<br>　　用于响应HTTP访问认证请求的用户名。</p>\n<p><strong>33.xhr</strong>(缺省：ActiveXObject (IE), XMLHttpRequest (其他))<br>　　类型：Function()<br>　　用于重写或者提供一个增强的XMLHttpRequest 对象。</p>\n<p><strong>34.xhrFields</strong><br>　　类型：PlainObject<br>　　“文件名-文件值”对构成的对象，用于设定原生的 XHR对象。例如，如果需要的话，在进行跨域请求时，你可以用它来设置withCredentials为true。<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span><br><span class=\"line\"> url: a_cross_domain_url,</span><br><span class=\"line\"> xhrFields: &#123;</span><br><span class=\"line\">    withCredentials: <span class=\"literal\">true</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> &#125;);</span><br></pre></td></tr></table></figure></p>\n<p>  在 jQuery 1.5中， withCredentials属性不会传递给原生的XHR,从而对于需要使用此属性的CORS请求，则只能忽略这个属性。出于这个原因，应使用jQuery1.5.1以上版本。</p>\n<hr>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>　　$.ajax()方法是jQuery中所有和ajax（异步请求）相关内容的基础。有时候我们不需要非得直接调用这个函数，因为有其他更高层一些的可选函数比如<code>$.get()</code>、<code>.load()</code>可供我们使用并且更易用。但是，如果有一些生僻的参数需要指定，还是$.ajax()更加灵活。$.ajax()是更加全面的，这也是为什么要深入讨论其每一个参数的目的。<br>　　在最简单的情况下，$.ajax()可以无参数使用：<code>$.ajax();</code>。<br>注意：上述使用方式是无参的，默认参数的设定可以通过$.ajaxSetup()函数来指定。另外，这种无参的使用方法，对加载当前页面的内容，并且对这个内容没有任何操作。如果想使用这个结果，则可以自己写一个回调函数。</p>\n<hr>\n<h2 id=\"jqXHR对象\"><a href=\"#jqXHR对象\" class=\"headerlink\" title=\"jqXHR对象\"></a>jqXHR对象</h2><p>　　在jQuery1.5及以上版本中，由$.ajax()返回的jQuery XMLHttpRequest (jqXHR)是浏览器原生XMLHttpRequest的一个超集。比如说，它具有responseText、responseXML属性以及getResponseHeader()方法。当传输机制不是是XMLHttpRequest时（例如，一个JSONP请求脚本，返回一个<script></script> 时），jqXHR对象尽可能的模拟原生的XHR功能。<br>　　在jQuery1.5.1及以上版本中，jqXHR对象还包含了overrideMimeType方法 (它在jQuery 1.4.x中是有效的，但是在jQuery 1.5中暂时的被移除)。.overrideMimeType()方法可用在beforeSend()的回调函数中，例如，修改响应的Content-Type信息头：<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  $.ajax(&#123;</span><br><span class=\"line\">  url: <span class=\"string\">\"http://fiddle.jshell.net/favicon.png\"</span>,</span><br><span class=\"line\">  beforeSend: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"> xhr </span>) </span>&#123;</span><br><span class=\"line\">    xhr.overrideMimeType( <span class=\"string\">\"text/plain; charset=x-user-defined\"</span> );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">  .done(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"> data </span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ( <span class=\"built_in\">console</span> &amp;&amp; <span class=\"built_in\">console</span>.log ) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log( <span class=\"string\">\"Sample of data:\"</span>, data.slice( <span class=\"number\">0</span>, <span class=\"number\">100</span> ) );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure></p>\n<p>  从 jQuery1.5开始，$.ajax()返回的jqXHR对象实现了Promise接口, 使它拥有了Promise的所有属性，方法和行为。当$.ajax()请求结束后，这些方法将有一个或多个函数作为参数传入。通常对于一个请求允许对多个回调函数进行赋值，甚至允许你在请求已经完成后，对回调函数进行赋值(如果该请求已经完成，则回调函数会被立刻调用)。</p>\n<ul>\n<li><strong>jqXHR.done(function( data, textStatus, jqXHR ) {});</strong><br>　　一个可供选择的 success 回调选项的构造函数，.done()方法取代了的过时的jqXHR.success()方法。</li>\n<li><strong>jqXHR.fail(function( jqXHR, textStatus, errorThrown ) {});</strong><br>　　一种可供选择的 error 回调选项的构造函数，.fail()方法取代了的过时的.error()方法。</li>\n<li><strong>jqXHR.always(function( data|jqXHR, textStatus, jqXHR|errorThrown ) { });</strong><br>　　一种可供选择的 complete 回调选项的构造函数，.always()方法取代了的过时的.complete()方法。<br>　　在响应一个成功的请求后，该函数的参数和.done()的参数是相同的：data, textStatus, 和 jqXHR 对象.对于失败的请求，参数和.fail()的参数是相同的：jqXHR 对象, textStatus, 和 errorThrown。</li>\n<li><strong>jqXHR.then(function( data, textStatus, jqXHR ) {}, function( jqXHR, textStatus, errorThrown ) {});</strong><br>　　包含了 .done() 和 .fail()方法的功能，（从 jQuery 1.8 开始）允许底层被操纵。</li>\n</ul>\n<blockquote>\n<p>弃用注意：jqXHR.success(), jqXHR.error(), 和 jqXHR.complete()回调从jQuery 1.8开始被弃用。它们将最终被取消，应做好准备使用jqXHR.done(), jqXHR.fail(), 和 jqXHR.always() 代替。</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Assign handlers immediately after making the request,</span></span><br><span class=\"line\"><span class=\"comment\">// and remember the jqXHR object for this request</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> jqxhr = $.ajax( <span class=\"string\">\"example.php\"</span> )</span><br><span class=\"line\">  .done(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    alert( <span class=\"string\">\"success\"</span> );</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .fail(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    alert( <span class=\"string\">\"error\"</span> );</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .always(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    alert( <span class=\"string\">\"complete\"</span> );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// Perform other work here ...</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// Set another completion function for the request above</span></span><br><span class=\"line\">jqxhr.always(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  alert( <span class=\"string\">\"second complete\"</span> );</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>this在所有的回调中所指向的引用，是上文提到的参数之一-context所指定的内容；如果没有指定context这个参数，那么this所引用的是Ajax配置项本身。</p>\n<p>　　为了向后兼容XMLHttpRequest ，jqXHR对象暴露了下列属性和方法：</p>\n<ul>\n<li>readyState</li>\n<li>status</li>\n<li>statusText</li>\n<li>responseXML 和/或 responseText：视底层响应是xml还是text而不同。</li>\n<li>setRequestHeader(name, value)：从标准出发，将旧值替换为新值，而不是将旧值和新值联系起来。</li>\n<li>getAllResponseHeaders()</li>\n<li>getResponseHeader()</li>\n<li>statusCode()</li>\n<li>abort()</li>\n</ul>\n<p>  　　这里并没有提供onreadystatechange属性，因为所有可以想到的需求都可以通过done, fail, always, 和 statusCode来实现。</p>\n<hr>\n<h2 id=\"回调函数队列（Callback-Function-Queues）\"><a href=\"#回调函数队列（Callback-Function-Queues）\" class=\"headerlink\" title=\"回调函数队列（Callback Function Queues）\"></a>回调函数队列（Callback Function Queues）</h2><p>　　beforeSend, error, dataFilter, success 和 complete都可以接收（多个）适时调用的回调函数。从jQuery1.5开始， fail ， done ，和从jQuery 1.6开始的always回调钩子（hooks）采用先入先出队列管理。这意味着你可以为每个挂钩分配多个回调。<br>  $.ajax()提供的回调hooks如下：</p>\n<ol>\n<li><code>beforeSend</code> 在发送请求之前调用，它接收jqXHR对象和settings作为参数对象。</li>\n<li><code>error</code> 在请求出错时调用。它们接受jqXHR ，字符串表示的错误类型，以及异常对象（如果有的话）。一些内置的错误会将 “abort”, “timeout”, “No Transport” 等字符串作为异常对象。</li>\n<li><code>dataFilter</code>  在请求成功之后调用。传入返回的数据以及dataType参数的值。并且必须返回新的数据（可能是处理过的）传递给success回调函数。</li>\n<li><code>success</code>  当请求成功并接收到返回数据之后调用。传入返回后的数据，以及包含成功代码的字符串和jqXHR对象。</li>\n<li><strong>Promise callbacks</strong>—<code>.done()</code>, <code>.fail()</code>, <code>.always()</code>, 和 <code>.then()</code>，按注册顺序依次调用。</li>\n<li><code>error</code> 请求完成时，无论是在失败或成功，它们按顺序依次执行回调。他们收到jqXHR对象，以及一个包含成功或错误代码。</li>\n</ol>\n<hr>\n<h2 id=\"数据类型（Data-Types）\"><a href=\"#数据类型（Data-Types）\" class=\"headerlink\" title=\"数据类型（Data Types）\"></a>数据类型（Data Types）</h2><p>　　不同类型的$.ajax()调用返回值在传递给success处理之前会交付给不同的预处理过程。至于交给哪种过程，默认是根据响应的Content-Type属性，但是也可以通过dataType属性显式声明。<br>　　可接受的类型有： text, html, xml, json, jsonp, 和 script.<br>　　如果指明了text或者html，将不会有预处理过程。数据只是简单地传递给了success处理程序，并且通过jqXHR对象的responseText属性也可以访问到。<br>　　如果指明了xml，那么在交付success处理之前，会先由jQuery.parseXML进行处理得到一个XMLDocument再传递。同时，这个XML文档通过jqXHR对象的responseXML属性也可以访问到。<br>  　如果指明了json，那么在交付success处理之前，会先由jQuery.parseJSON进行处理得到一个对象再传递。同时，这个XML文档通过jqXHR对象的responseJSON属性也可以访问到。<br>　　如果指明了script，那么在交付success处理之前，$.ajax()会直接执行从服务器接收到的脚本。<br>　　如果指明了jsonp，那么在交付success处理之前，$.ajax()会自动在URL后面拼接查询字符串<code>callback=?</code>。此时，$.ajax()的jsonp和jsonpCallback参数可以分别用于指明查询参数的名字和JSONP回调函数的名字。服务器应该返回合法的JavaScript传递给JSON响应回调函数。在将包含JSON对象的响应交付给success处理之前，$.ajax()会执行返回的JavaScript，并调用回调函数。</p>\n<hr>\n<h2 id=\"向服务器发送数据（Sending-Data-to-the-Server）\"><a href=\"#向服务器发送数据（Sending-Data-to-the-Server）\" class=\"headerlink\" title=\"向服务器发送数据（Sending Data to the Server）\"></a>向服务器发送数据（Sending Data to the Server）</h2><p>　　默认情况下，ajax方法使用HTTP的GET发送，如果需要POST，可以通过type参数指明。这个选项决定了data参数中的内容将以何种形式发送给服务器。由w3c标准可知，使用POST方法时，数据总是以UTF-8编码进行传送。<br>　　data参数的内容，既可以使用<code>key1=value1&amp;key2=value2</code>这种形式，也可以使用<code>{key1: &#39;value1&#39;, key2: &#39;value2&#39;}</code>这种形式。如果使用了后者，那么数据在发送之前将会使用jQuery.param()方法将之转化为查询字符串。如果想避免这种转化过程，可以将processData设置为false。如果想要给服务器发送XML对象，那么这种转化过程可能会出问题，这时候，最好把contentType=”application/x-www-form-urlencoded”换为其他更合适的MIME类型。</p>\n<hr>\n<h2 id=\"高级选项（Advanced-Options）\"><a href=\"#高级选项（Advanced-Options）\" class=\"headerlink\" title=\"高级选项（Advanced Options）\"></a>高级选项（Advanced Options）</h2><p>　　<code>global</code>选项用于阻止响应注册的回调函数，比如.ajaxSend(), .ajaxError()，以及类似的方法。这在有些时候很有用，比如发送的请求非常频繁且简短的时候，就可以在.ajaxSend()里禁用这个。跨域脚本和JSONP请求，全局选项自动设置为false。<br>　　如果服务器需要HTTP认证，可以使用用户名和密码可以通过 username 和 password 选项来设置。<br>　　Ajax请求是限时的，所以错误警告被捕获并处理后，可以用来提升用户体验。请求超时这个参数通常就保留其默认值，要不就通过$.ajaxSetup()来全局设定，很少为特定的请求重新设置timeout选项。<br>　　默认情况下，请求总会被发出去，但浏览器有可能从他的缓存中调取数据。要禁止使用缓存的结果，可以设置cache参数为false。如果希望判断数据自从上次请求后没有更改过就报告出错的话，可以设置ifModified为true。<br>  scriptCharset允许给<script></script>标签的请求设定一个特定的字符集，用于script 或者 jsonp类似的数据。当脚本和页面字符集不同时，这特别好用。<br>  <font color=\"red\">Ajax中的第一个字母“A”是指“asynchronous”，意味着操作是并行完成的且完成的顺序没有先后关系。</font>$.ajax()方法的<code>async</code>参数默认是true，表明请求发送出去后代码还可以继续执行。<font color=\"red\">将该参数设置为false是强烈不建议的，因为这可能在成浏览器无响应</font>。<br>　　$.ajax()函数返回它创建的XMLHttpRequest对象。通常jQuery只在内部处理并创建这个对象，但用户也可以通过xhr选项来传递一个自己创建的xhr对象。返回的对象通常已经被丢弃了，但依然提供一个底层接口来观察和操控请求。比如说，调用对象上的.abort()可以在请求完成前挂起请求。</p>\n<hr>\n<h2 id=\"可扩展的Ajax（Extending-Ajax）\"><a href=\"#可扩展的Ajax（Extending-Ajax）\" class=\"headerlink\" title=\"可扩展的Ajax（Extending Ajax）\"></a>可扩展的Ajax（Extending Ajax）</h2><p>　　对于jQuery1.5及以上版本，jQuery的ajax实现包含了prefilters, transports, 和 converters，这为你扩展ajax提供了极大地灵活性。</p>\n<hr>\n<h2 id=\"使用转换器（Using-Converters）\"><a href=\"#使用转换器（Using-Converters）\" class=\"headerlink\" title=\"使用转换器（Using Converters）\"></a>使用转换器（Using Converters）</h2><p>　　$.ajax()的转换器支持的数据类型映射到其它数据类型。但是，如果你想把自定义数据类型映射到一个已知的类型（json等）,必须通过contents选项在响应的Content-Type属性和实际的数据类型之间的添加一个相关的转换函数：<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  $.ajaxSetup(&#123;</span><br><span class=\"line\">  contents: &#123;</span><br><span class=\"line\">    mycustomtype: <span class=\"regexp\">/mycustomtype/</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  converters: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"mycustomtype json\"</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"> result </span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">// Do stuff</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> newresult;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>这个额外的对象是必要的 ，因为响应中的Content-Types和实际数据类型之间从未有过严格的一对一对应关系。</p>\n<p>转换一个支持的类型（例如text, json）成自定义数据类型，然后再转换成另一个支持的类型，使用直通转换器：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajaxSetup(&#123;</span><br><span class=\"line\">  contents: &#123;</span><br><span class=\"line\">    mycustomtype: <span class=\"regexp\">/mycustomtype/</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  converters: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"text mycustomtype\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"string\">\"mycustomtype json\"</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"> result </span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">// Do stuff</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> newresult;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"附加提醒\"><a href=\"#附加提醒\" class=\"headerlink\" title=\"附加提醒\"></a>附加提醒</h2><ol>\n<li>考虑到浏览器安全限制，大多数ajax请求遵循同源策略。请求不能成功从其他域名，子域名，端口或者协议获取数据。</li>\n<li>script和JSONP请求不受同源策略限制。</li>\n</ol>\n<hr>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>　　本篇详细总结了$.ajax()方法相关的方方面面。平时只是使用到了一种很少一部分参数，其实$.ajax()考虑到了这么多细节。本篇主要参考了jQuery官网的API文档，现在也有一些中文文档，但是其中有的翻译很晦涩。于是结合原文和这些中文翻译进行了重新整理，其中肯定有一些不清楚的或者错误的地方，还需要进一步发现。</p>\n"},{"title":"包管理工具Bower与npm的简单对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/10/bower-npm/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"自动构建工具Grunt与Gulp的简单对比分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/08/grunt-gulp/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"《JavaScript 权威指南》P147的一处分析","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/07/js-definitive-guide-p-147/","content":"<h2 id=\"情景\"><a href=\"#情景\" class=\"headerlink\" title=\"情景\"></a>情景</h2><p>　　在《JavaScript权威指南 第六版 中文版》P147，讲到稀疏数组时，书中给出如下的分析和例子：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-147-cn.png\" alt=\"\"><br>　　读完后感觉第一个红框和第二个红框中的表述不是很清楚，有些矛盾。于是在chrome浏览器的控制台进行测试，结果如下：</p>\n<ol>\n<li>第一个红框对应结果<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/eq1.png\" alt=\"\"></li>\n<li>第二个红框对应结果<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/eq2.png\" alt=\"\"></li>\n<li>第三个红框对应结果<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/eq3.png\" alt=\"\"><br>也就是说实测结果与书中第一个红框中的蓝色小框表述相反：0 in a1输出的值是false。</li>\n</ol>\n<hr>\n<h2 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h2><p>　　以下是《JavaScript: The Definitive Guide》原书第六版对应地方的原文：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/js-147-en.png\" alt=\"\"><br>由此可以看出，原书中只有中文版截图中的第一个红框中的内容，而中文版在翻译时译者加上了后面两段话。猜测可能译者在浏览器中得到的结果也与原书不同，因而补上了两段话加以说明。</p>\n<hr>\n<h2 id=\"结论\"><a href=\"#结论\" class=\"headerlink\" title=\"结论\"></a>结论</h2><ol>\n<li>中文版截图中，第二个红框中的运行结果是译者在新版浏览器环境中测试得出的。即对于最新的情况：当省略数组直接量中的值时，得到的数组也是稀疏数组，并且省略掉的值是不存在的。</li>\n<li>中文版截图中，第三个红框中的说明表明：经译者测试，在旧版本浏览器中，[1,,3]和[1,undefined,3]是一样的，且对于省略的值，认为其是存在的（为undefined），因而作者写作时候用的是旧版浏览器，测试得出的结果是true。</li>\n<li>只记这个结论：省略数组直接量中的值（写连续的逗号）与显式写明undefined是不同的—前者认为在该索引处没有元素，后者认为在该索引处有一个undefined元素。</li>\n</ol>\n"},{"title":"URL重写","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/06/url-rewriting/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"【阿里云ECS】GitLab的搭建配置过程和GitLab-CI服务的使用","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/05/gitlab-gitlab-ci/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　GitHub是一个十分著名并相当活跃的社区，每天有世界各地的程序员在这里分享与交流。作为开源项目或者技术分享，我们当然可以将代码维护在这里。但是对于内部项目，我们应该具备私有仓库来进行维护。GitLab就是一个很好的选择。本文主要包括以下几个方面：</p>\n<ol>\n<li>Git安装与使用</li>\n<li>GitLab相关知识介绍</li>\n<li>GitLab搭建配置的完整过程</li>\n<li>GitLab-CI相关知识介绍</li>\n<li>GitLab-CI安装配置的完整过程</li>\n<li>GitLab-CI持续集成服务的测试</li>\n<li>小结</li>\n</ol>\n<hr>\n<h2 id=\"准备工具\"><a href=\"#准备工具\" class=\"headerlink\" title=\"准备工具\"></a>准备工具</h2><p>　　部署环境：阿里云ECS Centos7.0 64bit(已具备完整LAMP环境)<br>　　远程连接：Xshell 5<br>　　文件传输：Xftp 5</p>\n<hr>\n<h2 id=\"Git安装与使用\"><a href=\"#Git安装与使用\" class=\"headerlink\" title=\"Git安装与使用\"></a>Git安装与使用</h2><p>　　Git的安装是必要的，安装后我们可以从服务器clone下来GitLab仓库中的最新代码进行开发维护。Centos7自带Git，但是版本为1.8，考虑到使用新版本减少问题，决定升级至2.7.4。具体过程如下：</p>\n<ol>\n<li>卸载Centos7自带的Git1.8<br><code># yum remove git</code></li>\n<li>下载Git2.7.4<br><code># wget https://github.com/git/git/archive/v2.7.4.tar.gz</code></li>\n<li>解压该文件<br><code># tar zxvf v2.7.4.tar.gz</code></li>\n<li>【配置】，configure用来生成Makefile，指定安装到 /usr/local/git，为下一步的编译做准备<br><code># ./configure --prefix=/usr/local/git</code></li>\n<li>【编译】，根据makefile的定义，调用源代码、函数库、编译器来编译<br><code># make configure</code></li>\n<li>【安装】<br><code># make install</code></li>\n<li>将Git添加至环境变量中<br><code># echo &quot;export PATH=$PATH:/usr/local/git/bin&quot; &gt;&gt; /etc/bashrc</code></li>\n<li>在当前bash环境下读取并执行/etc/bashrc中的每一条命令，使之立刻生效<br><code># source /etc/bashrc</code></li>\n</ol>\n<p>经过以上过程，Git就安装完成了，我们可以查看Git的版本：<br><code># git --version</code></p>\n<p>如下所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/git-version.png\" alt=\"\"></p>\n<p>具体git知识的学习与git使用，参见<a href=\"http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000\" target=\"_blank\" rel=\"external\">廖雪峰的git教程</a>。</p>\n<hr>\n<h2 id=\"GitLab相关知识介绍\"><a href=\"#GitLab相关知识介绍\" class=\"headerlink\" title=\"GitLab相关知识介绍\"></a>GitLab相关知识介绍</h2><p>　　首先，GitLab的官网是<a href=\"https://about.gitlab.com/gitlab-com/\" target=\"_blank\" rel=\"external\">https://about.gitlab.com/gitlab-com/</a>，这里有最权威的文档与介绍。其次，GitLab中文社区<a href=\"http://www.gitlab.cc/\" target=\"_blank\" rel=\"external\">http://www.gitlab.cc/</a>也比较活跃，可以在上面找找有没有类似的问题。<br>　　Gitlab是一个用Ruby on Rails开发的开源项目管理程序，可以通过WEB界面进行访问公开的或者私人项目。它和GitHub有类似的功能，能够浏览源代码，管理缺陷和注释。GitLab拥有Git仓库管理，code reviews(代码审查)，issue tracking(问题跟踪)，wikis等功能，GitLab搭配GitLab CI，能更简单的实现持续集成和自动部署。还可以使用issue，milestones，逐行code reviwe等功能进行团队协作，查看项目动态。GitLab可无缝集成Slack，Hipchat，LDAP，JIRA，Jenkins等其他流行的工具，提供了非常多的webhooks和完善的API。<br>　　GitLab社区版是开源的，可以免费下载使用。GitLab由超过1000人的社区维护。GitLab企业版提供深度的LDAP和Active Directory集成，以及Jira和Jenkins集成。<br>　　而无论是GitLab还是GitHub，都可以说是一种管理工具，其本质都是要学会Git的思想与使用。推荐<a href=\"http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000\" target=\"_blank\" rel=\"external\">廖雪峰的git教程</a>。<br>　　Gitlab官方文档对于Gitlab的原理和重要组件有详细的说明，这里就不再展开了，但要推荐<a href=\"http://www.jianshu.com/p/a22eaa1fcfe7\" target=\"_blank\" rel=\"external\">一位学长的帖子</a>，他在帖子中讲述了一些对于Gitlab工作流程和重要组件的理解，值得一读。</p>\n<hr>\n<h2 id=\"GitLab搭建配置的完整过程\"><a href=\"#GitLab搭建配置的完整过程\" class=\"headerlink\" title=\"GitLab搭建配置的完整过程\"></a>GitLab搭建配置的完整过程</h2><h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>　　GitLab官网上有详细的安装说明，选择操作系统版本后按步骤操作即可。但是<strong>阿里云主机无法连接GitLab Yum源</strong>，因此选择rpm包安装方式。</p>\n<ol>\n<li>使用curl命令获取相应文件<br><code># curl -LJO https://mirror.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-8.5.4-ce.0.el7.x86_64.rpm</code></li>\n<li>rpm方式安装<br><code># rpm -i gitlab-ce-8.5.4-ce.0.el7.x86_64.rpm</code><br>结果如图：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/gitlab%E5%AE%89%E8%A3%85.png\" alt=\"\"></li>\n</ol>\n<h3 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h3><p>　　我们在<a href=\"http://gcidea.info/2016/05/03/lamp/\" target=\"_blank\" rel=\"external\">上一篇文章</a>的“phpMyAdmin的安装与配置 3.测试”中提到，由于我的网站线上环境、GitLab都是搭建在一台服务器上的，因此在默认情况下会产生端口冲突。于是做出如下处理。</p>\n<ol>\n<li>修改Apache端口为4040<br>使用命令：<br><code># cd etc/httpd/conf/</code><br><code># vi httpd.conf</code><br>注释掉Listen 80，改为Listen 4040<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/listen4040.png\" alt=\"\"></li>\n<li><p>配置GitLab<br>GitLab的配置文件默认位于/etc/gitlab/gitlab.rb<br>使用命令：<br><code># cd /etc/gitlab</code><br><code># vi gitlab.rb</code><br>在该文件的一开始就有关于external_url的配置，这里我填的就是我的阿里云ECS主机的ip地址。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/gitlab-port-conf.png\" alt=\"\"></p>\n<p>这里注意，在配置url时直接指定一个未被占用的端口即可。如果不指定端口（仅填写域名或者IP地址），那么默认的是80端口，此时就必须保证Apache使用的不是80默认端口（修改方法见上述内容），否则冲突。<br>配置完成后，还要使用如下命令使之生效：<br><code># gitlab-ctl reconfigure</code></p>\n</li>\n</ol>\n<h3 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h3><p>　　按照上述过程，GitLab本身的基本配置就可以了。打开浏览器输入external_url地址访问GitLab，却出现了如下界面：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/gitlab-502.png\" alt=\"\"><br><strong>原因</strong>：<br>查阅了相关资料，引起502的原因多样，比如设置的超时时间过短等。经过排查，我这里遇到这个问题是因为阿里云centos7默认的虚拟内存swap交换分区设置过小导致的。<br><strong>解决方法</strong>：<br>增加系统的swap分区：</p>\n<ol>\n<li>新建一个分区，创建/home/swap分区文件。文件的大小是1024000个block，1个block为1024，所以这里空间是1G<br><code># dd if=/dev/zero of=/home/swap/swap bs=1024 count=1024000</code></li>\n<li>将该分区格式化成swap分区，使其成为有效状态<br><code># swapon /home/swap/swap</code></li>\n<li>查看最新的分区情况：</li>\n</ol>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/free.png\" alt=\"\"></p>\n<p>发现swap分区已经创建成功。但这里还有一个问题，<strong>当系统重启后，这块分区将会消失</strong>。为此，我们需要将新分区设置为开机自动挂载。/etc/fstab文件正是负责配置Linux开机时自动挂载分区的，对其进行修改。<br>使用命令：<br><code># cd /etc</code><br><code># vi fstab</code><br>在最后增加如下一句：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/swap/swap/swap swap swap defaults 0 0</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/fstab-swap.png\" alt=\"\"></p>\n<p>配置完分区后，再次访问external_url的地址，就可以看到正常的GitLab登录页。默认用户名：admin@local.host，密码5iveL!fe，登陆后可修改。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/gitlab-ce.png\" alt=\"\"><br>GitLab的管理员面板(Admin area)如下，在这里我们可以新增成员，创建项目，新建分组，邀请成员进入项目，项目持续集成配置等等，具体的问题可以进行相应搜索。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/gitlab-panel.png\" alt=\"\"></p>\n<p>至此，我们就成功搭建了GitLab~</p>\n<hr>\n<h2 id=\"GitLab-CI相关知识介绍\"><a href=\"#GitLab-CI相关知识介绍\" class=\"headerlink\" title=\"GitLab-CI相关知识介绍\"></a>GitLab-CI相关知识介绍</h2><p>　　目前，我们已经拥有了自己的GitLab仓库，可以进行正常的开发和版本控制了。我们现在需要考虑这样的场景：<font color=\"#2ca6cb\">在团队合作开发中，每天每位成员都要做出很多修改，向GitHub仓库提交大量代码，且时间不定。版本库中代码虽是最新的，可是线上部署的却没有同时更新，如果测试人员需要及时跟进，或者比如APP端的同学需要调用最新的接口进行测试，就需要手动在线上进行部署，为了保证实时性一天可能就要部署很多次，烦。</font><br>　　这种场景，当然被很多人注意到了，CI–持续集成正是说的这样的问题。</p>\n<blockquote>\n<p>持续集成(Continuous integration)是一种软件开发实践，即团队开发成员经常集成它们的工作，通过每个成员每天至少集成一次，也就意味着每天可能会发生多次集成。每次集成都通过自动化的构建（包括编译，发布，自动化测试）来验证，从而尽早地发现集成错误。</p>\n</blockquote>\n<p>　　强大的GitLab自然也考虑到了这个问题。GitLab-CE 8.0以上的版本已经将GitLab-CI集成进了GitLab，并且默认开启。所以不需要像以前一样再单独安装GitLab-CI并且为GitLab-CI开启单独的Server。但是GitLab-Runner还是需要我们单独安装的，来配合GitLab-CI使用。为此，这部分我们来详细讨论一下GitLab-CI相关问题。<br>　　GitLab官网上提供了详尽的CI文档<a href=\"http://doc.gitlab.com/ce/ci/\" target=\"_blank\" rel=\"external\">http://doc.gitlab.com/ce/ci/</a>，可以查阅。<br>　　关于GitLab-Runner的介绍，这里我要<strong><font color=\"red\">引用</font></strong>一下<a href=\"\">那位学长的另一篇帖子</a>中的一部分介绍，如下。</p>\n<blockquote>\n<p>　　GitLab-Runner是配合GitLab-CI进行使用的。一般地，GitLab里面的每一个工程都会定义一个属于这个工程的软件集成脚本，用来自动化地完成一些软件集成工作。当这个工程的仓库代码发生变动时，比如有人push了代码，GitLab就会将这个变动通知GitLab-CI。这时GitLab-CI会找出与这个工程相关联的Runner，并通知这些Runner把代码更新到本地并执行预定义好的执行脚本。</p>\n<p>　　所以，GitLab-Runner就是一个用来执行软件集成脚本的东西。你可以想象一下：Runner就像一个个的工人，而GitLab-CI就是这些工人的一个管理中心，所有工人都要在GitLab-CI里面登记注册，并且表明自己是为哪个工程服务的。当相应的工程发生变化时，GitLab-CI就会通知相应的工人执行软件集成脚本。如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/gitlab-runner.png\" alt=\"\"><br>Runner类型<br>　　GitLab-Runner可以分类两种类型：Shared Runner（共享型）和Specific Runner（指定型）。<br><strong>Shared Runner</strong>：这种Runner（工人）是所有工程都能够用的。只有系统管理员能够创建Shared Runner。<br><strong>Specific Runner</strong>：这种Runner（工人）只能为指定的工程服务。拥有该工程访问权限的人都能够为该工程创建Shared Runner。</p>\n<p>文／tsyeyuanfeng（简书作者）<br>原文链接：<a href=\"http://www.jianshu.com/p/2b43151fb92e\" target=\"_blank\" rel=\"external\">http://www.jianshu.com/p/2b43151fb92e</a><br>著作权归作者所有，转载请联系作者获得授权，并标注“简书作者”。</p>\n</blockquote>\n<hr>\n<h2 id=\"GitLab-CI安装配置的完整过程\"><a href=\"#GitLab-CI安装配置的完整过程\" class=\"headerlink\" title=\"GitLab-CI安装配置的完整过程\"></a>GitLab-CI安装配置的完整过程</h2><h3 id=\"安装-1\"><a href=\"#安装-1\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>　　之前已经说过，GitLab-CE 8.0以上的版本已经将GitLab-CI集成进了GitLab，因此下面安装GitLab-Runner。<br>　　官网确实给出了详细的安装方式（针对各种操作系统）<a href=\"https://gitlab.com/gitlab-org/gitlab-ci-multi-runner/blob/master/docs/install/linux-repository.md\" target=\"_blank\" rel=\"external\">https://gitlab.com/gitlab-org/gitlab-ci-multi-runner/blob/master/docs/install/linux-repository.md</a>，但是，我也确实无论如何都无法下载下来文档中提到的yum源。。。<br>为此，我“换了种方式”下载了rpm包，使用Xftp将rpm文件放进了阿里云ECS的centos系统中，再通过rpm命令进行了安装，绕了个大圈，如图：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/multi-runner%E5%AE%89%E8%A3%85.png\" alt=\"\"></p>\n<h3 id=\"注册\"><a href=\"#注册\" class=\"headerlink\" title=\"注册\"></a>注册</h3><p>　　安装好gitlab-ci-multi-runner后，我们就可以用它向GitLab-CI注册Runner了。<br>　　根据官网的介绍，如果我们需要注册Shared Runner，就在管理员面板Admin Area中获取token和url，如下图：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/shared-runner.png\" alt=\"\"></p>\n<p>　　如果我们需要注册Specific Runner，就要在该项目的setting中的runner面板中获取token和url，如下图：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/specific-runner-1.png\" alt=\"\"><br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/specific-runner-2.png\" alt=\"\"></p>\n<p>  这里，我是新建了一个Specific Runner，使用命令：<code># gitlab-ci-multi-runner register</code> 操作如下:<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/register.png\" alt=\"\"></p>\n<p>  注册成功后，我们可以在/etc/gitlab-runner/config.toml中看到runner的配置信息：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/toml.png\" alt=\"\"></p>\n<p>  但是这个配置信息在runner运行时候并没有起到实质作用，因为在接下来要讲到的运行runner中，命令中必须还要带上这个配置信息中的一些内容，可以说这个配置信息只是起到了一个记录作用。</p>\n<h3 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h3><p>runner注册完成之后还必须让它运行起来，否则无法接收到GitLab-CI的通知或执行脚本。我们使用命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># gitlab-ci-multi-runner run-single --url http://***.***.***.***/ci --token ************** --executor shell</span><br></pre></td></tr></table></figure></p>\n<p>运行配置好的runner，其中–url、–token和–executor参数是必须的，具体值与配置文件中的相同。其他参数可根据具体情况设置。</p>\n<p>使用如下命令了解更多：<br><code># gitlab-ci-multi-runner run-single --help</code></p>\n<p>当具有多个runner，可以使用命令：<br><code># gitlab-ci-multi-runner run</code><br>来批量运行，使用如下命令了解更多：<br><code># gitlab-ci-multi-runner run --help</code></p>\n<p>目前还有一个问题，当runner运行后，它是保持在前台的，这时候terminal不能再做其他事情，这当然不行。因此我们要把runner运行这件事做成一个服务。<br>  使用命令：<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># gitlab-ci-multi-runner install --service gitlab-runner --working-directory /home/gitlab-runner --config /etc/gitlab-runner/config.toml --user gitlab-runner</span><br></pre></td></tr></table></figure></p>\n<p>  将这个runner做成服务，并启动：<br>  <code># gitlab-ci-multi-runner start --service gitlab-runner</code><br>  这时候，在terminal中可以继续操作，查看后台进程：<br>  <code># ps -aux | grep gitlab-runner</code><br>  发现正常运行：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/ps-gitlab-runner.png\" alt=\"\"></p>\n<p>  至此，GitLab-CI和GitLab-Runner配置完成。</p>\n<hr>\n<h2 id=\"GitLab-CI持续集成服务的测试\"><a href=\"#GitLab-CI持续集成服务的测试\" class=\"headerlink\" title=\"GitLab-CI持续集成服务的测试\"></a>GitLab-CI持续集成服务的测试</h2><p>　　前文完成了GitLab-CI持续集成服务的配置，那么它是如何起作用的呢？<br>　　我们已知，我们针对我们项目的仓库已经建立了一个Specific Runner，并且将它运行起来了，runner就处于一种“监听状态”。当项目成员向仓库提交代码，runner检测到像git push这样的事件后，就会做出一些处理，实现项目的自动部署持续集成。具体的：<br>　　我们需要在根目录下建立一个名为.gitlab-ci.yml的文件。当整个项目进行git push的时候，runner会去检查这个文件，去执行里面的脚本。<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/gitlab-ci-yml.png\" alt=\"\"></p>\n<p>　　我们想实现的效果是：每次提交的新代码都可以自动部署到/var/www/html目录下，这样访问网站或者API接口就可以获取最新情况。那么，其实就相当于删除原先该目录下的代码，将新提交的内容放在该目录下。这样就很清楚脚本怎么写了，只需要两句：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">  script:</span><br><span class=\"line\">    - rm -rf /var/www/html/project_name</span><br><span class=\"line\">    - cp -r ../project_name /var/www/html/project_name</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>解释：</p>\n<ol>\n<li>使用rm命令加上-rf递归强制删除项目文件/var/www/html/project_name。</li>\n<li>使用命令cp加上-r参数递归复制相对于当前.gitlab-ci.yml文件的上一层目录的整个项目文件，复制到/var/www/html/project_name目录。</li>\n<li>之所以是复制../project_name目录，是因为runner检测到.gitlab-ci.yml文件时，是处于最新的工程文件夹的根目录下，这样的话../project_name就表示了最新的代码。(更多的，我们可以了解到项目文件其实是位于这个runner的子目录下的：<br>/home/gitlab-runner/builds/runner_name/0/root/project_name)</li>\n</ol>\n</blockquote>\n<p>　　实践一下，在工程中建立.gitlab-ci.yml文件，并对项目中代码做出一些修改（内容随意，主要是想看到修改效果），检查冲突后git push。这时在GitLab中该项目的控制面板的Builds菜单中监测，发现build失败了：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/build-failed.png\" alt=\"\"></p>\n<p>  查看以上日志可以发现是在删除时遇到了权限问题，没有写的权限，于是更改整个项目目录的权限为777，保证删除顺利。<br>  之后再次git push测试，发现build成功：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/build-success.png\" alt=\"\"></p>\n<p>  (注：如果考虑直接将权限变为777这种比较暴力的方法的安全性问题，也可以采用更换文件夹所属用户组的方法，改owner为gitlab-runner：)<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># chown -R gitlab-runner /var/www/html/ebfinance</span><br></pre></td></tr></table></figure></p>\n<p>  这时，去Apache配置的4040端口去查看网站的效果，发现已经是最新代码对应的效果，说明自动部署成功！</p>\n<hr>\n<h2 id=\"小结\"><a href=\"#小结\" class=\"headerlink\" title=\"小结\"></a>小结</h2><p>　　至此，本文的主要内容就结束了。我们拥有了自己的项目仓库并且可以自动部署持续集成，这大大提高了我们的效率。同时，这套完整的配置过程中也可以学习到很多东西，踩了不少坑，积累了一些经验，明白了一些原理，总之还是收获很大的。</p>\n<p>　　</p>\n<p>　　</p>\n"},{"title":"【阿里云ECS】LAMP开发环境的完整搭建配置过程","url":"http://www.gcidea.info/welcome-to-this-page/2016/05/03/lamp/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　为了顺利进行web开发，一套完整易用的开发环境是十分必要的，这可以大大提高团队的合作和开发效率。这里说的开发环境包括IDE，数据库，开发语言组件，版本控制工具等一系列内容。最近在使用的是比较流行的php开发架构，在windows下，无疑推荐WAMP + MySQL-Front + phpStorm，WAMP集成了Apache、MySQL、PHP，可以免除许多安装配置的问题。这样的环境在具体开发中是没有什么问题的，但是当项目上线并且需要版本维护时，我们还是要在Linux系统上进行部署。<br>　　基于这样的需求，最近搭建了一套完整的LAMP环境并测试通过，可以实现代码版本控制，APP端API测试调用，项目自动化部署持续集成(CI)。包括的主要内容有：<br>  <a id=\"more\"></a><br>　　<strong>1.Apache组件；<br>　　2.MariaDB组件（Centos7中替换掉了MySQL）；<br>　　3.phpMyAdmin数据库管理组件；<br>　　4.PHP组件；<br>　　5.GitLab搭建；<br>　　6.GitLab-CI的配置与使用。</strong></p>\n<p>　　为了完整实现上述过程，自然还需要一些其他组件的安装配置，比如node环境，git环境等等。<br>　　<font color=\"blue\">本文将详细记录整个LAMP开发环境的搭建过程</font>，这个过程中确实遇到了不少问题，通过官方文档，一些论坛，博客等基本得到了解决或找到了其它的解决方式。<br>　　<font color=\"blue\">对于版本控制和持续集成部分，即GitLab相关的内容，会在下一篇文章中单独详细讲述。</font></p>\n<hr>\n<h2 id=\"关键词\"><a href=\"#关键词\" class=\"headerlink\" title=\"关键词\"></a>关键词</h2><p><strong> LAMP | 部署 | Centos | Apache | MariaDB | PHP </strong></p>\n<hr>\n<h2 id=\"准备工具\"><a href=\"#准备工具\" class=\"headerlink\" title=\"准备工具\"></a>准备工具</h2><p>　　部署环境：阿里云ECS Centos7.0 64bit　<br>　　远程连接：Xshell 5<br>　　文件传输：Xftp 5</p>\n<hr>\n<h2 id=\"阿里云ECS（Centos7）基本文件目录结构\"><a href=\"#阿里云ECS（Centos7）基本文件目录结构\" class=\"headerlink\" title=\"阿里云ECS（Centos7）基本文件目录结构\"></a>阿里云ECS（Centos7）基本文件目录结构</h2><p>阿里云上的centos包含了基本的Linux系统的必需目录。具体如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/centos-dir.png\" alt=\"\"><br>其中各个目录的主要作用有很多资料可以查阅，参考<a href=\"http://vbird.dic.ksu.edu.tw/\" target=\"_blank\" rel=\"external\">《鸟哥的Linux私房菜》</a>。</p>\n<hr>\n<h2 id=\"Apache的安装与配置\"><a href=\"#Apache的安装与配置\" class=\"headerlink\" title=\"Apache的安装与配置\"></a>Apache的安装与配置</h2><p>1.Centos7默认已经安装httpd服务，只是没有启动。可以通过如下命令安装<br><code># yum install httpd</code></p>\n<blockquote>\n<p>注：httpd是Apache超文本传输协议(HTTP)服务器的主程序。被设计为一个独立运行的后台进程，它会建立一个处理请求的子进程或线程池。</p>\n</blockquote>\n<p>具体安装过程如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/1.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/2.png\" alt=\"\"><br>2.成功安装后，启动apache,并且设置系统让 Apache 开机自动启动。这里本来使用的是这两条命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># service httpd start    //启动Apache</span><br><span class=\"line\"># chkconfig httpd on     //设置开机自启</span><br></pre></td></tr></table></figure></p>\n<p>但是系统给出了如下的提示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/3.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/4.png\" alt=\"\"><br>出现这个提示的原因是CentOS7已经切换到systemd，系统指令也有所变化。之前用于启动、重启、停止各种服务的service作为向后兼容的指令还能使用，但是系统会自动重定向该指令到新的指令/bin/systemctl 来执行，并给出提示。因此，这里也就顺便对常用命令的变化做以对比和总结（以对httpd服务的操作为例）：</p>\n<blockquote>\n<p>【启动服务】<br>旧：<code># service http start</code><br>新：<code># systemctl start httpd</code></p>\n<p>【停止服务】<br>旧：<code># service http stop</code><br>新：<code># systemctl stop httpd</code></p>\n<p>【重启服务】<br>旧：<code># service http restart</code><br>新：<code># systemctl restart httpd</code></p>\n<p>【重新加载】<br>旧：<code># service http reload</code><br>新：<code># systemctl reload httpd</code></p>\n<p>【查看服务状态】<br>旧：<code># service httpd status</code><br>新：<code># systemctl status httpd</code></p>\n<p>【设置开机自启动】<br>旧：<code># chkconfig httpd on</code><br>新：<code># systemctl enable httpd</code></p>\n<p>【设置开机不自启动】<br>旧：<code># chkconfig httpd off</code><br>新：<code># systemctl disable httpd</code></p>\n<p>【检查服务状态】<br>旧：<code># chkconfig httpd</code><br>新：<code># systemctl is-enabled httpd</code></p>\n<p>【列举所有服务】<br>旧：<code># chkconfig list</code><br>新：<code># systemctl list-unit-files --type=service</code></p>\n</blockquote>\n<p>3.最后，我们进行防火墙设置</p>\n<blockquote>\n<p>注：SELinux(Security-Enhanced Linux) 是美国国家安全局（NSA）对于强制访问控制的实现，在这种访问控制体系的限制下，进程只能访问那些在他的任务中所需要文件。但是由于一般情况下没有对SELinux进行细致研究，不懂其中原理，可能还会对其他服务的使用造成影响，因此这里将其关闭。</p>\n</blockquote>\n<p>3.1 关闭内核防火墙。使用命令：<code># vi /etc/selinux/config</code>将SELINUX=enforcing 改成SELINUX=disabled<br>3.2 在iptables防火墙策略里设置网站运行的80端口和数据库的3306端口，使用命令：<code># vi /etc/sysconfig/iptables</code>添加以下2个记录：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-A INPUT -p tcp -m tcp --sport 1024:65534 --dport 3306 -j ACCEPT</span><br><span class=\"line\">-A INPUT -p tcp -m tcp --sport 1024:65534 --dport 80 -j ACCEPT</span><br></pre></td></tr></table></figure></p>\n<p>具体过程如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/5-0.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/5.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/6.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"MariaDB的安装与配置\"><a href=\"#MariaDB的安装与配置\" class=\"headerlink\" title=\"MariaDB的安装与配置\"></a>MariaDB的安装与配置</h2><blockquote>\n<p>注：MariaDB数据库管理系统是MySQL的一个分支，主要由开源社区在维护，采用GPL授权许可 MariaDB的目的是完全兼容MySQL，包括API和命令行，使之能轻松成为MySQL的代替品。在存储引擎方面，使用XtraDB（英语：XtraDB）来代替MySQL的InnoDB。 MariaDB由MySQL的创始人Michael Widenius（英语：Michael Widenius）主导开发，他早前曾以10亿美元的价格，将自己创建的公司MySQL AB卖给了SUN，此后，随着SUN被甲骨文收购，MySQL的所有权也落入Oracle的手中。MariaDB名称来自Michael Widenius的女儿Maria的名字。<br>　　Centos6或早期的版本中提供的是MySQL的服务器/客户端安装包，但Centos7已使用了MariaDB替代了默认的MySQL。因此本文后续给出的是MariaDB的安装与配置过程。</p>\n</blockquote>\n<ol>\n<li>使用如下命令安装MariaDB及相关组件：<br><code>yum install mariadb mariadb-server mariadb-libs</code><br>具体过程如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/7.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/9.png\" alt=\"\"></li>\n<li>设置MariaDB开机自启动并重启MariaDB服务<br><code># systemctl enable mariadb</code><br><code># systemctl restart mariadb</code><br>如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/13.png\" alt=\"\"></li>\n<li>配置MariaDB服务(主要是设置密码，用户账户等)<br><code># mysql_secure_installation</code><br>如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/10.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/11.png\" alt=\"\"><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/12.png\" alt=\"\"></li>\n</ol>\n<hr>\n<h2 id=\"PHP的安装与配置\"><a href=\"#PHP的安装与配置\" class=\"headerlink\" title=\"PHP的安装与配置\"></a>PHP的安装与配置</h2><ol>\n<li><p>使用如下命令安装PHP及相关组件：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install php php-mysql php-gd libjpeg* php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-bcmath php-mhash</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启之前安装完成的Apache httpd服务和MariaDB服务：<br><code># systemctl restart httpd</code><br><code># systemctl restart mariadb</code></p>\n</li>\n<li>Apache默认网站部署目录是/var/www/html，我们在里面创建index.php测试一下环境是否可以正常运行：<br>使用命令<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /var/www/html</span><br><span class=\"line\">vi index.php</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>内容如下：<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">  phpinfo();</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>4.在浏览器地址栏中输入<code>http://阿里云ECS主机ip/index.php</code>可以看到如下页面，说明安装配置成功。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/14.png\" alt=\"\"></p>\n<p>5.【可选】PHP的版本升级<br>　　如上图我们可以看到，PHP的版本是5.4.16。我在使用过程中，前期没有遇到什么问题。直到写图片上传服务之类的功能，在本地WAMPServer测试正常的代码部署到ECS后就会报错，错误如下：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/curlFile.png\" alt=\"\"><br>　　网上也查了一些解决方案，问题主要就是缺失curl这个类文件。提供的一些解决方案有单独编译安装这个类，再在php的配置文件中做extension，或者直接源码编译安装其他版本的PHP。感觉步骤较多，比较麻烦。因此选择了更换yum源直接升级高版本php(大于等于php5.5)：<br>  1.配置yum源:<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># yum install epel-release</span><br><span class=\"line\"># rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm</span><br></pre></td></tr></table></figure></p>\n<p>  2.安装php5.6:<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># yum install --enablerepo=remi --enablerepo=remi-php56 php php-opcache php-devel php-mbstring php-mcrypt php-mysqlnd php-phpunit-PHPUnit php-pecl-xdebug php-pecl-xhprof</span><br></pre></td></tr></table></figure></p>\n<p>  3.查看php版本，看是否安装成功：<br>  <code># php -v</code><br>  结果如下图：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/php5-6.png\" alt=\"\"><br>  此时再在线上环境进行测试，图片服务已经可以正常使用。</p>\n<hr>\n<h2 id=\"phpMyAdmin的安装与配置\"><a href=\"#phpMyAdmin的安装与配置\" class=\"headerlink\" title=\"phpMyAdmin的安装与配置\"></a>phpMyAdmin的安装与配置</h2><p>　　至此，我们已经具备了一套基本的LAMP环境，通过在“L”上进行部署，“A”提供http服务，运行“P”的php后台代码，使用“M”提供数据存储，基本实现一个网站的功能。这里还有一个小问题，使用mariadb的命令行进行数据管理十分不便，我们可以安装phpMyAdmin进行可视化管理。</p>\n<ol>\n<li>安装<br>使用命令：<br><code># yum install phpmyadmin php-mcrypt</code></li>\n<li><p>配置<br>使用命令：<br><code># vi /etc/httpd/conf.d/phpMyAdmin.conf</code><br>默认情况下，Centos7上的phpMyAdmin只允许从回环地址(127.0.0.1)访问。为了能远程连接，需要改动它的配置。我们要做的是<font color=\"red\">找出并注释掉带有”Require ip XXXX”字样的4处代码，用”Require all granted”取而代之。</font>内容如下:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># phpMyAdmin - Web based MySQL browser written in php</span><br><span class=\"line\">#</span><br><span class=\"line\"># Allows only localhost by default</span><br><span class=\"line\">#</span><br><span class=\"line\"># But allowing phpMyAdmin to anyone other than localhost should be considered</span><br><span class=\"line\"># dangerous unless properly secured by SSL</span><br><span class=\"line\"></span><br><span class=\"line\">Alias /phpMyAdmin /usr/share/phpMyAdmin</span><br><span class=\"line\">Alias /phpmyadmin /usr/share/phpMyAdmin</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;Directory /usr/share/phpMyAdmin/&gt;</span><br><span class=\"line\">   AddDefaultCharset UTF-8</span><br><span class=\"line\"></span><br><span class=\"line\">   &lt;IfModule mod_authz_core.c&gt;</span><br><span class=\"line\">     # Apache 2.4</span><br><span class=\"line\">     &lt;RequireAny&gt;</span><br><span class=\"line\">#       Require ip 127.0.0.1</span><br><span class=\"line\">#       Require ip ::1</span><br><span class=\"line\">        Require all granted</span><br><span class=\"line\">     &lt;/RequireAny&gt;</span><br><span class=\"line\">   &lt;/IfModule&gt;</span><br><span class=\"line\">   &lt;IfModule !mod_authz_core.c&gt;</span><br><span class=\"line\">     # Apache 2.2</span><br><span class=\"line\">     Order Deny,Allow</span><br><span class=\"line\">     Deny from All</span><br><span class=\"line\">     Allow from 127.0.0.1</span><br><span class=\"line\">     Allow from ::1</span><br><span class=\"line\">   &lt;/IfModule&gt;</span><br><span class=\"line\">&lt;/Directory&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;Directory /usr/share/phpMyAdmin/setup/&gt;</span><br><span class=\"line\">   &lt;IfModule mod_authz_core.c&gt;</span><br><span class=\"line\">     # Apache 2.4</span><br><span class=\"line\">     &lt;RequireAny&gt;</span><br><span class=\"line\">#       Require ip 127.0.0.1</span><br><span class=\"line\">#       Require ip ::1</span><br><span class=\"line\">        Require all granted</span><br><span class=\"line\">     &lt;/RequireAny&gt;</span><br><span class=\"line\">   &lt;/IfModule&gt;</span><br><span class=\"line\">   &lt;IfModule !mod_authz_core.c&gt;</span><br><span class=\"line\">     # Apache 2.2</span><br><span class=\"line\">     Order Deny,Allow</span><br><span class=\"line\">     Deny from All</span><br><span class=\"line\">     Allow from 127.0.0.1</span><br><span class=\"line\">     Allow from ::1</span><br><span class=\"line\">   &lt;/IfModule&gt;</span><br><span class=\"line\">&lt;/Directory&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"># These directories do not require access over HTTP - taken from the original</span><br><span class=\"line\"># phpMyAdmin upstream tarball</span><br><span class=\"line\">#</span><br><span class=\"line\">&lt;Directory /usr/share/phpMyAdmin/libraries/&gt;</span><br><span class=\"line\">    Order Deny,Allow</span><br><span class=\"line\">    Deny from All</span><br><span class=\"line\">    Allow from None</span><br><span class=\"line\">&lt;/Directory&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;Directory /usr/share/phpMyAdmin/setup/lib/&gt;</span><br><span class=\"line\">    Order Deny,Allow</span><br><span class=\"line\">    Deny from All</span><br><span class=\"line\">    Allow from None</span><br><span class=\"line\">&lt;/Directory&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;Directory /usr/share/phpMyAdmin/setup/frames/&gt;</span><br><span class=\"line\">    Order Deny,Allow</span><br><span class=\"line\">    Deny from All</span><br><span class=\"line\">    Allow from None</span><br><span class=\"line\">&lt;/Directory&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"># This configuration prevents mod_security at phpMyAdmin directories from</span><br><span class=\"line\"># filtering SQL etc.  This may break your mod_security implementation.</span><br><span class=\"line\">#</span><br><span class=\"line\">#&lt;IfModule mod_security.c&gt;</span><br><span class=\"line\">#    &lt;Directory /usr/share/phpMyAdmin/&gt;</span><br><span class=\"line\">#        SecRuleInheritance Off</span><br><span class=\"line\">#    &lt;/Directory&gt;</span><br><span class=\"line\">#&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>测试<br>安装完成后，我们可以通过<code>http://阿里云ECS主机ip/phpmyadmin</code>进行访问（注：这里默认使用的是主机ip默认端口，但当后续搭建了GitLab服务后，会产生端口冲突，需要修改Apache的默认端口，这在下一篇文章中遇到时会详细阐述。）<br>登录界面如下(注：用户名和密码就是上文配置MariaDB时设置的)：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/phpmyadmin.png\" alt=\"\"><br>主控制面板如下，在这里我们可以方便的新建数据库，数据表，查询，导入导出sql文件等等。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/phpmyadmin-panel.png\" alt=\"\"></p>\n</li>\n</ol>\n<hr>\n<h2 id=\"小结\"><a href=\"#小结\" class=\"headerlink\" title=\"小结\"></a>小结</h2><p>　　至此，我们就建立了一套完整的LAMP开发环境，并具备了数据库管理工具。<br>　　现在我们就可以将新建的项目工程文件夹放在/var/www/html目录下，通过<code>http://主机ip:port/project/index.php</code>进行访问了。</p>\n<blockquote>\n<p>这时可能会遇到一个问题，就是访问后页面报错，在Linux系统下网站根目录权限755;权限不足导致访问失败。这时只要更该相关目录权限即可解决，主要&gt;是Application目录（使用thinkphp框架的工程中的一个目录），如果还不行可以尝试扩大更改权限的范围，但风险随之增大，应注意控制。</p>\n</blockquote>\n<p>这样的LAMP开发环境有以下几个作用和好处：</p>\n<ol>\n<li>开发阶段：使用Git进行版本控制，GitLab进行代码跟踪与持续集成</li>\n<li>测试阶段：为测试人员提供最新的版本进行问题跟踪与反馈；为APP端提供接口API测试环境</li>\n<li>运行阶段：提供给用户进行使用</li>\n</ol>\n"},{"title":"JavaScript的闭包案例---2","url":"http://www.gcidea.info/welcome-to-this-page/2016/04/26/js-closure-2/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　接续之前的一篇<a href=\"http://gcidea.info/2016/04/19/JavaScript-closure/\" target=\"_blank\" rel=\"external\">JavaScript的闭包案例—1</a>，加深对《JavaScript权威指南》P187的理解。</p>\n<hr>\n<h2 id=\"描述\"><a href=\"#描述\" class=\"headerlink\" title=\"描述\"></a>描述</h2><p>　　使用闭包，可以实现共享私有状态，实现私有存取器属性。本质上就是在同一个作用域链上定义了两个或多个闭包，来共享同样的私有变量。这是十分重要的一种应用，但是要十分小心因为这种做法将那些本不希望共享的变量共享给了其他闭包，这会造成严重的错误并让我们不解。<br>　　假设有这样的需求：需要一个函数对象数组（数组每一项是一个函数），对于某个确定的数组元素，调用之可以返回数组下标。<br>　　“看似正确”的做法如下：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> funcs = [];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">10</span>;i++)&#123;</span><br><span class=\"line\">    funcs[i] = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"keyword\">return</span> i;&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(funcs[<span class=\"number\">5</span>]()); <span class=\"comment\">//10</span></span><br></pre></td></tr></table></figure></p>\n<p>　　正如注释所写，很奇怪的，将打印输出10而并不是5。原因就在于：在循环中，定义了10个函数（对应有自己的作用域链），也就形成了10个闭包，这些闭包都是在同一个函数调用中定义的，因此共享作用域，共享变量i。for循环结束的条件是i&gt;=10。也就是说，当代码执行完成跳出for循环时，i的值是10。而这10个闭包的<code>return i;</code>所使用的正是这个共享的变量i，也就是10。因此，<code>funcs[0]();</code>~<code>funcs[9]();</code>执行的结果都是10。</p>\n<p>　　对此，引用书上一句话进行总结：</p>\n<blockquote>\n<p>关联到闭包的作用域链都是活动的，记住这一点非常重要。嵌套的函数不会将作用域内的私有成员复制一份，也不会对所绑定的变量生成静态快照（static snapshot）—而是共享了作用域变量。</p>\n</blockquote>\n<p>对于上述需求，可采用以下两种方式解决：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Created by gaochang on 2016/5/30.</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> funcs = [];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">10</span>;i++)&#123;</span><br><span class=\"line\">    funcs[i] = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">v</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> v;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;(i));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(funcs[<span class=\"number\">5</span>]()); <span class=\"comment\">//5</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>以上方法用到了JavaScript中的“立即执行函数”的概念。注意这里<code>funcs[i] = (function(v){</code>这行的function左边的(括号是非常重要的。如果不写这个左圆括号，JavaScript解释器会尝试将关键字function解析为函数声明语句。只有用了左圆括号，才会正确将其解析为函数定义表达式，这在区分概念上很重要（注：试了一下，其实不写圆括号，结果也是对的，，但是尽管有时候没有必要也不应省略，这是习惯用法。）而一旦正确解析为函数定义表达式，也就相当于创建了新的闭包。匿名函数内的v外界不可访问，是独立的作用域，此时写为立即执行函数（传入i并执行），返回值就是正确无误的i,而不会是上述的10。</p>\n</blockquote>\n<p>或者</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * Created by gaochang on 2016/5/30.</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">constfunc</span>(<span class=\"params\">v</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> funcs = [];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">10</span>;i++)&#123;</span><br><span class=\"line\">    funcs[i] = constfunc(i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(funcs[<span class=\"number\">5</span>]());</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这种写法中，将对数组每个元素进行赋值的函数抽离出来，结构清晰的同时，也实现了函数作用域的转化（不在for循环内），也就是闭包范围的变化。这样，每次调用函数时，就创建了一个新的作用域链和新的私有变量，互相不会影响。</p>\n</blockquote>\n"},{"title":"JavaScript的闭包案例---1","url":"http://www.gcidea.info/welcome-to-this-page/2016/04/16/JavaScript-closure/","content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p>　　闭包是JavaScript中的一个重要概念。<br>　　JavaScript采用词法作用域，函数的执行依赖于变量作用域，这个作用域是在函数定义时决定的，而不是函数调用时决定的。函数对象可以通过作用域链相互关联起来，函数体内部的变量都可以保存在函数作用域内，这就是闭包的特性。<br>  <a id=\"more\"></a></p>\n<h2 id=\"实际场景\"><a href=\"#实际场景\" class=\"headerlink\" title=\"实际场景\"></a>实际场景</h2><p>　　在完成一个小demo时，正巧遇到了这个问题。先说一下这个demo要实现的基本功能吧。要求能让用户输入城市名称和对应的空气质量指数（输入的名称和指数都要做表单验证），输入完成后点击确定，将合法的数据显示在本页的列表中，可以增加多条记录。并且已添加的数据可以逐条删除。这里仅从功能展示，没有使用css美化页面：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/demo-index.png\" alt=\"\"><br>　　在做删除功能时，按着想法先写了一遍，进行实际测试时候发现一个问题：对于最后一列的删除按钮，无论点击哪一个，都是列表中最后一条数据被删除了。<br>　　开始代码是这样写的：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * 渲染aqi-table表格</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">renderAqiList</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> aqiTable = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"aqi-table\"</span>);</span><br><span class=\"line\">    aqiTable.innerHTML = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> t_row = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"tr\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> t_city = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"td\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> t_score = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"td\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> t_oper = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"td\"</span>);</span><br><span class=\"line\">    t_city.innerHTML = <span class=\"string\">\"城市\"</span>;</span><br><span class=\"line\">    t_score.innerHTML = <span class=\"string\">\"空气质量\"</span>;</span><br><span class=\"line\">    t_oper.innerHTML = <span class=\"string\">\"操作\"</span>;</span><br><span class=\"line\">    t_row.appendChild(t_city);</span><br><span class=\"line\">    t_row.appendChild(t_score);</span><br><span class=\"line\">    t_row.appendChild(t_oper);</span><br><span class=\"line\">    aqiTable.appendChild(t_row);</span><br><span class=\"line\">    <span class=\"comment\">//遍历对象中所有属性渲染表格</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> name <span class=\"keyword\">in</span> aqiData)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> newLi = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"tr\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> cityName = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"td\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> score = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"td\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> oper = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"td\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> delBtn = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"button\"</span>);</span><br><span class=\"line\">        cityName.innerHTML = name;</span><br><span class=\"line\">        score.innerHTML = aqiData[name];</span><br><span class=\"line\">        delBtn.innerHTML = <span class=\"string\">\"删除\"</span>;</span><br><span class=\"line\">        delBtn.setAttribute(<span class=\"string\">\"city\"</span>, name);</span><br><span class=\"line\">        delBtn.onclick = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">                delBtnHandle(name);</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        oper.appendChild(delBtn);</span><br><span class=\"line\">        newLi.appendChild(cityName);</span><br><span class=\"line\">        newLi.appendChild(score);</span><br><span class=\"line\">        newLi.appendChild(oper);</span><br><span class=\"line\">        aqiTable.appendChild(newLi);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>　　其中最关键的是给删除按钮绑定事件：</p>\n<blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">delBtn.onclick = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        delBtnHandle(name);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>　　这种做法想当然的认为，只要发生click事件时候，调用delBtnHandle()函数，并把要删除城市对应的name参数传递过去就好了，但在js中并不是这么执行的，这就要考虑到闭包的概念了。换做如下写法，问题就得到了解决。</p>\n<blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*难点：js闭包的运用，防止出现以下错误：for循环时动态绑定，使得onclick</span><br><span class=\"line\"> 事件需要的name只能取到最后一个值而不是每一次遍历*/</span></span><br><span class=\"line\">delBtn.onclick = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">asd</span>) </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     delBtnHandle(asd);</span><br><span class=\"line\">　　　&#125;</span><br><span class=\"line\">&#125;(name);</span><br></pre></td></tr></table></figure>\n</blockquote>\n"},{"title":"JavaScript内存泄漏","url":"http://www.gcidea.info/welcome-to-this-page/2016/04/07/JavaScript-memory-leak/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2>"},{"title":"HTML转义字符","url":"http://www.gcidea.info/welcome-to-this-page/2016/03/18/html-character-entity/","content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p>　　HTML转义字符又称字符实体。一些字符在HTML中有特殊的含义，比如小于号”&lt;”已经用于定义HTML标签的开始。而这些标签在渲染出的html页面是不会显示出来的，如果我们希望浏览器正确地显示这些字符，我们必须在HTML源码中插入字符实体。<br>　　字符实体有三部分,而且有两种写法：<br>  <a id=\"more\"></a></p>\n<ol>\n<li>一个和号(&amp;) + 一个实体名称 +　一个分号(;)</li>\n<li><p>一个和号与一个井号(&amp;#) + 一个实体编号 +　一个分号(;)</p>\n<p>比如，要在HTML文档中显示小于号，需要这样写：<code>&amp;lt;</code> 或者 <code>&amp;#60;</code></p>\n<blockquote>\n<p>使用实体名称的好处：名称相对来说更容易记忆。<br>使用实体名称的坏处：并不是所有的浏览器都支持最新的实体名称，然而几乎所有的浏览器对实体编号的支持都很好。<br>注意：实体对大小写敏感。</p>\n</blockquote>\n</li>\n</ol>\n<h2 id=\"最常用的字符实体\"><a href=\"#最常用的字符实体\" class=\"headerlink\" title=\"最常用的字符实体\"></a>最常用的字符实体</h2><table>\n<thead>\n<tr>\n<th>显示</th>\n<th>说明</th>\n<th>实体名称</th>\n<th>实体编号</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>半方大的空白</td>\n<td><code>&amp;ensp;</code></td>\n<td><code>&amp;#8194;</code></td>\n</tr>\n<tr>\n<td></td>\n<td>全方大的空白</td>\n<td><code>&amp;emsp;</code></td>\n<td><code>&amp;#8195;</code></td>\n</tr>\n<tr>\n<td></td>\n<td>不断行的空白格</td>\n<td><code>&amp;nbsp;</code></td>\n<td><code>&amp;#160;</code></td>\n</tr>\n<tr>\n<td>&lt;</td>\n<td>小于</td>\n<td><code>&amp;lt;</code></td>\n<td><code>&amp;#60;</code></td>\n</tr>\n<tr>\n<td>&gt;</td>\n<td>大于</td>\n<td><code>&amp;gt;</code></td>\n<td><code>&amp;#62;</code></td>\n</tr>\n<tr>\n<td>&amp;</td>\n<td>&amp;符号</td>\n<td><code>&amp;amp;</code></td>\n<td><code>&amp;#38;</code></td>\n</tr>\n<tr>\n<td>“</td>\n<td>双引号</td>\n<td><code>&amp;quot;</code></td>\n<td><code>&amp;#34;</code></td>\n</tr>\n<tr>\n<td>©</td>\n<td>版权</td>\n<td><code>&amp;copy;</code></td>\n<td><code>&amp;#169;</code></td>\n</tr>\n<tr>\n<td>®</td>\n<td>已注册商标</td>\n<td><code>&amp;reg;</code></td>\n<td><code>&amp;#174;</code></td>\n</tr>\n<tr>\n<td>™</td>\n<td>商标（美国）</td>\n<td><code>&amp;trade;</code></td>\n<td><code>&amp;#8482;</code></td>\n</tr>\n<tr>\n<td>×</td>\n<td>乘号</td>\n<td><code>&amp;times;</code></td>\n<td><code>&amp;#215;</code></td>\n</tr>\n<tr>\n<td>÷</td>\n<td>除号</td>\n<td><code>&amp;divide;</code></td>\n<td><code>&amp;#247;</code></td>\n</tr>\n<tr>\n<td>/</td>\n<td>正斜线</td>\n<td></td>\n<td><code>&amp;#47;</code></td>\n</tr>\n</tbody>\n</table>\n"},{"title":"【首篇】记录本博客www.gcidea.info的搭建过程","url":"http://www.gcidea.info/welcome-to-this-page/2016/03/16/2016-03-16-my-first-blog/","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>　　在探索各类技术的道路上，我从无数大神的博客中学到了很多东西。这些博文中往往都是大家在实践过程中遇到的各类问题最真实的反映和汇总，因此有很强的参考性。<br>　　但同时，由于环境、版本、配置等等方面的不同，一些问题在每个人面前又有着不同的具体表现，让人摸不着头脑。因此，我也十分乐意分享出一些自己的经验，让大家在遇到问题时多一些尝试办法。当然，能做到这一点自然是最好了，更多的，我是想借用这样一个平台记录自己在技术学习过程中的点点滴滴，是一种总结，也是一种约束。<br>　　平台的选择考虑过CSDN，博客园等，可以有更多的人交流。但反而一想，搭建博客本身就是一次探索尝试的过程，因此我选择最终选择了“自己动手”，同时，在一个相对安静的环境中，也好“修炼”自己。<br>  <a id=\"more\"></a></p>\n<hr>\n<h2 id=\"关键词\"><a href=\"#关键词\" class=\"headerlink\" title=\"关键词\"></a>关键词</h2><p><strong> github | git | node.js | hexo | 域名</strong></p>\n<hr>\n<h2 id=\"托管服务器\"><a href=\"#托管服务器\" class=\"headerlink\" title=\"托管服务器\"></a>托管服务器</h2><p>　　要搭建一个在公网可访问的博客，必须具备稳定可靠的服务器，现在有阿里云之类的不少选择，而我最终选择了使用github提供的Github Pages，这也符合github推出该项服务的宗旨。<br>　　选择Github Pages，自然要先有一个github账号，关于账号注册相关的内容，网上有大量资源供大家参考。这里就说明几个要点：</p>\n<ol>\n<li>在自己的账号下新建的Github Pages仓库，其仓库名一定要和github账号一致。<br>比如，用户名为：1qaz，则仓库命名为： 1qaz.github.io　如下图所示：<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/repo_name.png\" alt=\"\"></li>\n<li>建立好该仓库后，选择Settings，按默认设置即可，<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/settings.png\" alt=\"\"><br>选择“Launch automatic page generator”,按照自己的需求填写Tagline,Body等内容，<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/launch.png\" alt=\"\"><br>选择“continue to layouts”,<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/continue.png\" alt=\"\"><br>再在页面上方选择一个自己喜欢的主题即可（这里可以随便选一个主题，我们还使用hexo提供的更为丰富的主题，后续会说明），这时候点击“Publish page”,一个最基本的个人页面就生成了。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/publish.png\" alt=\"\"></li>\n</ol>\n<hr>\n<h2 id=\"Git的安装与使用\"><a href=\"#Git的安装与使用\" class=\"headerlink\" title=\"Git的安装与使用\"></a>Git的安装与使用</h2><p>　　关于Git与Github的关系，是一个老生常谈的问题了，不必多说。<br>　　我是在Windows上完成这个过程的，推荐使用msysgit，它是Windows版的Git，从<code>http://msysgit.github.io/</code>下载，然后按默认选项安装即可。安装成功后，可以在桌面右键选择“Git Bash Here”，打开一个类似于cmd的窗口如下图。<br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/git.png\" alt=\"\"><br>通过以下命令配置一下自己的git账户。<br>例如用户名为：1qaz 邮箱为1qaz@example.com，则配置如下：<br><code>git config --global user.name &quot;1qaz&quot;</code><br><code>git config --global user.email &quot;1qaz@example.com&quot;</code><br>想更多了解以上过程，推荐参考<a href=\"http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137396287703354d8c6c01c904c7d9ff056ae23da865a000\" target=\"_blank\" rel=\"external\">廖雪峰的官方网站-git教程</a></p>\n<hr>\n<h2 id=\"建立本地与服务器之间的ssh连接\"><a href=\"#建立本地与服务器之间的ssh连接\" class=\"headerlink\" title=\"建立本地与服务器之间的ssh连接\"></a>建立本地与服务器之间的ssh连接</h2><p>　　写博客的过程自然是在本地完成内容后，将其推动到github的仓库中（不要担心，这个完整的过程是重头戏，稍候会详细说明）。这个推送的过程，每次都会弹窗提示你输入github账户的用户名和密码，很不方便。对此，github为我们提供了SSH KEYS服务，我们只要将本地的公钥手动添加到github账户的“Personal settings-SSH keys”中即可。<br>　　怎么生成这个公钥呢？<br>　　打开刚刚我们安装提到的“Git Bash”，输入以下命令：<br><code>ssh-keygen -t rsa -C &quot;1qaz@example.com&quot;</code><br>对于之后的提示全按回车即可。之后，进入系统盘用户(user)目录下找到.ssh目录，其中有id_rsa和id_rsa.pub两个文件，这就是SSH Keys秘钥对，id_rsa是私钥，id_rsa.pub是公钥。我们打开公钥这个文件，将其中的内容全部复制，粘贴到github账户的“Personal settings-SSH keys”中即可。这样，对于之后所有的推送请求，github账户能够识别出“你是谁”，从而有相应权限，不必每次输入用户名和密码。</p>\n<hr>\n<h2 id=\"安装Node-js\"><a href=\"#安装Node-js\" class=\"headerlink\" title=\"安装Node.js\"></a>安装Node.js</h2><p>　　为何需要安装这个环境呢？<br>　　因为我们后面需要用到博客框架Hexo，而这是一个基于node.js技术开发的一个纯静态博客系统，因此自然需要Node.js的运行环境。<br>　　安装起来并不费力。直接从官网或者国内镜像下载安装包安装即可。在Windows下安装时务必勾选全部组件。一步步next安装完成之后，测试一下，在cmd窗口输入<code>node -v</code>，若提示相应版本号,则说明安装成功。<br>　　顺便提一下，npm是Node.js的一个包管理工具，我们在后面安装Hexo时候会用到，不过这个工具已经在安装Node环境时安装好了，我们只要测试一下能用即可。<br>　　输入<code>npm -v</code>，若提示相应版本号,则说明安装成功。<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/node_npm.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"博客框架Hexo的安装、部署、配置、使用、更换主题\"><a href=\"#博客框架Hexo的安装、部署、配置、使用、更换主题\" class=\"headerlink\" title=\"博客框架Hexo的安装、部署、配置、使用、更换主题\"></a>博客框架Hexo的安装、部署、配置、使用、更换主题</h2><p>　　经过之前的过程，我们已经做好了各项准备工作，有了一个博客的首页，同时为后续更新博文做好了准备。但之前也提到过，github提供的主题是有限的，同时，博客是一个我们用来记录自己思考学习的地方，就这一点来讲，我们应该将精力集中在博客内容本身上。因此，我们需要有一套机制来帮助我们简化博文更新维护，博客页面样式美化等操作，这就是我使用Hexo的原因。</p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>  从github上的Hexo首页<a href=\"https://github.com/hexojs/hexo\" target=\"_blank\" rel=\"external\">https://github.com/hexojs/hexo</a>我们可以看到Hexo的相关介绍。<br>  在Windows平台上安装方法如下：<br>  打开cmd窗口，使用以下命令：<br>  <code>npm install hexo-cli -g</code><br>  即可完成安装（该过程可能较慢，需要稍等待一段时间）。</p>\n<h3 id=\"部署\"><a href=\"#部署\" class=\"headerlink\" title=\"部署\"></a>部署</h3><p>  部署也很简单，选择一个合适的位置，新建一个文件夹Hexo,在该文件夹中右键“Git Bash Here”，使用以下命令：<br>  <code>hexo init</code><br>  就会在该文件夹中创建所需的全部文件。如下图：<br>  <img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/hexodir.png\" alt=\"\"></p>\n<h3 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h3><p>  Hexo的使用还是很简单的，首先我们要进行相关配置，打开上图中的<code>_config.yml</code>文件，对其中主要的配置说明如下：<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  </span><br><span class=\"line\">## Docs: https://hexo.io/docs/configuration.html 【hexo的文档】</span><br><span class=\"line\">## Source: https://github.com/hexojs/hexo/ 【hexo的资源地址】</span><br><span class=\"line\">            </span><br><span class=\"line\"># Site</span><br><span class=\"line\">title: &quot;GCidea&apos;s blog&quot; 【博客首页的一级标题】</span><br><span class=\"line\">subtitle: &quot;gaochang | BUPT&quot; 【博客首页的二级标题】</span><br><span class=\"line\">description: &quot;gaochang | BUPT&quot; 【博客的描述内容】</span><br><span class=\"line\">author: &quot;Gao Chang&quot; 【作者】</span><br><span class=\"line\">language: zh-CN 【语言支持】</span><br><span class=\"line\">email: gaochang@ebupt.com 【联系邮箱】</span><br><span class=\"line\">timezone:</span><br><span class=\"line\"></span><br><span class=\"line\"># URL</span><br><span class=\"line\">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</span><br><span class=\"line\">url: http://yoursite.com</span><br><span class=\"line\">root: / 【根目录】</span><br><span class=\"line\">permalink: :year/:month/:day/:title/</span><br><span class=\"line\">permalink_defaults:</span><br><span class=\"line\"></span><br><span class=\"line\"># Directory</span><br><span class=\"line\">source_dir: source</span><br><span class=\"line\">public_dir: public</span><br><span class=\"line\">tag_dir: tags</span><br><span class=\"line\">archive_dir: archives</span><br><span class=\"line\">category_dir: categories</span><br><span class=\"line\">code_dir: downloads/code</span><br><span class=\"line\">i18n_dir: :lang</span><br><span class=\"line\">skip_render:</span><br><span class=\"line\"></span><br><span class=\"line\"># Archives</span><br><span class=\"line\">## 2: Enable pagination</span><br><span class=\"line\">## 1: Disable pagination</span><br><span class=\"line\">## 0: Fully Disable</span><br><span class=\"line\">archive: 1 【设置为1是全部展示，不折叠】</span><br><span class=\"line\">category: 1</span><br><span class=\"line\">tag: 1</span><br><span class=\"line\"></span><br><span class=\"line\"># Writing</span><br><span class=\"line\">new_post_name: :title.md # File name of new posts</span><br><span class=\"line\">default_layout: post</span><br><span class=\"line\">titlecase: false # Transform title into titlecase</span><br><span class=\"line\">external_link: true # Open external links in new tab</span><br><span class=\"line\">filename_case: 0</span><br><span class=\"line\">render_drafts: false</span><br><span class=\"line\">post_asset_folder: false</span><br><span class=\"line\">relative_link: false</span><br><span class=\"line\">future: true</span><br><span class=\"line\">highlight: </span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  line_number: true</span><br><span class=\"line\">  auto_detect: false</span><br><span class=\"line\">  tab_replace:</span><br><span class=\"line\"></span><br><span class=\"line\"># Category &amp; Tag</span><br><span class=\"line\">default_category: uncategorized</span><br><span class=\"line\">category_map: </span><br><span class=\"line\">tag_map: </span><br><span class=\"line\"></span><br><span class=\"line\"># Date / Time format</span><br><span class=\"line\">## Hexo uses Moment.js to parse and display date</span><br><span class=\"line\">## You can customize the date format as defined in</span><br><span class=\"line\">## http://momentjs.com/docs/#/displaying/format/</span><br><span class=\"line\">date_format: YYYY-MM-DD</span><br><span class=\"line\">time_format: HH:mm:ss</span><br><span class=\"line\"></span><br><span class=\"line\"># Pagination</span><br><span class=\"line\">## Set per_page to 0 to disable pagination</span><br><span class=\"line\">per_page: 10</span><br><span class=\"line\">pagination_dir: page</span><br><span class=\"line\"></span><br><span class=\"line\"># Extensions</span><br><span class=\"line\">## Plugins: https://hexo.io/plugins/</span><br><span class=\"line\">## Themes: https://hexo.io/themes/</span><br><span class=\"line\">theme: jacman 【所选的Hexo主题，默认的是landscape，这里我换成了jacman，稍后会说明】</span><br><span class=\"line\"></span><br><span class=\"line\"># Deployment</span><br><span class=\"line\">## Docs: https://hexo.io/docs/deployment.html</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">  type: git 【部署类型】</span><br><span class=\"line\">  repository: https://github.com/gcidea/gcidea.github.io.git 【自己所建立的github page仓库地址】</span><br><span class=\"line\">  branch: master 【部署到master分支】</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>以上修改中要特别注意：<br>修改_config.yml文件，其中type需要指明为git 而不是github<br>修改之后，直接hexo generate–hexo deploy是会报错的，提示的错误是<code>depolyer:git not found</code><br>这时需要在git bash中输入以下命令来明确保存depolyer:<br><code>npm install hexo-deployer-git --save</code></p>\n</blockquote>\n<h3 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h3><p>经过以上过程，我们就有了一个写博客的环境了~<br>在hexo的文件夹下，输入以下命令：<br><code>hexo new &#39;a_new_blog&#39;</code><br><img src=\"http://7xrz3r.com1.z0.glb.clouddn.com/hexo_new_blog.png\" alt=\"\"><br>就会在_posts目录下创建一个.md的博客文件。说到这里，自然要提到markdown了，hexo很好地支持markdown语言，而且由于markdown简单的语法，使用起来十分方便，关于markdown语法的介绍网上有很多，这里就不赘述了。</p>\n<h3 id=\"更换主题\"><a href=\"#更换主题\" class=\"headerlink\" title=\"更换主题\"></a>更换主题</h3><p>　　默认的主题是landscape，插件或者页面效果不是那么丰富，hexo提供了<a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"external\">很多主题https://hexo.io/themes/</a>供大家选择，我这里选用了jacman主题，是经过优化的pacman主题。<br>　　主题更换方法：<br>在hexo文件夹的themes文件夹下新建jacman文件夹，在jacman文件夹中右键选择“Git Bash Here”，输入以下命令：<br><code>git clone https://github.com/wuchong/jacman.git</code><br>就完成了主题文件的下载；其次，在上文提到的_config.yml文件中，将“theme”一项配置为“jacman”即可。<br>通过以上过程，我们就可以顺利地进行日常博客的写作了。</p>\n<hr>\n<h2 id=\"Jacman主题的配置\"><a href=\"#Jacman主题的配置\" class=\"headerlink\" title=\"Jacman主题的配置\"></a>Jacman主题的配置</h2><p>　　Jacman提供了丰富的插件，在该主题文件夹下的_config.yml中进行配置，有github名片、友情链接、知乎、新浪微博、微博秀等等，配置的方法都很简单，基本上就是去相应网站登录自己的账户，将自己的用户ID之类的标识配置在该文件中即可。</p>\n<hr>\n<h2 id=\"域名绑定\"><a href=\"#域名绑定\" class=\"headerlink\" title=\"域名绑定\"></a>域名绑定</h2><p>　　这个可以说是一个可选择的步骤，我们经过上面一大堆工作建立的github pages本身已经可以通过<code>http://gcidea.github.io</code>访问了，设定域名是一个个性化的过程。<br>　　域名注册商的选择，国内国外都有，本来在GoDaddy（狗爹）上购买，无奈不知怎的支付宝支付始终不成功，就这样，我使用了阿里旗下的万网，效果也很不错。域名注册后，域名解析的过程在阿里云的用户中心中有很详细的说明，参照这个操作就好了。主要要搞清A记录还有CNAME记录的区别和作用。<br>　　A类地址指向的IP其实是github pages的一个公共IP，而域名之所以能明确地和你个人的主页对应起来，还需要在github pages仓库下做一下配置：<br>  新建一个名称为CNAME的文件，在其中只写一行：gcidea.info，这样当域名解析至github pages的IP时，github就可以通过你的域名和索引的全部用户的CNAME文件进行匹配，从而找到你的主页。</p>\n<hr>\n<hr>\n<h2 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h2><p>说了这么多，基本上就是博客搭建的整个过程了。这其中遇到了很多问题，也在网上参考了很多别人的经验，在此表示感谢。其中还有很多一笔带过的地方，每个地方展开说可能都是一篇文章，都值得我们仔细思考。</p>\n"},{"title":"开源组件","url":"http://www.gcidea.info/open-source/index.html","content":"<p>## </p>\n"},{"title":"tags","url":"http://www.gcidea.info/tags/index.html","content":""},{"title":"categories","url":"http://www.gcidea.info/categories/index.html","content":""},{"title":"关于我","url":"http://www.gcidea.info/about/index.html","content":"<center><font color=\"lightskyblue\">记录点滴，修炼自己。</font></center>\n\n<hr>\n<h3 id=\"点击查看在线简历\"><a href=\"#点击查看在线简历\" class=\"headerlink\" title=\"点击查看在线简历\"></a><a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"external\">点击查看在线简历</a></h3><hr>\n<h2 id=\"教育经历\"><a href=\"#教育经历\" class=\"headerlink\" title=\"教育经历\"></a>教育经历</h2><p>硕士：北京邮电大学 网络技术研究院 网络与交换技术国家重点实验室 网络智能研究中心<br>　　　<font color=\"#2ca6cb\"><a href=\"http://int.bupt.edu.cn/content/content.php?p=2_6_10\" target=\"_blank\" rel=\"external\">Network Intelligence Research Center,<br>　　　State Key Laboratory of Networking And Switching Technology,<br>　　　Institute of Network Technology,<br>　　　BUPT</a></font><br>本科：北京邮电大学 电子工程学院<br>　　　<font color=\"#2ca6cb\"><a href=\"http://see.bupt.edu.cn/\" target=\"_blank\" rel=\"external\">School of Electronic Engineering,<br>　　　BUPT</a></font></p>\n<hr>\n<h2 id=\"联系方式\"><a href=\"#联系方式\" class=\"headerlink\" title=\"联系方式\"></a>联系方式</h2><p>email: gaochang.gcidea@gmail.com<br>WeChat: gaochang932372<br><img src=\"\" alt=\"\"></p>\n"}]